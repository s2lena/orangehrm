(function(e){function t(t){for(var o,l,i=t[0],c=t[1],d=t[2],s=0,m=[];s<i.length;s++)l=i[s],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={app:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"01f0":function(e,t,n){"use strict";n("21fb")},"0306":function(e,t,n){},"0327":function(e,t,n){"use strict";n("da8c")},"0413":function(e,t,n){},"041f":function(e,t,n){"use strict";n("27d4")},"0706":function(e,t,n){},"0793":function(e,t,n){"use strict";n("91da")},"07ec":function(e,t,n){},"0a49":function(e,t,n){},"0ab1":function(e,t,n){"use strict";n("2770")},"0b18":function(e,t,n){},"0e11":function(e,t,n){"use strict";n("0306")},"0f0a":function(e,t,n){},"0ffb":function(e,t,n){},1134:function(e,t,n){"use strict";n("9229")},1168:function(e,t,n){"use strict";n("fc1a")},"151b":function(e,t,n){},1670:function(e,t,n){"use strict";n("83f2")},"16f6":function(e,t,n){},1727:function(e,t,n){"use strict";n("d387")},1789:function(e,t,n){},"17ee":function(e,t,n){},"1c19":function(e,t,n){},"1dec":function(e,t,n){"use strict";n("f1c0")},"1f4d":function(e,t,n){"use strict";n("5b7a")},"1f76":function(e,t,n){},"1fbe":function(e,t,n){},2163:function(e,t,n){"use strict";n("badf")},"21fb":function(e,t,n){},2247:function(e,t,n){"use strict";n("89ed")},"22a8":function(e,t,n){"use strict";n("7ba4")},"22ca":function(e,t,n){"use strict";n("2dd3")},"22e3":function(e,t,n){"use strict";n("ca80")},"24ed":function(e,t,n){},"250e":function(e,t,n){"use strict";n("36a6")},"25e7":function(e,t,n){},2770:function(e,t,n){},"27d4":function(e,t,n){},"28ee":function(e,t,n){"use strict";n("3e1b")},"29a0":function(e,t,n){},"29d5":function(e,t,n){},"2c66":function(e,t,n){},"2d38":function(e,t,n){},"2d80":function(e,t,n){"use strict";n("56a5")},"2dd3":function(e,t,n){},"2ecc":function(e,t,n){"use strict";n("74d3")},"2f72":function(e,t,n){},"2fda":function(e,t,n){},"304b":function(e,t,n){},"312e":function(e,t,n){},3208:function(e,t,n){"use strict";n("74b7")},"33e9":function(e,t,n){"use strict";n("bfe7")},3503:function(e,t,n){"use strict";n("e970")},"35d7":function(e,t,n){},"35db":function(e,t,n){},"35f5":function(e,t,n){"use strict";n("53b9")},"36a6":function(e,t,n){},"37a6":function(e,t,n){"use strict";n("d209")},"38e9":function(e,t,n){"use strict";n("1789")},3951:function(e,t,n){},"39d2":function(e,t,n){"use strict";n("0413")},"39f7":function(e,t,n){"use strict";n("9d76")},"3a4a":function(e,t,n){},"3cba":function(e,t,n){"use strict";n("0a49")},"3e1b":function(e,t,n){},"3e86":function(e,t,n){},"3f0b":function(e,t,n){},"414c":function(e,t,n){},"44e2":function(e,t,n){},"454a":function(e,t,n){},4605:function(e,t,n){"use strict";n("cca6")},4819:function(e,t,n){},4886:function(e,t,n){},4990:function(e,t,n){},"4ae8":function(e,t,n){"use strict";n("cef8")},"4b50":function(e,t,n){},"4d2e":function(e,t,n){},"4f02":function(e,t,n){"use strict";n("605e")},5085:function(e,t,n){"use strict";n("3a4a")},"52b3":function(e,t,n){"use strict";n("b652")},"53a9":function(e,t,n){},"53b9":function(e,t,n){},"56a5":function(e,t,n){},"5ab8":function(e,t,n){},"5abb":function(e,t,n){"use strict";n("1f76")},"5af1":function(e,t,n){"use strict";n("17ee")},"5b15":function(e,t,n){},"5b7a":function(e,t,n){},"5e6d":function(e,t,n){"use strict";n("25e7")},"5ee6":function(e,t,n){"use strict";n("0ffb")},"5f7e":function(e,t,n){"use strict";n("4990")},"605e":function(e,t,n){},"651c":function(e,t,n){"use strict";n("f3d3")},6533:function(e,t,n){"use strict";n("414c")},6925:function(e,t,n){},6945:function(e,t,n){"use strict";n("bbaf")},"6bd0":function(e,t,n){"use strict";n("9ef4")},"6bf5":function(e,t,n){},"6dc0":function(e,t,n){},"6de9":function(e,t,n){"use strict";n("5ab8")},"6e79":function(e,t,n){"use strict";n("b5db")},"6e92":function(e,t,n){},"6f06":function(e,t,n){"use strict";n("29d5")},"6fa6":function(e,t,n){"use strict";n("e195")},"70fb":function(e,t,n){"use strict";n("07ec")},7224:function(e,t,n){"use strict";n("6bf5")},"73b1":function(e,t,n){"use strict";n("fbc0")},"73d8":function(e,t,n){"use strict";n("b1ec")},"74a0":function(e,t,n){"use strict";n("9568")},"74b7":function(e,t,n){},"74d3":function(e,t,n){},7612:function(e,t,n){},"7a38":function(e,t,n){"use strict";n("1c19")},"7a7b":function(e,t,n){"use strict";n("304b")},"7ba4":function(e,t,n){},"7d05":function(e,t,n){},8042:function(e,t,n){"use strict";n("0706")},"809c":function(e,t,n){"use strict";n("53a9")},8158:function(e,t,n){},"83f2":function(e,t,n){},8440:function(e,t,n){"use strict";n("b982")},"852a":function(e,t,n){},"854d":function(e,t,n){},"854f":function(e,t,n){"use strict";n("b007")},"88b0":function(e,t,n){"use strict";n("efd3")},"88f6":function(e,t,n){"use strict";n("6dc0")},"89ed":function(e,t,n){},"8cb9":function(e,t,n){},"8d08":function(e,t,n){"use strict";n("a24d")},"8dc6":function(e,t,n){"use strict";n("6925")},"8dd5":function(e,t,n){"use strict";n("6e92")},"8e27":function(e,t,n){},"8f17":function(e,t,n){"use strict";n("ff9c")},"905f":function(e,t,n){"use strict";n("35db")},"91da":function(e,t,n){},9229:function(e,t,n){},9414:function(e,t,n){},9568:function(e,t,n){},"95fe":function(e,t,n){"use strict";n("8158")},"98c9":function(e,t,n){},9906:function(e,t,n){"use strict";n("9d34")},"9ada":function(e,t,n){"use strict";n("a225")},"9d34":function(e,t,n){},"9d36":function(e,t,n){"use strict";n("dbf8")},"9d76":function(e,t,n){},"9e5c":function(e,t,n){},"9ef4":function(e,t,n){},a225:function(e,t,n){},a229:function(e,t,n){"use strict";n("f9ff")},a240:function(e,t,n){"use strict";n("16f6")},a24d:function(e,t,n){},a2b1:function(e,t,n){"use strict";n("7d05")},a331:function(e,t,n){"use strict";n("3951")},a871:function(e,t,n){},aa44:function(e,t,n){"use strict";n("852a")},aad4:function(e,t,n){"use strict";n("2fda")},abfe:function(e,t,n){"use strict";n("1fbe")},aca7:function(e,t,n){"use strict";n("0f0a")},b007:function(e,t,n){},b1ec:function(e,t,n){},b2b4:function(e,t,n){"use strict";n("fb0c")},b5af:function(e,t,n){"use strict";n("f944")},b5db:function(e,t,n){},b652:function(e,t,n){},b982:function(e,t,n){},badf:function(e,t,n){},bba0:function(e,t,n){"use strict";n("ef80")},bbaf:function(e,t,n){},beb1:function(e,t,n){"use strict";n("8e27")},bfe7:function(e,t,n){},c227:function(e,t,n){},c492:function(e,t,n){},c5e2:function(e,t,n){"use strict";n("9414")},c5fa:function(e,t,n){},c86a:function(e,t,n){"use strict";n("2c66")},c9ad:function(e,t,n){"use strict";n("9e5c")},ca80:function(e,t,n){},cbb0:function(e,t,n){"use strict";n("7612")},cca6:function(e,t,n){},cca9:function(e,t,n){"use strict";n("de1d")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca65"),n("a79d");var o=n("f2bf"),a=n("5d5a"),r=n("12ed"),l=n("6c46"),i=n("024b"),c=n("8db5"),d=n("e003"),u=n("98f1"),s=n("592a"),m=n("6702"),b=n("23e8"),p=n("fe53"),f=n("ba30"),h=n("929d"),j=n("ef0b");function O(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])}var v={name:"SubmitButton"},g=n("6b0d"),C=n.n(g);const y=C()(v,[["render",O]]);var V=y,x={key:0},w={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},N={key:0};function _(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-divider"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button");return n.loading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,[n.showDivider?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-horizontal-margin"})):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",w,[n.selected>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createVNode"])(c,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_selected",{count:n.selected})),1)]})),_:1}),Object(o["createVNode"])(d,{label:e.$t("general.delete_selected"),"icon-name":"trash-fill","display-type":"label-danger",class:"orangehrm-horizontal-margin",onClick:t[0]||(t[0]=function(t){return e.$emit("delete",t)})},null,8,["label"])])):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:n.total})),1)]})),_:1}))])]))}n("a9e3");var k={name:"TableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},showDivider:{type:Boolean,required:!1,default:!0}},emits:["delete"]};const S=C()(k,[["render",_]]);var D=S;function $(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{tag:"p",class:"orangehrm-form-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" * "+Object(o["toDisplayString"])(e.$t("general.required")),1)]})),_:1})}var E={name:"RequiredText"};n("a229");const T=C()(E,[["render",$],["__scopeId","data-v-0e12dedd"]]);var I=T,B=["href"],L=["href"],U=["href"];function A(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-layout"),c=Object(o["resolveComponent"])("about");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),Object(o["createSlots"])({"user-actions":Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",role:"menuitem",class:"oxd-userdropdown-link",onClick:t[0]||(t[0]=function(){return a.openAboutModel&&a.openAboutModel.apply(a,arguments)})},Object(o["toDisplayString"])(e.$t("general.about")),1)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:n.supportUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.support")),9,B)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:n.updatePasswordUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.change_password")),9,L)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:n.logoutUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.logout")),9,U)])]})),_:2},[Object(o["renderList"])(e.$slots,(function(t,n){return{name:n,fn:Object(o["withCtx"])((function(t){return[Object(o["renderSlot"])(e.$slots,n,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(t)))]}))}}))]),1040),a.showAboutModel?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,onClose:a.closeAboutModel},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var P={class:"orangehrm-modal-header"},q={key:0,class:"orangehrm-loader"};function M(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-loading-spinner"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.about")),1)]})),_:1})]),Object(o["createVNode"])(c),r.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",q,[Object(o["createVNode"])(d)])):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,cols:2,class:"orangehrm-about"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.company_name"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.companyName),1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.version"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.productName)+" "+Object(o["toDisplayString"])(r.data.version),1)]})),_:1}),void 0!==r.data.numberOfActiveEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.active_employees"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.numberOfActiveEmployee),1)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),void 0!==r.data.numberOfPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.employees_terminated"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.numberOfPastEmployee),1)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1}))]})),_:1},8,["onUpdate:show"])}var R=n("5530"),F=(n("d3b7"),n("d4ec")),z=n("bee2"),G=(n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("99af"),n("00b4"),n("bc3a")),Q=n.n(G),H=(n("e9c4"),n("159b"),n("b64b"),n("caad"),n("2532"),n("5319"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;n=JSON.parse(JSON.stringify(n)),Object.keys(t).forEach((function(e){var n="{".concat(e,"}");if(o.includes(n)){var a=t[e];"number"===typeof a&&(a=a.toString()),o=o.replace(n,a)}else console.error("Invalid parameter.")}));var a="?",r=Object.keys(n);return r.forEach((function(e,t){0!==t&&(a+="&");var o=n[e];Array.isArray(o)?o.forEach((function(t,n){0!==n&&(a+="&"),a+="".concat(e,"[]=").concat(t)})):a+="".concat(e,"=").concat(o)})),encodeURI(o+(0===r.length?"":a))}),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return window.appGlobal.baseUrl+H(e,t,n)},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.location.href=W(e,t,n)},J=function(){window.location.reload()},X=function(){function e(t,n){Object(F["a"])(this,e),this._baseUrl=t,this._apiSection=n,this._http=Q.a.create({baseURL:this._baseUrl}),this.setupResponseInterceptors(Object(o["getCurrentInstance"])())}return Object(z["a"])(e,[{key:"setIgnorePath",value:function(e){this._ignoreInvalidParamRegex=new RegExp(e)}},{key:"getAll",value:function(e){var t={"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};return this._http.get(this._apiSection,{headers:t,params:e})}},{key:"get",value:function(e,t){var n={"Content-Type":"application/json"};return this._http.get("".concat(this._apiSection,"/").concat(e),{headers:n,params:t})}},{key:"create",value:function(e){var t={"Content-Type":"application/json",Accept:"application/json"};return this._http.post(this._apiSection,e,{headers:t})}},{key:"update",value:function(e,t){var n={"Content-Type":"application/json"};return this._http.put("".concat(this._apiSection,"/").concat(e),t,{headers:n})}},{key:"delete",value:function(e){var t={"Content-Type":"application/json"};return this._http.delete("".concat(this._apiSection,"/").concat(e),{headers:t})}},{key:"deleteAll",value:function(e){var t={"Content-Type":"application/json"};return this._http.delete("".concat(this._apiSection),{headers:t,data:e})}},{key:"request",value:function(e){var t={"Content-Type":"application/json"};return this._http.request(Object(R["a"])({url:this._apiSection,headers:t},e))}},{key:"ignoreInvalidParamError",value:function(e){var t;if(this._ignoreInvalidParamRegex&&422===(null===(t=e.response)||void 0===t?void 0:t.status)){var n,o=null!==(n=e.response.config.url)&&void 0!==n?n:"";return this._ignoreInvalidParamRegex.test(o)}return!1}},{key:"setupResponseInterceptors",value:function(e){var t=this;this._http.interceptors.response.use((function(e){return e}),(function(n){var o;if(401===(null===(o=n.response)||void 0===o?void 0:o.status))return J(),Promise.reject();if(t.ignoreInvalidParamError(n))return Promise.reject();var a=null===e||void 0===e?void 0:e.appContext.config.globalProperties.$toast;if(a){var r,l,i,c=null===(r=n.response)||void 0===r||null===(l=r.data)||void 0===l||null===(i=l.error)||void 0===i?void 0:i.message;a.unexpectedError(c)}return Promise.reject(n)}))}},{key:"http",get:function(){return this._http}},{key:"baseUrl",get:function(){return this._baseUrl}},{key:"apiSection",set:function(e){this._apiSection=e}}]),e}(),Z=n("f762"),K=n("c0f3"),ee={components:{"oxd-loading-spinner":Z["a"],"oxd-dialog":K["a"]},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/core/about");return{http:e}},data:function(){return{isLoading:!1,data:null}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.data=Object(R["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){this.$emit("close",!0)}}};n("3503");const te=C()(ee,[["render",M],["__scopeId","data-v-7a8f0266"]]);var ne=te,oe=n("652d"),ae={components:{about:ne,"oxd-layout":oe["a"]},inheritAttrs:!1,props:{permissions:{type:Object,default:function(){return{}}},logoutUrl:{type:String,default:"#"},supportUrl:{type:String,default:"#"},updatePasswordUrl:{type:String,default:"#"}},setup:function(e){var t=Object(o["ref"])(!1);Object(o["provide"])("permissions",Object(o["readonly"])(e.permissions));var n=function(){t.value=!0},a=function(){t.value=!1};return{showAboutModel:t,openAboutModel:n,closeAboutModel:a}}};const re=C()(ae,[["render",A]]);var le=re;function ie(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"date",placeholder:"yyyy-mm-dd","day-attributes":e.attributes,events:e.events,onSelectYear:a.onSelectYear},null,8,["day-attributes","events","onSelectYear"])}var ce=n("1da1"),de=(n("96cf"),n("d81d"),n("b0c0"),n("4d90"),n("1276"),n("a15b"),n("b680"),n("843c"),n("7db0"),n("2cf3")),ue=n("b166"),se=n("2613"),me=(n("3ae2"),n("1ba4")),be=n("817a"),pe=n("a959"),fe=n("d6e9"),he=n("1aab"),je=n("f7f1"),Oe=[{offset:0,label:"Europe/London"},{offset:1,label:"Europe/Belgrade"},{offset:2,label:"Europe/Minsk"},{offset:3,label:"Asia/Kuwait"},{offset:4,label:"Asia/Muscat"},{offset:5,label:"Asia/Yekaterinburg"},{offset:5.5,label:"Asia/Kolkata"},{offset:6,label:"Asia/Dhaka"},{offset:7,label:"Asia/Krasnoyarsk"},{offset:8,label:"Asia/Brunei"},{offset:9,label:"Asia/Seoul"},{offset:9.5,label:"Australia/Darwin"},{offset:10,label:"Australia/Canberra"},{offset:11,label:"Asia/Magadan"},{offset:12,label:"Pacific/Fiji"},{offset:-11,label:"Pacific/Midway"},{offset:-10,label:"Pacific/Honolulu"},{offset:-9,label:"America/Anchorage"},{offset:-8,label:"America/Los_Angeles"},{offset:-7,label:"America/Denver"},{offset:-6,label:"America/Tegucigalpa"},{offset:-5,label:"America/New_York"},{offset:-4,label:"America/Halifax"},{offset:-3.5,label:"America/St_Johns"},{offset:-3,label:"America/Argentina/Buenos_Aires"},{offset:-2,label:"Atlantic/South_Georgia"},{offset:-1,label:"Atlantic/Azores"}],ve=function(){return new Date((new Date).setHours(0,0,0,0))},ge=function(e,t){try{var n=Object(de["a"])(e,t,ve());return isNaN(n.valueOf())?null:n}catch(o){return null}},Ce=function(e,t){try{return Object(ue["a"])(e,t)}catch(n){return null}},ye=function(e,t,n){var o=ge(e,n),a=ge(t,n);return!(!o||!a)&&-1===Object(se["a"])(o,a)},Ve=function(e,t,n){var o=ge(e,n),a=ge(t,n);return!(!o||!a)&&1===Object(se["a"])(o,a)},xe=function(e,t,n){var o=ge(e,n),a=ge(t,n);return!(!o||!a)&&0===Object(se["a"])(o,a)},we=function(e,t){return ge(e,t)},Ne=function(e,t,n){var o=ge(e,n),a=ge(t,n);if(o&&a){if(o.valueOf()<a.valueOf())return 1;if(o.valueOf()>a.valueOf())return-1;if(o.valueOf()===a.valueOf())return 0}return NaN},_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd",o=ge(e,n),a=ge(t,n);return o&&a?Object(me["a"])(a,o)?1:Object(be["a"])(a,o)+1:0},ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm",o=we(e,n),a=we(t,n);if(o&&a){var r=Object(pe["a"])(a,o);if(r>0)return r}return 0},Se=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},De=function(e){if(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)){var t=e.split(":");return 60*parseInt(t[0])*60+60*parseInt(t[1])}return parseFloat(e)<24&&/^([0-9])+(?:\.[0-9]{1,2})?$/.test(e)?60*parseFloat(e)*60:-1},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t=t<1e3?1e3:t;var n=function n(){e(),setTimeout(n,t-(new Date).getTime()%t)};n()},Ee=function(e){return(e>0?"+":"-")+String(Math.abs(e).toFixed(2)).split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):String(.6*parseInt(e)).padEnd(2,"0")})).join(":")},Te=function(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(new Date).getTimezoneOffset()/60*-1;if(void 0===e){var n=Oe.find((function(e){return e.offset===t}));e=n?n.label:Oe[0].label}var o=Ee(t);return{name:e,label:"(GMT ".concat(o,") ").concat(e),offset:t}},Ie={name:"DateInput",setup:function(){var e=Object(o["reactive"])({attributes:[],events:[]}),t=new X(window.appGlobal.baseUrl,""),n=function(){var n=Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.request({type:"GET",url:"api/v2/leave/workweek",params:{model:"indexed"}}).then((function(t){var n=t.data;null!==n&&void 0!==n&&n.data&&(e.attributes=Object.keys(n.data).map((function(e){return{index:parseInt(e),class:8===n.data[e]?"--non-working-day":4===n.data[e]?"--working-day-half":""}})))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=Object(ce["a"])(regeneratorRuntime.mark((function n(o,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.request({type:"GET",url:"api/v2/leave/holidays",params:{fromDate:o,toDate:a}}).then((function(t){var n=t.data;Array.isArray(null===n||void 0===n?void 0:n.data)&&(e.events=n.data.map((function(e){return{date:ge(e.date,"yyyy-MM-dd"),type:e.name,class:0===e.length?"--holiday-full":"--holiday-half"}})))}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),r=function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(t){var n,o,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.year,o=(new Date).setFullYear(n),r=Ce(Object(fe["a"])(o),"yyyy-MM-dd"),l=Ce(Object(he["a"])(o),"yyyy-MM-dd"),a(r,l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o["onBeforeMount"])(n),Object(o["onBeforeMount"])(r({year:(new Date).getFullYear()})),Object(R["a"])(Object(R["a"])({},Object(o["toRefs"])(e)),{},{onSelectYear:r})}};const Be=C()(Ie,[["render",ie]]);var Le=Be;function Ue(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"time",step:15})}var Ae={name:"TimeInput"};const Pe=C()(Ae,[["render",Ue]]);var qe=Pe,Me={install:function(e){e.component("OxdLayout",le),e.component("OxdCardTable",a["a"]),e.component("OxdButton",r["a"]),e.component("OxdPagination",i["a"]),e.component("OxdDivider",c["a"]),e.component("OxdText",d["a"]),e.component("OxdIconButton",l["a"]),e.component("OxdForm",u["a"]),e.component("OxdFormRow",s["a"]),e.component("OxdFormActions",m["a"]),e.component("OxdInputField",b["a"]),e.component("OxdInputGroup",p["a"]),e.component("OxdGrid",h["a"]),e.component("OxdGridItem",j["a"]),e.component("OxdTableFilter",f["a"]),e.component("SubmitButton",V),e.component("TableHeader",D),e.component("RequiredText",I),e.component("DateInput",Le),e.component("TimeInput",qe)}},Re={class:"orangehrm-background-container"},Fe={class:"orangehrm-paper-container"},ze={class:"orangehrm-header-container"},Ge={class:"orangehrm-container"},Qe={class:"orangehrm-bottom-container"};function He(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Re,[Object(o["createElementVNode"])("div",Fe,[Object(o["createElementVNode"])("div",ze,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.job_titles")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ge,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[1]||(t[1]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Qe,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var We=n("15fd"),Ye=n("3835");n("4fad");function Je(){var e,t=null===(e=Object(o["getCurrentInstance"])())||void 0===e?void 0:e.appContext.config.globalProperties.$toast,n=function(e){return function(){return e&&e.apply(void 0,arguments)}};return{notify:n(null===t||void 0===t?void 0:t.notify),show:n(null===t||void 0===t?void 0:t.show),success:n(null===t||void 0===t?void 0:t.success),error:n(null===t||void 0===t?void 0:t.error),info:n(null===t||void 0===t?void 0:t.info),warn:n(null===t||void 0===t?void 0:t.warn),clear:n(null===t||void 0===t?void 0:t.clear),clearAll:n(null===t||void 0===t?void 0:t.clearAll),saveSuccess:n(null===t||void 0===t?void 0:t.saveSuccess),addSuccess:n(null===t||void 0===t?void 0:t.addSuccess),updateSuccess:n(null===t||void 0===t?void 0:t.updateSuccess),deleteSuccess:n(null===t||void 0===t?void 0:t.deleteSuccess),cannotDelete:n(null===t||void 0===t?void 0:t.cannotDelete),noRecordsFound:n(null===t||void 0===t?void 0:t.noRecordsFound)}}var Xe=["data"];function Ze(e,t){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(ce["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getAll(n);case 3:return o=e.sent,e.abrupt("return",{data:o.data.data,meta:o.data.meta,error:!1});case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",{error:!0,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ke.apply(this,arguments)}function et(e,t){var n=e*(t-1);return{limit:e,offset:n}}function tt(e){for(var t=JSON.parse(JSON.stringify(Object(o["unref"])(e))),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(Ye["a"])(a[n],2),l=r[0],i=r[1];t[l]=null===i||""===i?void 0:i}return t}function nt(e){return e}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query,a=void 0===n?{}:n,r=t.normalizer,l=void 0===r?nt:r,i=t.prefetch,c=void 0===i||i,d=t.toastNoRecords,u=void 0===d||d,s=Object(o["reactive"])({showPaginator:!1,isLoading:!1,response:{},total:0,pages:0,pageSize:50,currentPage:1}),m=Je(),b=m.noRecordsFound,p=function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,o,r,i,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.isLoading=!0,n=et(s.pageSize,s.currentPage),o=tt(a),t.next=5,Ze(e,Object(R["a"])(Object(R["a"])({},n),o));case 5:s.response=t.sent,s.response.error||(r=s.response,i=r.data,c=Object(We["a"])(r,Xe),d=l(i),s.response=Object(R["a"])({data:d},c)),s.response.meta&&(s.total=s.response.meta.total,s.total>s.pageSize?(s.showPaginator=!0,s.pages=Math.ceil(s.total/s.pageSize)):(s.currentPage=1,s.pages=1,s.showPaginator=!1),0===s.total&&u&&b()),s.isLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c&&Object(o["onBeforeMount"])(p),Object(o["watch"])((function(){return s.currentPage}),p),Object(R["a"])(Object(R["a"])({},Object(o["toRefs"])(s)),{},{execQuery:p})}var at={class:"orangehrm-modal-header"},rt={class:"orangehrm-text-center-align"},lt={class:"orangehrm-modal-footer"};function it(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",at,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.are_you_sure")),1)]})),_:1})]),Object(o["createElementVNode"])("div",rt,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.delete_confirmation_message")),1)]})),_:1})]),Object(o["createElementVNode"])("div",lt,[Object(o["createVNode"])(c,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{label:e.$t("general.yes_delete"),"icon-name":"trash","display-type":"label-danger",class:"orangehrm-button-margin",onClick:l.onDelete},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var ct={components:{"oxd-dialog":K["a"]},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onDelete:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("8042");const dt=C()(ct,[["render",it],["__scopeId","data-v-e34d3cdc"]]);var ut=dt;n("4de4");function st(e){var t=Object(o["ref"])(Object(R["a"])({},JSON.parse(JSON.stringify(e.sortDefinition)))),n=Object(o["computed"])((function(){return Object.keys(t.value).filter((function(e){var n=t.value[e];return n&&"DEFAULT"!=n}))[0]})),a=Object(o["computed"])((function(){return t.value[n.value]})),r=function(e){return Object(o["watch"])(t,e)};return{sortDefinition:t,sortField:n,sortOrder:a,onSort:r}}var mt={jobTitleName:"",jobDescription:""},bt={"jt.jobTitleName":"ASC"},pt={components:{"delete-confirmation":ut},setup:function(){var e=Object(o["ref"])(Object(R["a"])({},mt)),t=st({sortDefinition:bt}),n=t.sortDefinition,a=t.sortField,r=t.sortOrder,l=t.onSort,i=Object(o["computed"])((function(){return{jobTitleName:e.value.jobTitleName,jobDescription:e.value.jobDescription,sortField:a.value,sortOrder:r.value}})),c=new X(window.appGlobal.baseUrl,"/api/v2/admin/job-titles"),d=ot(c,{query:i}),u=d.showPaginator,s=d.currentPage,m=d.total,b=d.pages,p=d.pageSize,f=d.response,h=d.isLoading,j=d.execQuery;return l(j),{http:c,showPaginator:u,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:e,sortDefinition:n}},data:function(){return{headers:[{name:"title",slot:"title",title:this.$t("admin.job_titles"),sortField:"jt.jobTitleName",style:{flex:2}},{name:"description",title:this.$t("admin.job_description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveJobTitle")},onClickEdit:function(e){Y("/admin/saveJobTitle/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const ft=C()(pt,[["render",He]]);var ht=ft,jt=(n("a4d3"),n("e01a"),{class:"orangehrm-background-container"}),Ot={class:"orangehrm-card-container"};function vt(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("file-upload-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jt,[Object(o["createElementVNode"])("div",Ot,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_job_title")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{novalidate:"true",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jobTitle.title=e}),label:e.$t("general.job_title"),rules:r.rules.title,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.jobTitle.description=e}),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{newFile:r.jobTitle.newSpecification,"onUpdate:newFile":t[2]||(t[2]=function(e){return r.jobTitle.newSpecification=e}),method:r.jobTitle.method,"onUpdate:method":t[3]||(t[3]=function(e){return r.jobTitle.method=e}),label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),file:r.jobTitle.oldSpecification,rules:r.rules.specification,url:"admin/viewJobSpecification/attachId",hint:e.$t("general.accepts_up_to_1mb")},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.note,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.jobTitle.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),rules:r.rules.note,"label-icon":"pencil-square"},null,8,["modelValue","label","placeholder","rules"])]})),_:1})])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("c740");var gt=n("53ca"),Ct=(n("498a"),n("9129"),n("e902")),yt=n("706d"),Vt={},xt=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!Vt[e])return e;var n=Vt[e].format(t);return Array.isArray(n)?"string"===typeof n[0]?n[0]:e:n}catch(o){return console.error(o),e}}},wt=function(){return{beforeCreate:function(){this.$t=xt()}}};function Nt(e){var t=new X(e.baseUrl,e.resourceUrl);return{init:function(){return new Promise((function(e){t.request({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"public, only-if-cached, stale-while-revalidate, max-age=60"}}).then((function(e){var t=e.data,n={};for(var o in t)n[o]=t[o].target||t[o].source,Vt[o]=new Ct["a"](t[o].target||t[o].source,void 0,void 0,{ignoreTag:!0});Object(yt["b"])({language:n})})).finally((function(){return e()}))}))},i18n:function(e){e.mixin(wt())}}}var _t=Nt,kt=xt(),St=function(e){return"string"===typeof e?!!e&&""!==e.trim()||kt("general.required"):"number"===typeof e?!Number.isNaN(e)||"general.required":Array.isArray(e)?!!e&&0!==e.length||kt("general.required"):"object"===Object(gt["a"])(e)&&null!==e||kt("general.required")},Dt=function(e){return function(t){return!t||new String(t).length<=e||kt("general.should_be_less_n_characters",{amount:e})}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd";return function(t){if(!t)return!0;var n=ge(t,e);return!!n||kt("general.should_be_a_valid_date_in_x_format",{format:e})}},Et=function(e){if(!e)return!0;var t=ge(e,"HH:mm");return!!t||kt("general.should_be_a_valid_date_in_hh:mm_format")},Tt=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||kt("general.should_be_less_than_n",{amount:e})}},It=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||kt("general.should_be_a_number")},Bt=function(e){return""==e||/^\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||kt("general.should_be_a_number")},Lt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||ye(e,t,n)},Ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||Ve(e,t,n)},At=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||xe(e,t,n)},Pt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameDate:!1,dateFormat:"yyyy-MM-dd"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:kt("general.end_date_should_be_after_start_date");return n.allowSameDate?At(o,a)||Ut(o,a,n.dateFormat)||r:Ut(o,a,n.dateFormat)||r}},qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||1===Ne(e,t,n)},Mt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm";return!e||!t||-1===Ne(e,t,n)},Rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm";return!e||!t||0===Ne(e,t,n)},Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameTime:!1,timeFormat:"HH:mm"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:kt("general.end_time_should_be_after_start_time");return n.allowSameTime?Rt(o,a)||Mt(o,a,n.timeFormat)||r:Mt(o,a,n.timeFormat)||r}},zt=function(e){return function(t){return null===t||t.size&&t.size<=e||kt("general.attachment_size_exceeded")}},Gt=function(e){return function(t){return null===t||t&&e.findIndex((function(e){return e===t.type}))>-1||kt("general.file_type_not_allowed")}},Qt=function(e){return!e||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/.test(e)||kt("general.expected_email_address_format_not_matched")},Ht=function(e){return!e||/^[0-9+\-/() ]+$/.test(e)||kt("general.allows_phone_numbers_only")},Wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameDate:!1,dateFormat:"yyyy-MM-dd"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:kt("general.start_date_should_be_before_end_date");return n.allowSameDate?At(o,a)||Lt(o,a,n.dateFormat)||r:Lt(o,a,n.dateFormat)||r}},Yt=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||kt("general.should_be_less_than_n",{amount:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}},Jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameTime:!1,timeFormat:"HH:mm"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:kt("general.start_time_should_be_before_end_time");return n.allowSameTime?Rt(o,a)||qt(o,a,n.timeFormat)||r:qt(o,a,n.timeFormat)||r}},Xt=function(e){return function(t){return!t||String(t).length>=e||kt("general.should_be_least_n_characters",{amount:e})}},Zt=function(e,t){return function(n){var o="function"===typeof e?e():e,a="string"===typeof t?t:kt("general.should_be_higher_than_minimum_value");return null===o||null===n||(void 0===o||void 0===n||(""===o||""===n||("0"===o||"0"===n||(parseFloat(o)<parseFloat(n)||a))))}},Kt={class:"orangehrm-file-current"},en={key:0,class:"orangehrm-file-options"},tn={key:1,class:"orangehrm-file-input"};function nn(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-icon"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.file?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,label:"Current ".concat(n.label)},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Kt,[Object(o["createElementVNode"])("div",{class:"orangehrm-file-preview",onClick:t[0]||(t[0]=function(){return l.downloadFile&&l.downloadFile.apply(l,arguments)})},[Object(o["createVNode"])(i,{class:"orangehrm-file-icon",name:"file-earmark-text"}),Object(o["createVNode"])(c,{class:"orangehrm-file-name",tag:"p",title:n.file.filename},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.file.filename)+" ",1),Object(o["createVNode"])(i,{class:"orangehrm-file-download",name:"download"})]})),_:1},8,["title"])]),n.disabled?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",en,[Object(o["createVNode"])(d,{type:"radio","option-label":e.$t("general.keep_current"),value:"keepCurrent","model-value":n.method,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"]),Object(o["createVNode"])(d,{type:"radio","option-label":e.$t("general.delete_current"),value:"deleteCurrent","model-value":n.method,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"]),Object(o["createVNode"])(d,{type:"radio","option-label":e.$t("general.replace_current"),value:"replaceCurrent","model-value":n.method,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"])]))])]})),_:1},8,["label"])):Object(o["createCommentVNode"])("",!0),"replaceCurrent"!==n.method&&n.file?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tn,[Object(o["createVNode"])(d,Object(o["mergeProps"])(e.$attrs,{type:"file",label:n.label,"model-value":n.newFile,disabled:n.disabled,placeholder:e.$t("general.no_file_selected"),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.$emit("update:newFile",t)})}),null,16,["label","model-value","disabled","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.hint),1)]})),_:1})]))],64)}var on=n("74ce"),an={name:"FileUploadInput",components:{"oxd-icon":on["a"]},inheritAttrs:!1,props:{label:{type:String,default:""},hint:{type:String,default:""},url:{type:String,required:!0},method:{type:String,required:!0},file:{type:Object,required:!0},newFile:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:method","update:newFile"],methods:{downloadFile:function(){var e;if(null!==(e=this.file)&&void 0!==e&&e.id){var t="".concat(window.appGlobal.baseUrl,"/").concat(this.url,"/").concat(this.file.id);window.open(t,"_blank")}}}};n("37a6");const rn=C()(an,[["render",nn],["__scopeId","data-v-9e9aa000"]]);var ln=rn,cn={title:"",description:"",oldSpecification:"",newSpecification:null,method:"keepCurrent",note:""},dn={components:{"file-upload-input":ln},props:{jobTitleId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data:function(){var e=this;return{isLoading:!1,jobTitle:Object(R["a"])({},cn),rules:{title:[St,Dt(100)],description:[Dt(400)],specification:[function(t){return"replaceCurrent"!=e.jobTitle.method||St(t)},Gt(this.allowedFileTypes),zt(this.maxFileSize)],note:[Dt(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.jobTitleId).then((function(t){var n,o=t.data.data;return e.jobTitle.title=o.title,e.jobTitle.description=o.description,e.jobTitle.note=o.note,e.jobTitle.oldSpecification=null!==(n=o.jobSpecification)&&void 0!==n&&n.id?o.jobSpecification:null,e.jobTitle.newSpecification=null,e.jobTitle.method="keepCurrent",e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.title.push((function(t){var o=n.findIndex((function(e){return e.title==t}));if(o>-1){var a=n[o].id;return a==e.jobTitleId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/viewJobTitleList")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.jobTitleId,{title:this.jobTitle.title,description:this.jobTitle.description,note:this.jobTitle.note,currentJobSpecification:this.jobTitle.oldSpecification?this.jobTitle.method:void 0,specification:this.jobTitle.newSpecification?this.jobTitle.newSpecification:void 0}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};const un=C()(dn,[["render",vt]]);var sn=un,mn={class:"orangehrm-background-container"},bn={class:"orangehrm-card-container"};function pn(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mn,[Object(o["createElementVNode"])("div",bn,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_job_title")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jobTitle.title=e}),label:e.$t("general.job_title"),rules:r.rules.title,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.jobTitle.description=e}),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.specification,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.jobTitle.specification=e}),type:"file",label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),rules:r.rules.specification},null,8,["modelValue","label","button-label","rules"]),Object(o["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.jobTitle.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.jobTitle.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:r.rules.note},null,8,["modelValue","label","placeholder","rules"])]})),_:1})])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var fn={title:"",description:"",specification:null,note:""},hn={props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data:function(){return{isLoading:!1,jobTitle:Object(R["a"])({},fn),rules:{title:[St,Dt(100)],description:[Dt(400)],specification:[Gt(this.allowedFileTypes),zt(this.maxFileSize)],note:[Dt(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.title.push((function(t){var o=n.findIndex((function(e){return e.title==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/viewJobTitleList")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.jobTitle)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};const jn=C()(hn,[["render",pn]]);var On=jn,vn={class:"orangehrm-background-container"},gn={class:"orangehrm-paper-container"},Cn={class:"orangehrm-header-container"},yn={class:"orangehrm-container"},Vn={class:"orangehrm-bottom-container"};function xn(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vn,[Object(o["createElementVNode"])("div",gn,[Object(o["createElementVNode"])("div",Cn,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.job_categories")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",yn,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",Vn,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var wn={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/job-categories"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.job_category"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveJobCategory")},onClickEdit:function(e){Y("/admin/saveJobCategory/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Nn=C()(wn,[["render",xn]]);var _n=Nn,kn={class:"orangehrm-background-container"},Sn={class:"orangehrm-card-container"};function Dn(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kn,[Object(o["createElementVNode"])("div",Sn,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_job_category")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.category.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.category.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var $n={props:{jobCategoryId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data:function(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[St,Dt(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.jobCategoryId).then((function(t){var n=t.data.data;return e.category.id=n.id,e.category.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.category.id||e.$t("general.already_exists")}return!0})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.jobCategoryId,{name:this.category.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/jobCategory")}}};const En=C()($n,[["render",Dn]]);var Tn=En,In={class:"orangehrm-background-container"},Bn={class:"orangehrm-card-container"};function Ln(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",In,[Object(o["createElementVNode"])("div",Bn,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_job_category")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.category.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.category.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Un={setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data:function(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[St,Dt(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.category.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/jobCategory")}}};const An=C()(Un,[["render",Ln]]);var Pn=An,qn=function(e){return Object(o["pushScopeId"])("data-v-393496e6"),e=e(),Object(o["popScopeId"])(),e},Mn={class:"orangehrm-login-form"},Rn={class:"orangehrm-login-error"},Fn=["value"],zn={class:"orangehrm-login-forgot"},Gn=qn((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function Qn(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-alert"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-button"),m=Object(o["resolveComponent"])("oxd-form-actions"),b=Object(o["resolveComponent"])("oxd-form"),p=Object(o["resolveComponent"])("login-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,null,{footer:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)]})),default:Object(o["withCtx"])((function(){var a;return[Object(o["createVNode"])(i,{class:"orangehrm-login-title",tag:"h5"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.login")),1)]})),_:1}),Object(o["createElementVNode"])("div",Mn,[Object(o["createElementVNode"])("div",Rn,[Object(o["createVNode"])(c,{show:null!==n.error,type:"error",message:null===(a=n.error)||void 0===a?void 0:a.message},null,8,["show","message"])]),Object(o["createVNode"])(b,{ref:"loginForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,Fn),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),name:"username",label:e.$t("general.username"),"label-icon":"person",placeholder:e.$t("auth.username"),rules:r.rules.username,autofocus:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e}),name:"password",label:e.$t("general.password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.password},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(m,{class:"orangehrm-login-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-login-button","display-type":"main",label:e.$t("auth.login"),type:"submit"},null,8,["label"])]})),_:1}),Object(o["createElementVNode"])("div",zn,[Object(o["createVNode"])(i,{class:"orangehrm-login-forgot-header",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.forgot_password"))+"? ",1)]})),_:1},8,["onClick"])])]})),_:1},8,["action","onSubmitValid"]),Gn])]})),_:3})}var Hn={class:"orangehrm-login-layout"},Wn={class:"orangehrm-login-layout-blob"},Yn={class:"orangehrm-login-container"},Jn={class:"orangehrm-login-slot-wrapper"},Xn={class:"orangehrm-login-slot"},Zn={class:"orangehrm-login-logo-mobile"},Kn=["src"],eo={class:"orangehrm-login-logo"},to=["src"];function no(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("login-branding");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hn,[Object(o["createElementVNode"])("div",Wn,[Object(o["createElementVNode"])("div",Yn,[Object(o["createElementVNode"])("div",Jn,[Object(o["createVNode"])(i,{"img-src":r.brandingSrc},null,8,["img-src"]),Object(o["createElementVNode"])("div",Xn,[Object(o["createElementVNode"])("div",Zn,[Object(o["createElementVNode"])("img",{src:r.logoSrc,alt:"orangehrm-logo"},null,8,Kn)]),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])])]),Object(o["createElementVNode"])("div",eo,[Object(o["createElementVNode"])("img",{src:r.logoSrc,alt:"orangehrm-logo"},null,8,to)])])])}var oo={class:"orangehrm-login-branding"},ao=["src"];function ro(e,t,n,a,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oo,[Object(o["createElementVNode"])("img",{src:n.imgSrc,alt:"company-branding"},null,8,ao)])}var lo={name:"LoginBranding",props:{imgSrc:{type:String,required:!0}}};n("0ab1");const io=C()(lo,[["render",ro],["__scopeId","data-v-3dda64e6"]]);var co=io,uo={name:"LoginLayout",components:{"login-branding":co},data:function(){return{logoSrc:"".concat(window.appGlobal.baseUrl,"/../images/ohrm_logo.png"),brandingSrc:"".concat(window.appGlobal.baseUrl,"/../images/ohrm_branding.png")}}};n("1168");const so=C()(uo,[["render",no],["__scopeId","data-v-17f00548"]]);var mo=so,bo=n("d6f5"),po={components:{"login-layout":mo,"oxd-alert":bo["a"]},props:{error:{type:Object,default:function(){return null}},token:{type:String,required:!0}},data:function(){return{username:"",password:"",rules:{username:[St],password:[St]}}},computed:{submitUrl:function(){return W("/auth/validate")}},beforeMount:function(){setTimeout((function(){J()}),12e5)},methods:{onSubmit:function(){this.$refs.loginForm.$el.submit()},navigateUrl:function(){Y("/auth/requestPasswordResetCode")}}};n("6945");const fo=C()(po,[["render",Qn],["__scopeId","data-v-393496e6"]]);var ho=fo;function jo(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{show:!0,type:"error",message:e.$t("auth.credential_required")},null,8,["message"])}var Oo={components:{"oxd-alert":bo["a"]}};const vo=C()(Oo,[["render",jo]]);var go=vo,Co=function(e){return Object(o["pushScopeId"])("data-v-767edd27"),e=e(),Object(o["popScopeId"])(),e},yo={class:"orangehrm-admin-access-container"},Vo={class:"orangehrm-card-container"},xo=Co((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),wo=["value"],No={class:"orangehrm-admin-access-button-container"};function _o(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-alert"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-button"),m=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yo,[Object(o["createElementVNode"])("div",Vo,[Object(o["createVNode"])(m,{ref:"verifyForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){var a;return[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-admin-access-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.admin_access")),1)]})),_:1}),xo,Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(r.noteContainerClass)},[Object(o["createVNode"])(i,{tag:"toast-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.admin_access_note")),1)]})),_:1})],2),Object(o["createVNode"])(c,{show:null!==n.error,type:"error",message:null===(a=n.error)||void 0===a?void 0:a.message},null,8,["show","message"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,wo),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"model-value":n.username,name:"username",label:e.$t("general.username"),"label-icon":"person",disabled:""},null,8,["model-value","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.password,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.password=e}),name:"password",label:e.$t("general.password"),"label-icon":"key",type:"password",rules:r.rules.password,autofocus:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createElementVNode"])("div",No,[Object(o["createVNode"])(s,{class:"orangehrm-admin-access-button","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(s,{class:"orangehrm-admin-access-button","display-type":"secondary",size:"large",label:e.$t("general.confirm"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var ko={name:"AdministratorAccess",components:{"oxd-alert":bo["a"]},props:{username:{type:String,required:!0},error:{type:Object,default:function(){return null}},token:{type:String,required:!0},backUrl:{type:String,default:null}},data:function(){return{password:"",rules:{password:[St]},noteClasses:{"orangehrm-admin-access-note":!0,"--padding":null===this.error},noteContainerClass:{"orangehrm-admin-access-note-container":null===this.error}}},computed:{submitUrl:function(){return W("/auth/adminVerify")}},methods:{onSubmit:function(){this.$refs.verifyForm.$el.submit()},onCancel:function(){Y(this.backUrl)}}};n("8f17");const So=C()(ko,[["render",_o],["__scopeId","data-v-767edd27"]]);var Do=So,$o={class:"orangehrm-forgot-password-container"},Eo={class:"orangehrm-forgot-password-wrapper"},To={class:"orangehrm-card-container"},Io=["value"],Bo={class:"orangehrm-forgot-password-button-container"};function Lo(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("card-note"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$o,[Object(o["createElementVNode"])("div",Eo,[Object(o["createElementVNode"])("div",To,[Object(o["createVNode"])(b,{ref:"resetForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(d,{"note-text":e.$t("auth.username_identify_reset_note"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,Io),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),name:"username",label:e.$t("auth.username"),"label-icon":"person",rules:r.rules.username,placeholder:e.$t("auth.username")},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",Bo,[Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--cancel","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--reset","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}function Uo(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-icon");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{class:Object(o["normalizeClass"])({"orangehrm-card-note":!0,"orangehrm-card-note--background":n.hasNote,"orangehrm-card-note--icon":n.hasNoteIcon})},{default:Object(o["withCtx"])((function(){return[n.hasNote?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note"))+": ",1)]})),_:1})):Object(o["createCommentVNode"])("",!0),n.hasNoteIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,tag:"span",class:"orangehrm-card-note-icon"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{name:"exclamation-triangle",class:"orangehrm-card-icon"})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{class:Object(o["normalizeClass"])({"orangehrm-card-note-text":n.hasNoteIcon})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.noteText),1)]})),_:1},8,["class"])]})),_:1},8,["class"])}var Ao={name:"CardNote",components:{"oxd-icon":on["a"]},props:{noteText:{type:String,required:!0},hasNote:{type:Boolean,default:!1},hasNoteIcon:{type:Boolean,required:!1}}};n("6de9");const Po=C()(Ao,[["render",Uo],["__scopeId","data-v-033c719c"]]);var qo=Po,Mo={name:"RequestResetPassword",components:{"card-note":qo},props:{token:{type:String,required:!0}},data:function(){return{username:"",rules:{username:[St]}}},computed:{submitUrl:function(){return W("/auth/requestResetPassword")}},methods:{onCancel:function(){Y("/auth/login")},onSubmit:function(){this.$refs.resetForm.$el.submit()}}};n("5e6d");const Ro=C()(Mo,[["render",Lo],["__scopeId","data-v-6c72eeff"]]);var Fo=Ro,zo={class:"orangehrm-forgot-password-container"},Go={class:"orangehrm-forgot-password-wrapper"},Qo={class:"orangehrm-card-container"};function Ho(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zo,[Object(o["createElementVNode"])("div",Go,[Object(o["createElementVNode"])("div",Qo,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password_link_sent_successfully")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(d,{"note-text":e.$t("auth.reset_password_link_via_email"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createVNode"])(d,{"note-text":e.$t("auth.follow_link_to_select_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createVNode"])(d,{"note-text":e.$t("auth.email_not_receive_note"),class:"orangehrm-forgot-password-card-note","has-note":""},null,8,["note-text"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var Wo={name:"ResetPasswordSuccess",components:{"card-note":qo}};n("6f06");const Yo=C()(Wo,[["render",Ho],["__scopeId","data-v-3198c915"]]);var Jo=Yo,Xo={class:"orangehrm-forgot-password-container"},Zo={class:"orangehrm-forgot-password-wrapper"},Ko={class:"orangehrm-card-container"};function ea(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xo,[Object(o["createElementVNode"])("div",Zo,[Object(o["createElementVNode"])("div",Ko,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(d,{"note-text":e.$t("auth.reset_password_token_expired_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(o["createVNode"])(i,{class:"orangehrm-forgot-password-reset"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.click_here")),1)]})),_:1},8,["onClick"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("auth.request_new_password_token")),1)]})),_:1})])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var ta={name:"ResetPasswordError",components:{"card-note":qo},methods:{navigateUrl:function(){Y("/auth/requestPasswordResetCode")}}};n("9906");const na=C()(ta,[["render",ea],["__scopeId","data-v-0928170e"]]);var oa=na,aa={class:"orangehrm-forgot-password-container"},ra={class:"orangehrm-forgot-password-wrapper"},la={class:"orangehrm-card-container"},ia=["value"],ca={class:"orangehrm-forgot-password-buttons"};function da(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("card-note"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aa,[Object(o["createElementVNode"])("div",ra,[Object(o["createElementVNode"])("div",la,[Object(o["createVNode"])(b,{ref:"resetForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(d,{"note-text":e.$t("auth.set_new_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,ia),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{value:n.username,name:"username",label:e.$t("auth.username"),"label-icon":"person",readonly:""},null,8,["value","label"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.newPassword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.newPassword=e}),name:"password",label:e.$t("auth.new_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.newPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.confirmPassword=e}),name:"confirmPassword",label:e.$t("general.confirm_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.confirmPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",ca,[Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var ua=xt();function sa(e){var t=new RegExp(/[a-z]/),n=new RegExp(/[A-Z]/),o=new RegExp(/[0-9]/),a=new RegExp(/[@#\\/\-!$%^&*()_+|~=`{}[\]:";'<>?,.]/);return[t,n,o,a].map((function(t){return t.test(e)?1:0}))}function ma(e){if(e.length>=8){var t=sa(e);return RegExp(/\s/).test(e)?ua("auth.your_password_should_not_contain_spaces"):!(t.reduce((function(e,t){return e+t}),0)<4)||ua("auth.must_contain_lower_case_upper_case_digit_character_message")}return ua("auth.should_have_min_8_characters")}var ba={name:"ResetPassword",components:{"card-note":qo},props:{username:{type:String,required:!0},token:{type:String,required:!0}},data:function(){var e=this;return{user:{username:"",newPassword:"",confirmPassword:""},rules:{newPassword:[St,Dt(64),ma],confirmPassword:[St,Dt(64),function(t){return!!t&&t===e.user.newPassword||"Passwords do not match"}]}}},computed:{submitUrl:function(){return W("/auth/resetPassword")}},methods:{onSubmit:function(){this.$refs.resetForm.$el.submit()}}};n("95fe");const pa=C()(ba,[["render",da],["__scopeId","data-v-59ff5668"]]);var fa=pa,ha={class:"orangehrm-forgot-password-container"},ja={class:"orangehrm-forgot-password-wrapper"},Oa={class:"orangehrm-card-container"};function va(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ha,[Object(o["createElementVNode"])("div",ja,[Object(o["createElementVNode"])("div",Oa,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(d,{"note-text":e.$t("auth.configured_receive_email_notification_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(o["createVNode"])(i,{class:"orangehrm-forgot-password-reset"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.click_here")),1)]})),_:1},8,["onClick"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("auth.back_to_login")),1)]})),_:1})])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var ga={name:"EmailConfigurationWarning",components:{"card-note":qo},methods:{navigateUrl:function(){Y("/auth/login")}}};n("88f6");const Ca=C()(ga,[["render",va],["__scopeId","data-v-64d8674c"]]);var ya=Ca,Va={"auth-login":ho,"auth-forbidden":go,"auth-admin-access":Do,"request-reset-password":Fo,"reset-password-success":Jo,"reset-password-error":oa,"reset-password":fa,"email-configuration-warning":ya},xa={class:"orangehrm-background-container"},wa=Object(o["createElementVNode"])("br",null,null,-1),Na={class:"orangehrm-paper-container"},_a={class:"orangehrm-header-container"},ka={class:"orangehrm-container"},Sa={class:"orangehrm-bottom-container"};function Da(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("employee-autocomplete"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("table-header"),v=Object(o["resolveComponent"])("oxd-card-table"),g=Object(o["resolveComponent"])("oxd-pagination"),C=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xa,[Object(o["createVNode"])(j,{"filter-title":e.$t("admin.system_users")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.username=e}),label:e.$t("general.username")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.userRoleId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.userRoleId=e}),type:"select",label:e.$t("general.user_role"),options:r.userRoles},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.empNumber,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.empNumber=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.status=e}),type:"select",label:e.$t("general.status"),options:r.userStatuses},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),wa,Object(o["createElementVNode"])("div",Na,[Object(o["createElementVNode"])("div",_a,[Object(o["createVNode"])(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(O,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",ka,[Object(o["createVNode"])(v,{selected:r.checkedItems,"onUpdate:selected":t[4]||(t[4]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[5]||(t[5]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Sa,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,current:a.currentPage,"onUpdate:current":t[6]||(t[6]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(C,{ref:"deleteDialog"},null,512)])}var $a={key:0,class:"past-employee-tag"};function Ea(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"autocomplete",label:e.$t("general.employee_name"),clear:!1,"create-options":l.loadEmployees},{afterSelected:Object(o["withCtx"])((function(t){var n=t.data;return[n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.past_employee")),1)],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.label),1),n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$a,Object(o["toDisplayString"])(e.$t("general.past_employee")),1)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","create-options"])}var Ta={name:"EmployeeAutocomplete",props:{params:{type:Object,default:function(){return{}}},apiPath:{type:String,default:"api/v2/pim/employees"}},setup:function(e){var t=new X(window.appGlobal.baseUrl,e.apiPath);return{http:t}},methods:{loadEmployees:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll(Object(R["a"])({nameOrId:e.trim()},t.params)).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),_employee:e,isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};n("ee7c");const Ia=C()(Ta,[["render",Ea],["__scopeId","data-v-30f0a592"]]);var Ba=Ia,La={username:"",userRoleId:null,empNumber:null,status:null},Ua={"u.userName":"ASC","r.displayName":"ASC","e.firstName":"ASC","u.status":"DEFAULT"},Aa={components:{"delete-confirmation":ut,"employee-autocomplete":Ba},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n,o,a,r,l=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,userName:t.userName,role:null===(n=t.userRole)||void 0===n?void 0:n.displayName,empName:"".concat(null===(o=t.employee)||void 0===o?void 0:o.firstName," ").concat(null===(a=t.employee)||void 0===a?void 0:a.lastName,"\n          ").concat(null!==(r=t.employee)&&void 0!==r&&r.terminationId?" (Past Employee)":""),status:t.status?"Enabled":"Disabled",isSelectable:-1===l}}))},n=Object(o["ref"])(Object(R["a"])({},La)),a=st({sortDefinition:Ua}),r=a.sortDefinition,l=a.sortField,i=a.sortOrder,c=a.onSort,d=Object(o["computed"])((function(){var e,t,o;return{username:n.value.username,userRoleId:null===(e=n.value.userRoleId)||void 0===e?void 0:e.id,empNumber:null===(t=n.value.empNumber)||void 0===t?void 0:t.id,status:null===(o=n.value.status)||void 0===o?void 0:o.id,sortField:l.value,sortOrder:i.value}})),u=new X(window.appGlobal.baseUrl,"api/v2/admin/users"),s=ot(u,{query:d,normalizer:t}),m=s.showPaginator,b=s.currentPage,p=s.total,f=s.pages,h=s.pageSize,j=s.response,O=s.isLoading,v=s.execQuery;return c(v),{http:u,showPaginator:m,currentPage:b,isLoading:O,total:p,pages:f,pageSize:h,execQuery:v,items:j,filters:n,sortDefinition:r}},data:function(){return{headers:[{name:"userName",title:this.$t("general.username"),sortField:"u.userName",style:{flex:1}},{name:"role",title:this.$t("general.user_role"),style:{flex:1},sortField:"r.displayName"},{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"e.firstName",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"u.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveSystemUser")},onClickEdit:function(e){Y("/admin/saveSystemUser/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(R["a"])({},La),this.filterItems()}}};const Pa=C()(Aa,[["render",Da]]);var qa=Pa,Ma={class:"orangehrm-background-container"},Ra={class:"orangehrm-card-container"};function Fa(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ma,[Object(o["createElementVNode"])("div",Ra,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_user")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.role,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.role=e}),type:"select",label:e.$t("general.user_role"),rules:r.rules.role,options:r.userRoles,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.user.status=e}),type:"select",label:e.$t("general.status"),rules:r.rules.status,options:r.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{password:r.user.password,"onUpdate:password":t[4]||(t[4]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[5]||(t[5]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"]),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function za(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-chip"),c=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{class:"user-password-row"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"user-password-cell"},{default:Object(o["withCtx"])((function(){return[n.password?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:Object(o["normalizeClass"])(l.chipClasses),label:l.passwordStrength},null,8,["class","label"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c,{label:e.$t("general.password"),type:"password","model-value":n.password,rules:r.rules.password,autocomplete:"off",required:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:password",t)})},null,8,["label","model-value","rules"]),Object(o["createVNode"])(d,{class:"user-password-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.password_strength_message")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{ref:"passwordConfirm",label:e.$t("general.confirm_password"),type:"password","model-value":n.passwordConfirm,rules:r.rules.passwordConfirm,autocomplete:"off",required:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:passwordConfirm",t)})},null,8,["label","model-value","rules"])]})),_:1})]})),_:1})]})),_:1})}var Ga=n("c55d"),Qa={name:"PasswordInput",components:{"oxd-chip":Ga["a"]},props:{password:{type:String,required:!0},passwordConfirm:{type:String,required:!0}},emits:["update:password","update:passwordConfirm"],data:function(){var e=this;return{rules:{password:[St,Dt(64),ma],passwordConfirm:[St,Dt(64),function(t){return!!t&&t===e.password||e.$t("general.passwords_do_not_match")}]}}},computed:{passwordStrength:function(){var e=0;switch(e=sa(this.password).reduce((function(e,t){return e+t}),0),this.password.trim().length<8&&(e=0),e){case 2:return this.$t("general.weak");case 3:return this.$t("general.better");case 4:return this.$t("general.strongest");default:return this.$t("general.very_weak")}},chipClasses:function(){return{"user-password-chip":!0,"--green":"Strongest"===this.passwordStrength}}},watch:{password:function(e){(this.passwordConfirm&&e!==this.passwordConfirm||this.passwordConfirm&&e===this.passwordConfirm)&&this.$nextTick(this.$refs.passwordConfirm.triggerUpdate)}}};n("70fb");const Ha=C()(Qa,[["render",za],["__scopeId","data-v-9608fb20"]]);var Wa=Ha,Ya=n("b260"),Ja={username:"",role:null,employee:null,status:null,password:"",passwordConfirm:""},Xa={components:{"employee-autocomplete":Ba,"password-input":Wa},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data:function(){return{isLoading:!1,user:Object(R["a"])({},Ja),rules:{username:[St,Xt(5),Dt(40),Object(Ya["a"])(this.validateUserName,500)],role:[St],employee:[St],status:[St]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},methods:{onCancel:function(){Y("/admin/viewSystemUsers")},onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({username:this.user.username.trim(),password:this.user.password,status:this.user.status&&1===this.user.status.id,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.onCancel()}))},validateUserName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:t.user.username.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};n("3208");const Za=C()(Xa,[["render",Fa],["__scopeId","data-v-00db553c"]]);var Ka=Za,er={class:"orangehrm-background-container"},tr={class:"orangehrm-card-container"};function nr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",er,[Object(o["createElementVNode"])("div",tr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_user")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.role,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.role=e}),type:"select",label:e.$t("general.user_role"),rules:r.rules.role,options:r.userRoles,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.user.status=e}),type:"select",label:e.$t("general.status"),rules:r.rules.status,options:r.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.changePassword,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.user.changePassword=e}),type:"checkbox",value:"true","true-value":!0,"false-value":!1,"option-label":"Yes",label:e.$t("general.change_password_question")},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),r.user.changePassword?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,password:r.user.password,"onUpdate:password":t[5]||(t[5]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[6]||(t[6]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var or={id:"",username:"",role:null,employee:null,status:null,changePassword:!1,password:"",passwordConfirm:""},ar={components:{"employee-autocomplete":Ba,"password-input":Wa},props:{systemUserId:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data:function(){return{isLoading:!1,user:Object(R["a"])({},or),rules:{username:[St,Xt(5),Dt(40),Object(Ya["a"])(this.validateUserName,500)],role:[St],employee:[St],status:[St]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.systemUserId).then((function(t){var n=t.data.data;e.user.id=n.id,e.user.username=n.userName,e.user.role=e.userRoles.find((function(e){return e.id===n.userRole.id})),e.user.employee={id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.middleName," ").concat(n.employee.lastName),isPastEmployee:n.employee.terminationId},n.status?e.user.status={id:1,label:e.$t("general.enabled")}:e.user.status={id:2,label:e.$t("general.disabled")}})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/viewSystemUsers")},onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.update(this.systemUserId,{username:this.user.username.trim(),password:this.user.password,status:this.user.status&&"Enabled"===this.user.status.label,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id,changePassword:this.user.changePassword}).then((function(){return n.$toast.updateSuccess()})).then((function(){n.onCancel()}))},validateUserName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:t.user.username.trim(),userId:t.systemUserId}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};n("7224");const rr=C()(ar,[["render",nr],["__scopeId","data-v-4fcfc064"]]);var lr=rr,ir={class:"orangehrm-background-container"},cr={class:"orangehrm-paper-container"},dr={class:"orangehrm-header-container"},ur={key:1,class:"org-root-container"},sr={class:"org-container"},mr={key:0,class:"loader"},br={class:"org-name"},pr={class:"org-action"};function fr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-switch-input"),d=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-button"),s=Object(o["resolveComponent"])("oxd-loading-spinner"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-sheet"),p=Object(o["resolveComponent"])("oxd-tree-view"),f=Object(o["resolveComponent"])("delete-confirmation"),h=Object(o["resolveComponent"])("save-org-unit"),j=Object(o["resolveComponent"])("edit-org-unit");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ir,[Object(o["createElementVNode"])("div",cr,[Object(o["createElementVNode"])("div",dr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.organization_structure")),1)]})),_:1}),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,modelValue:r.editable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.editable=e}),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"]))]),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"orangehrm-horizontal-margin orangehrm-clear-margins"})),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ur,[Object(o["createVNode"])(i,{tag:"p",class:Object(o["normalizeClass"])({"--parent":r.data&&0!=r.data.children})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.name),1)]})),_:1},8,["class"]),Object(o["withDirectives"])(Object(o["createVNode"])(u,{class:"org-structure-add",label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:t[1]||(t[1]=function(e){return l.onAddOrglevel(r.data)})},null,8,["label"]),[[o["vShow"],r.editable]])])),Object(o["createElementVNode"])("div",sr,[r.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mr,[Object(o["createVNode"])(s)])):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,data:r.data,open:!0,"show-root":!1,class:"org-structure"},{content:Object(o["withCtx"])((function(e){var t=e.nodeData;return[Object(o["createVNode"])(b,{type:"pastel-white",class:Object(o["normalizeClass"])({"org-structure-card":!0,"--edit":r.editable})},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",br,Object(o["toDisplayString"])(t.unitId?t.unitId+":":"")+"  "+Object(o["toDisplayString"])(t.name),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",pr,[Object(o["createVNode"])(m,{class:"org-action-icon",name:"trash-fill",role:"none",onClick:function(e){return l.onDelete(t)}},null,8,["onClick"]),Object(o["createVNode"])(m,{class:"org-action-icon",name:"pencil-fill",role:"none",onClick:function(e){return l.onEditOrglevel(t)}},null,8,["onClick"]),Object(o["createVNode"])(m,{class:"org-action-icon",name:"plus",role:"none",onClick:function(e){return l.onAddOrglevel(t)}},null,8,["onClick"])],512),[[o["vShow"],r.editable]])]})),_:2},1032,["class"])]})),_:1},8,["data"]))])]),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,data:r.saveModalState,onClose:l.onSaveModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,data:r.editModalState,onClose:l.onEditModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0)])}var hr=n("904c"),jr=n("7c78"),Or=n("ac59"),vr={class:"orangehrm-modal-header"};function gr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",vr,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_organization_unit")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.orgUnit.unitId=e}),label:e.$t("admin.unit_id"),rules:r.rules.unitId},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.orgUnit.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.orgUnit.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"level-label"},{default:Object(o["withCtx"])((function(){var t;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.this_unit_will_be_added_under"))+" ",1),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(null===(t=n.data)||void 0===t?void 0:t.name),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Cr={unitId:"",name:"",description:""},yr={name:"SaveOrgUnit",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,orgUnit:Object(R["a"])({},Cr),rules:{unitId:[Dt(100)],name:[St,Dt(100)],description:[Dt(400)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("admin.organization_unit_name_should_be_unique")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.orgUnit),{},{parentId:null===(e=this.data)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.orgUnit=Object(R["a"])({},Cr),this.$emit("close",!0)}}};n("b5af");const Vr=C()(yr,[["render",gr],["__scopeId","data-v-c23f104e"]]);var xr=Vr,wr={class:"orangehrm-modal-header"};function Nr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",wr,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_organization_unit")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.orgUnit.unitId=e}),label:e.$t("admin.unit_id"),rules:r.rules.unitId},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.orgUnit.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.orgUnit.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var _r={unitId:"",name:"",description:""},kr={name:"EditOrgUnit",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,orgUnit:Object(R["a"])({},_r),rules:{unitId:[Dt(100)],name:[St,Dt(100)],description:[Dt(400)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;return e.orgUnit.name=n.name,e.orgUnit.description=n.description,e.orgUnit.unitId=n.unitId,e.http.getAll()})).then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.data.id||e.$t("admin.organization_unit_name_should_be_unique")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])({},this.orgUnit)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Sr=C()(kr,[["render",Nr]]);var Dr=Sr,$r={components:{"oxd-tree-view":hr["a"],"oxd-sheet":jr["a"],"oxd-switch-input":Or["a"],"oxd-loading-spinner":Z["a"],"delete-confirmation":ut,"save-org-unit":xr,"edit-org-unit":Dr},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,editable:!1,showSaveModal:!1,saveModalState:null,showEditModal:!1,editModalState:null,data:{}}},created:function(){this.fetchOrgStructure()},methods:{onDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&(t.isLoading=!0,t.http.delete(e.id).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.fetchOrgStructure()})))}))},onAddOrglevel:function(e){this.editable&&(this.saveModalState=e,this.showSaveModal=!0)},onEditOrglevel:function(e){this.editable&&(this.editModalState=e,this.showEditModal=!0)},onSaveModalClose:function(){this.saveModalState=null,this.showSaveModal=!1,this.fetchOrgStructure()},onEditModalClose:function(){this.editModalState=null,this.showEditModal=!1,this.fetchOrgStructure()},fetchOrgStructure:function(){var e=this;this.isLoading=!0,this.http.getAll({mode:"tree"}).then((function(t){var n=t.data.data;e.data=n[0]})).finally((function(){e.isLoading=!1}))}}};n("8d08"),n("7a7b");const Er=C()($r,[["render",fr],["__scopeId","data-v-54cd97af"]]);var Tr=Er,Ir={class:"orangehrm-background-container"},Br={class:"orangehrm-card-container"};function Lr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ir,[Object(o["createElementVNode"])("div",Br,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_employment_status")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employmentStatus.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Ur={props:{employmentStatusId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data:function(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[St,Dt(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.employmentStatusId).then((function(t){var n=t.data.data;return e.employmentStatus.id=n.id,e.employmentStatus.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.employmentStatus.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.employmentStatusId,{name:this.employmentStatus.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/employmentStatus")}}};const Ar=C()(Ur,[["render",Lr]]);var Pr=Ar,qr={class:"orangehrm-background-container"},Mr={class:"orangehrm-paper-container"},Rr={class:"orangehrm-header-container"},Fr={class:"orangehrm-container"},zr={class:"orangehrm-bottom-container"};function Gr(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qr,[Object(o["createElementVNode"])("div",Mr,[Object(o["createElementVNode"])("div",Rr,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.employment_status")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Fr,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",zr,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Qr={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.employment_status"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveEmploymentStatus")},onClickEdit:function(e){Y("/admin/saveEmploymentStatus/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Hr=C()(Qr,[["render",Gr]]);var Wr=Hr,Yr={class:"orangehrm-background-container"},Jr={class:"orangehrm-card-container"};function Xr(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Yr,[Object(o["createElementVNode"])("div",Jr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_employment_status")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employmentStatus.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Zr={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data:function(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[St,Dt(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.employmentStatus.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/employmentStatus")}}};const Kr=C()(Zr,[["render",Xr]]);var el=Kr,tl={class:"orangehrm-background-container"},nl={class:"orangehrm-paper-container"},ol={class:"orangehrm-header-container"},al={class:"orangehrm-container"},rl={class:"orangehrm-bottom-container"};function ll(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tl,[Object(o["createElementVNode"])("div",nl,[Object(o["createElementVNode"])("div",ol,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.education")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",al,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",rl,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var il={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/educations"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.level"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveEducation")},onClickEdit:function(e){Y("/admin/saveEducation/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const cl=C()(il,[["render",ll]]);var dl=cl,ul={class:"orangehrm-background-container"},sl={class:"orangehrm-card-container"};function ml(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ul,[Object(o["createElementVNode"])("div",sl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_education")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.qualification.name=e}),label:e.$t("general.level"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var bl={props:{educationId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data:function(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.educationId).then((function(t){var n=t.data.data;return e.qualification.id=n.id,e.qualification.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.qualification.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.educationId,{name:this.qualification.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/viewEducation")}}};const pl=C()(bl,[["render",ml]]);var fl=pl,hl={class:"orangehrm-background-container"},jl={class:"orangehrm-card-container"};function Ol(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hl,[Object(o["createElementVNode"])("div",jl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_education")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.qualification.name=e}),label:e.$t("general.level"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var vl={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data:function(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.qualification.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/viewEducation")}}};const gl=C()(vl,[["render",Ol]]);var Cl=gl,yl={class:"orangehrm-background-container"},Vl={class:"orangehrm-paper-container"},xl={class:"orangehrm-header-container"},wl={class:"orangehrm-container"},Nl={class:"orangehrm-bottom-container"};function _l(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yl,[Object(o["createElementVNode"])("div",Vl,[Object(o["createElementVNode"])("div",xl,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.skills")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",wl,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Nl,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var kl={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/skills"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveSkills")},onClickEdit:function(e){Y("/admin/saveSkills/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Sl=C()(kl,[["render",_l]]);var Dl=Sl,$l={class:"orangehrm-background-container"},El={class:"orangehrm-card-container"};function Tl(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$l,[Object(o["createElementVNode"])("div",El,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_skill")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Il={id:"",name:"",description:""},Bl={props:{qualificationSkillId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data:function(){return{isLoading:!1,skill:Object(R["a"])({},Il),rules:{name:[St,Dt(120)],description:[Dt(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationSkillId).then((function(t){var n=t.data.data;return e.skill.id=n.id,e.skill.name=n.name,e.skill.description=n.description,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.category.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationSkillId,{name:this.skill.name,description:this.skill.description}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/viewSkills")}}};const Ll=C()(Bl,[["render",Tl]]);var Ul=Ll,Al={class:"orangehrm-background-container"},Pl={class:"orangehrm-card-container"};function ql(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Al,[Object(o["createElementVNode"])("div",Pl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_skill")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Ml={id:"",name:"",description:""},Rl={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data:function(){return{isLoading:!1,skill:Object(R["a"])({},Ml),rules:{name:[St,Dt(120)],description:[Dt(400)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.skill.name,description:this.skill.description}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.skill.name="",e.skill.description="",e.onCancel()}))},onCancel:function(){Y("/admin/viewSkills")}}};const Fl=C()(Rl,[["render",ql]]);var zl=Fl,Gl={class:"orangehrm-background-container"},Ql={class:"orangehrm-card-container"};function Hl(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Gl,[Object(o["createElementVNode"])("div",Ql,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_license")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Wl={props:{licenseId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data:function(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.licenseId).then((function(t){var n=t.data.data;return e.license.id=n.id,e.license.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.license.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.licenseId,{name:this.license.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/viewLicenses")}}};const Yl=C()(Wl,[["render",Hl]]);var Jl=Yl,Xl={class:"orangehrm-background-container"},Zl={class:"orangehrm-card-container"};function Kl(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xl,[Object(o["createElementVNode"])("div",Zl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_license")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ei={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data:function(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.license.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.license.name="",e.onCancel()}))},onCancel:function(){Y("/admin/viewLicenses")}}};const ti=C()(ei,[["render",Kl]]);var ni=ti,oi={class:"orangehrm-background-container"},ai={class:"orangehrm-paper-container"},ri={class:"orangehrm-header-container"},li={class:"orangehrm-container"},ii={class:"orangehrm-bottom-container"};function ci(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oi,[Object(o["createElementVNode"])("div",ai,[Object(o["createElementVNode"])("div",ri,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.licenses")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",li,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",ii,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var di={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/licenses"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveLicenses")},onClickEdit:function(e){Y("/admin/saveLicenses/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const ui=C()(di,[["render",ci]]);var si=ui,mi={class:"orangehrm-background-container"},bi={class:"orangehrm-card-container"},pi={class:"orangehrm-employee-container"},fi={class:"orangehrm-employee-image"},hi={class:"orangehrm-employee-form"};function ji(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("profile-image-input"),u=Object(o["resolveComponent"])("full-name-input"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-input-group"),j=Object(o["resolveComponent"])("password-input"),O=Object(o["resolveComponent"])("required-text"),v=Object(o["resolveComponent"])("oxd-button"),g=Object(o["resolveComponent"])("submit-button"),C=Object(o["resolveComponent"])("oxd-form-actions"),y=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mi,[Object(o["createElementVNode"])("div",bi,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_employee")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(y,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",pi,[Object(o["createElementVNode"])("div",fi,[Object(o["createVNode"])(d,{modelValue:a.employee.empPicture,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.employee.empPicture=e}),rules:r.rules.empPicture,"img-src":l.profilePicUrl},null,8,["modelValue","rules","img-src"])]),Object(o["createElementVNode"])("div",hi,[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{firstName:a.employee.firstName,"onUpdate:firstName":t[1]||(t[1]=function(e){return a.employee.firstName=e}),middleName:a.employee.middleName,"onUpdate:middleName":t[2]||(t[2]=function(e){return a.employee.middleName=e}),lastName:a.employee.lastName,"onUpdate:lastName":t[3]||(t[3]=function(e){return a.employee.lastName=e}),rules:r.rules},null,8,["firstName","middleName","lastName","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.employee.employeeId=e}),label:e.$t("general.employee_id"),rules:r.rules.employeeId},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{class:"user-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"user-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.create_login_details")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:r.createLogin,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.createLogin=e})},null,8,["modelValue"])]})),_:1}),r.createLogin?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.user.username,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{label:e.$t("general.status"),classes:{wrapper:"--status-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.user.status,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.user.status=e}),type:"radio","option-label":e.$t("general.enabled"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(b,{modelValue:r.user.status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.user.status=e}),type:"radio","option-label":e.$t("general.disabled"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,{password:r.user.password,"onUpdate:password":t[9]||(t[9]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[10]||(t[10]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"])],64)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(c),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O),Object(o["createVNode"])(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(g)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Oi={class:"employee-image-wrapper"},vi=["src"];function gi(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-icon-button"),c=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,Object(o["mergeProps"])({ref:"fileInput"},e.$attrs,{type:"file"}),{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Oi,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:n.imgSrc},null,8,vi)]),Object(o["createVNode"])(i,{class:"employee-image-action",name:"plus",role:"none"})]})),_:1},16),Object(o["createVNode"])(d,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accept_jpg_png_upto_1mb_recomended_dimentions_200px_x_200px")),1)]})),_:1})],64)}var Ci={name:"ProfileImageInput",inheritAttrs:!1,props:{imgSrc:{type:String,required:!0}}};n("1f4d");const yi=C()(Ci,[["render",gi],["__scopeId","data-v-449ec876"]]);var Vi=yi;function xi(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{label:e.$t("general.employee_full_name"),classes:l.classes},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-firstname",name:"First Name",placeholder:e.$t("general.first_name"),"model-value":n.firstName,rules:n.rules.firstName,disabled:n.disabled,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:firstName",t)})},null,8,["placeholder","model-value","rules","disabled"]),Object(o["createVNode"])(i,{class:"orangehrm-middlename",name:"Middle Name","model-value":n.middleName,rules:n.rules.middleName,disabled:n.disabled,placeholder:n.showMiddleNamePlaceholder?e.$t("general.middle_name"):"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:middleName",t)})},null,8,["model-value","rules","disabled","placeholder"]),Object(o["createVNode"])(i,{class:"orangehrm-lastname",name:"Last Name",placeholder:e.$t("general.last_name"),"model-value":n.lastName,rules:n.rules.lastName,disabled:n.disabled,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:lastName",t)})},null,8,["placeholder","model-value","rules","disabled"])]})),_:1},8,["label","classes"])}var wi={name:"FullNameInput",inheritAttrs:!1,props:{firstName:{type:String,required:!0},middleName:{type:String,required:!0},lastName:{type:String,required:!0},rules:{type:Object,required:!0},disabled:{type:Boolean,default:!1},showMiddleNamePlaceholder:{type:Boolean,default:!0}},emits:["update:firstName","update:middleName","update:lastName"],computed:{classes:function(){return{label:{"oxd-input-field-required":!0},wrapper:{"--name-grouped-field":!0}}}}};n("d80c");const Ni=C()(wi,[["render",xi],["__scopeId","data-v-05b90bbd"]]);var _i=Ni,ki="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),Si={firstName:"",middleName:"",lastName:"",empPicture:null,employeeId:""},Di={username:"",userRoleId:2,empNumber:0,status:"1",password:"",passwordConfirm:""},$i={components:{"oxd-switch-input":Or["a"],"profile-image-input":Vi,"full-name-input":_i,"password-input":Wa},props:{empId:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup:function(e){var t=Object(o["ref"])(Object(R["a"])(Object(R["a"])({},Si),{},{employeeId:e.empId?e.empId:""})),n=new X(window.appGlobal.baseUrl,"api/v2/pim/employees");return{http:n,employee:t}},data:function(){return{isLoading:!1,createLogin:!1,user:Object(R["a"])({},Di),empNumber:null,rules:{firstName:[St,Dt(30)],middleName:[Dt(30)],lastName:[St,Dt(30)],employeeId:[Dt(10)],empPicture:[zt(1048576),Gt(this.allowedImageTypes)],username:[St,Xt(5),Dt(40)],status:[St]}}},computed:{profilePicUrl:function(){if(this.employee.empPicture){var e=this.employee.empPicture.base64,t=this.employee.empPicture.type,n=this.allowedImageTypes.findIndex((function(e){return e===t}));return n>-1?"data:".concat(t,";base64,").concat(e):ki}return ki}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;return e.rules.employeeId.push((function(e){var t=n.findIndex((function(t){return t.employeeId==e}));return!(t>-1)||"Employee Id already exists"})),e.http.http.get("api/v2/admin/users")})).then((function(t){var n=t.data.data;e.rules.username.push((function(e){var t=n.findIndex((function(t){return t.userName==e}));return!(t>-1)||"Username already exists"}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/pim/viewEmployeeList")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.employee)).then((function(t){var n=t.data;return null!==n&&void 0!==n&&n.data&&(e.empNumber=n.data.empNumber),e.createLogin&&null!==n&&void 0!==n&&n.data?e.http.http.post("api/v2/admin/users",{username:e.user.username,password:e.user.password,status:"1"==e.user.status,userRoleId:e.user.userRoleId,empNumber:n.data.empNumber}):void 0})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.employee=Object(R["a"])({},Si),e.user=Object(R["a"])({},Di),e.empNumber?Y("/pim/viewPersonalDetails/empNumber/".concat(e.empNumber)):e.onCancel()}))}}};n("fa74");const Ei=C()($i,[["render",ji],["__scopeId","data-v-22016eaa"]]);var Ti=Ei,Ii=function(e){return Object(o["pushScopeId"])("data-v-84646600"),e=e(),Object(o["popScopeId"])(),e},Bi={class:"orangehrm-background-container"},Li=Ii((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Ui={class:"orangehrm-paper-container"},Ai={key:0,class:"orangehrm-header-container"},Pi={class:"orangehrm-container"},qi={class:"orangehrm-bottom-container"};function Mi(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("employment-status-dropdown"),m=Object(o["resolveComponent"])("jobtitle-dropdown"),b=Object(o["resolveComponent"])("subunit-dropdown"),p=Object(o["resolveComponent"])("oxd-grid"),f=Object(o["resolveComponent"])("oxd-form-row"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("oxd-table-filter"),C=Object(o["resolveComponent"])("table-header"),y=Object(o["resolveComponent"])("oxd-card-table"),V=Object(o["resolveComponent"])("oxd-pagination"),x=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Bi,[Object(o["createVNode"])(g,{"filter-title":e.$t("pim.employee_information")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){var e;return[Object(o["createVNode"])(c,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),params:{includeEmployees:null===(e=a.filters.includeEmployees)||void 0===e?void 0:e.param}},null,8,["modelValue","params"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.employeeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.employeeId=e}),label:e.$t("general.employee_id")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.empStatusId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.empStatusId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeEmployees=e}),type:"select",label:e.$t("pim.include"),clear:!1,options:r.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.supervisor,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.supervisor=e}),label:e.$t("pim.supervisor_name")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.jobTitleId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.jobTitleId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.subunitId,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.subunitId=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(j,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),Li,Object(o["createElementVNode"])("div",Ui,[e.$can.create("employee_list")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ai,[Object(o["createVNode"])(j,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(C,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Pi,[Object(o["createVNode"])(y,{ref:"cardTable",selected:r.checkedItems,"onUpdate:selected":t[7]||(t[7]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[8]||(t[8]=function(e){return a.sortDefinition=e}),headers:l.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("employee_list"),clickable:!0,loading:a.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:l.onClickEdit},null,8,["selected","order","headers","items","selectable","loading","onClick"])]),Object(o["createElementVNode"])("div",qi,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:0,current:a.currentPage,"onUpdate:current":t[9]||(t[9]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(x,{ref:"deleteDialog"},null,512)])}function Ri(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",label:e.$t("general.job_title"),options:a.options},null,8,["label","options"])}var Fi={name:"JobtitleDropdown",setup:function(){var e=Object(o["ref"])([]),t=new X(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.title}}))}))})),{options:e}}};const zi=C()(Fi,[["render",Ri]]);var Gi=zi;function Qi(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",label:e.$t("general.sub_unit"),options:a.options},null,8,["label","options"])}var Hi={name:"SubunitDropdown",setup:function(){var e=Object(o["ref"])([]),t=new X(window.appGlobal.baseUrl,"api/v2/admin/subunits");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.name,_indent:e.level?e.level+1:1}}))}))})),{options:e}}};const Wi=C()(Hi,[["render",Qi]]);var Yi=Wi;function Ji(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",label:e.$t("general.employment_status"),options:a.options},null,8,["label","options"])}var Xi={name:"EmploymentStatusDropdown",setup:function(){var e=Object(o["ref"])([]),t=new X(window.appGlobal.baseUrl,"api/v2/admin/employment-statuses");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.name}}))}))})),{options:e}}};const Zi=C()(Xi,[["render",Ji]]);var Ki=Zi,ec=function(e){return e.map((function(e){var t,n,o,a;return{id:e.empNumber,employeeId:e.employeeId,firstAndMiddleName:"".concat(e.firstName," ").concat(e.middleName),lastName:e.lastName+(e.terminationId?" (Past Employee)":""),jobTitle:null!==(t=e.jobTitle)&&void 0!==t&&t.isDeleted?e.jobTitle.title+" (Deleted)":null===(n=e.jobTitle)||void 0===n?void 0:n.title,empStatus:null===(o=e.empStatus)||void 0===o?void 0:o.name,subunit:null===(a=e.subunit)||void 0===a?void 0:a.name,supervisor:e.supervisors?e.supervisors.map((function(e){return"".concat(e.firstName," ").concat(e.lastName)})).join(","):""}}))},tc={employee:null,employeeId:"",empStatusId:null,includeEmployees:{id:1,param:"onlyCurrent",label:"Current Employees Only"},supervisor:null,jobTitleId:null,subunitId:null},nc={"employee.employeeId":"DEFAULT","employee.firstName":"ASC","employee.lastName":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","empStatus.name":"DEFAULT","subunit.name":"DEFAULT","supervisor.firstName":"DEFAULT"},oc={components:{"delete-confirmation":ut,"employee-autocomplete":Ba,"jobtitle-dropdown":Gi,"subunit-dropdown":Yi,"employment-status-dropdown":Ki},setup:function(){var e=Object(o["ref"])(Object(R["a"])({},tc)),t=st({sortDefinition:nc}),n=t.sortDefinition,a=t.sortField,r=t.sortOrder,l=t.onSort,i=Object(o["computed"])((function(){var t,n,o,l,i;return{model:"detailed",empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,employeeId:e.value.employeeId,empStatusId:null===(n=e.value.empStatusId)||void 0===n?void 0:n.id,includeEmployees:null===(o=e.value.includeEmployees)||void 0===o?void 0:o.param,supervisorEmpNumbers:e.value.supervisor?[e.value.supervisor.id]:void 0,jobTitleId:null===(l=e.value.jobTitleId)||void 0===l?void 0:l.id,subunitId:null===(i=e.value.subunitId)||void 0===i?void 0:i.id,sortField:a.value,sortOrder:r.value}})),c=new X(window.appGlobal.baseUrl,"api/v2/pim/employees"),d=ot(c,{query:i,normalizer:ec}),u=d.showPaginator,s=d.currentPage,m=d.total,b=d.pages,p=d.pageSize,f=d.response,h=d.isLoading,j=d.execQuery;return l(j),{http:c,showPaginator:u,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:e,sortDefinition:n}},data:function(){return{includeOpts:[{id:1,param:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,param:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,param:"onlyPast",label:this.$t("general.past_employees_only")}],checkedItems:[]}},computed:{headers:function(){return[{name:"employeeId",slot:"title",title:this.$t("general.id"),sortField:"employee.employeeId",style:{flex:1}},{name:"firstAndMiddleName",title:this.$t("pim.first_middle_name"),sortField:"employee.firstName",style:{flex:1}},{name:"lastName",title:this.$t("general.last_name"),sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:1}},{name:"empStatus",title:this.$t("general.employment_status"),sortField:"empStatus.name",style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),sortField:"subunit.name",style:{flex:1}},{name:"supervisor",title:this.$t("pim.supervisor"),sortField:"supervisor.firstName",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:Object(R["a"])(Object(R["a"])({},this.$can.delete("employee_list")&&{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}}),{},{edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}})}]}},methods:{onClickAdd:function(){Y("/pim/addEmployee")},onClickEdit:function(e){var t,n=e.id?e.id:null===(t=e.item)||void 0===t?void 0:t.id;Y("/pim/viewPersonalDetails/empNumber/{id}",{id:n})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e,t){var n=this;t.stopImmediatePropagation(),this.$refs.deleteDialog.showDialog().then((function(t){"ok"===t&&n.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("aa44");const ac=C()(oc,[["render",Mi],["__scopeId","data-v-84646600"]]);var rc=ac,lc={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ic(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("full-name-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-input-field"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("oxd-input-group"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{"employee-id":n.empNumber,screen:"personal"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",lc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.personal_details")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{firstName:r.employee.firstName,"onUpdate:firstName":t[0]||(t[0]=function(e){return r.employee.firstName=e}),middleName:r.employee.middleName,"onUpdate:middleName":t[1]||(t[1]=function(e){return r.employee.middleName=e}),lastName:r.employee.lastName,"onUpdate:lastName":t[2]||(t[2]=function(e){return r.employee.lastName=e}),rules:r.rules},null,8,["firstName","middleName","lastName","rules"])]})),_:1})]})),_:1}),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.nickname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.employee.nickname=e}),label:e.$t("pim.nickname"),rules:r.rules.nickname},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.employee.employeeId=e}),label:e.$t("general.employee_id"),rules:r.rules.employeeId,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.otherId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.employee.otherId=e}),label:e.$t("pim.other_id"),rules:r.rules.otherId},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.drivingLicenseNo,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.employee.drivingLicenseNo=e}),label:e.$t("pim.driver_license_number"),rules:r.rules.drivingLicenseNo,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.employee.drivingLicenseExpiredDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.employee.drivingLicenseExpiredDate=e}),label:e.$t("pim.license_expiry_date")},null,8,["modelValue","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[n.showSsnField?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.ssnNumber,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.employee.ssnNumber=e}),label:e.$t("pim.ssn_number"),rules:r.rules.ssnNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1})):Object(o["createCommentVNode"])("",!0),n.showSinField?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.sinNumber,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.employee.sinNumber=e}),label:e.$t("pim.sin_number"),rules:r.rules.sinNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.nationality,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.employee.nationality=e}),type:"select",label:e.$t("general.nationality"),clear:!1,options:n.nationalities},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.maritalStatus,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.employee.maritalStatus=e}),type:"select",label:e.$t("pim.marital_status"),clear:!1,options:r.maritalStatuses},null,8,["modelValue","label","options"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.employee.birthday,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.employee.birthday=e}),label:e.$t("pim.date_of_birth"),disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{label:e.$t("pim.gender"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.gender,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.employee.gender=e}),type:"radio","option-label":e.$t("general.male"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(m,{modelValue:r.employee.gender,"onUpdate:modelValue":t[14]||(t[14]=function(e){return r.employee.gender=e}),type:"radio","option-label":e.$t("general.female"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0})):Object(o["createCommentVNode"])("",!0),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.militaryService,"onUpdate:modelValue":t[15]||(t[15]=function(e){return r.employee.militaryService=e}),label:e.$t("pim.military_service"),rules:r.rules.militaryService},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.smoker,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.employee.smoker=e}),type:"checkbox",label:e.$t("pim.smoker"),"option-label":e.$t("general.yes")},null,8,["modelValue","label","option-label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var cc={class:"orangehrm-background-container"},dc={class:"orangehrm-card-container"},uc={class:"orangehrm-edit-employee"},sc={class:"orangehrm-edit-employee-navigation"},mc={class:"orangehrm-edit-employee-imagesection"},bc={class:"orangehrm-edit-employee-name"},pc=Object(o["createTextVNode"])(" (Past Employee) "),fc={class:"orangehrm-edit-employee-image-wrapper"},hc=["src"],jc={class:"orangehrm-edit-employee-content"};function Oc(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("tabs-navigation"),d=Object(o["resolveComponent"])("profile-custom-fields"),u=Object(o["resolveComponent"])("profile-attachments");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cc,[Object(o["createElementVNode"])("div",dc,[Object(o["createElementVNode"])("div",uc,[Object(o["createElementVNode"])("div",sc,[Object(o["createElementVNode"])("div",mc,[Object(o["createElementVNode"])("div",bc,[Object(o["createVNode"])(i,{tag:"h6",class:"--strong"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.employeeName),1)]})),_:1}),a.isCurrentEmp?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[pc]})),_:1}))]),Object(o["createElementVNode"])("div",fc,[Object(o["createElementVNode"])("div",{class:"orangehrm-edit-employee-image",onClick:t[0]||(t[0]=function(){return a.onClickProfilePic&&a.onClickProfilePic.apply(a,arguments)})},[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,hc)])])]),Object(o["createVNode"])(c,{tabs:n.tabs},null,8,["tabs"])]),Object(o["createElementVNode"])("div",jc,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0),"default"!==n.screen?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"employee-id":n.employeeId,screen:n.screen},null,8,["employee-id","screen"])):Object(o["createCommentVNode"])("",!0),"default"!==n.screen?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,"employee-id":n.employeeId,"allowed-file-types":n.allowedFileTypes,screen:n.screen},null,8,["employee-id","allowed-file-types","screen"])):Object(o["createCommentVNode"])("",!0)])])])])}var vc={role:"tablist",class:"orangehrm-tabs"},gc=["href"];function Cc(e,t,n,a,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vc,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.tabs,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,role:"tab",class:"orangehrm-tabs-wrapper"},[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({"orangehrm-tabs-item":!0,"--active":e.active}),href:e.url},Object(o["toDisplayString"])(e.name),11,gc)])})),128))])}var yc={name:"TabsNavigation",props:{tabs:{type:Array,required:!0}}};n("73b1");const Vc=C()(yc,[["render",Cc],["__scopeId","data-v-0c35ff1f"]]);var xc=Vc,wc={class:"orangehrm-attachment"},Nc={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},_c={class:"orangehrm-container"},kc={key:0,class:"orangehrm-bottom-container"};function Sc(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("save-attachment"),u=Object(o["resolveComponent"])("edit-attachment"),s=Object(o["resolveComponent"])("profile-action-header"),m=Object(o["resolveComponent"])("table-header"),b=Object(o["resolveComponent"])("oxd-card-table"),p=Object(o["resolveComponent"])("oxd-pagination"),f=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wc,[Object(o["createVNode"])(c),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,http:a.http,"allowed-file-types":n.allowedFileTypes,onClose:l.onSaveModalClose},null,8,["http","allowed-file-types","onClose"])):r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,data:r.editModalState,http:a.http,"allowed-file-types":n.allowedFileTypes,onClose:l.onEditModalClose},null,8,["data","http","allowed-file-types","onClose"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("div",Nc,[Object(o["createVNode"])(s,{"action-button-shown":e.$can.create("".concat(n.screen,"_attachment")),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.attachments")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(m,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",_c,[Object(o["createVNode"])(b,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("".concat(n.screen,"_attachment")),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kc,[Object(o["createVNode"])(p,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0)],64)),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512)])}var Dc=1,$c=1024,Ec=1048576,Tc=1073741824,Ic=function(e,t){var n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Dc,r="B";return n="number"===typeof e?e:parseInt(e,10),n>=Tc?(a=Tc,r="GB"):n>=Ec?(a=Ec,r="MB"):n>=$c&&(a=$c,r="kB"),(n/a).toFixed(t)+(o?" "+r:"")},Bc={class:"orangehrm-card-container"};function Lc(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Bc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_attachment")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.description=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var Uc={attachment:null,description:""},Ac={name:"SaveAttachment",props:{http:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,attachment:Object(R["a"])({},Uc),rules:{description:[Dt(200)],attachment:[St,zt(1048576),Gt(this.allowedFileTypes)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.attachment)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.attachment=Object(R["a"])({},Uc),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Pc=C()(Ac,[["render",Lc]]);var qc=Pc,Mc={class:"orangehrm-card-container"};function Rc(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Mc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_attachment")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("general.current_file")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.currentFile),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.description=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var Fc={attachment:null,description:""},zc={name:"EditAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,currentFile:"",attachment:Object(R["a"])({},Fc),rules:{description:[Dt(200)],attachment:[zt(1048576),Gt(this.allowedFileTypes)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.currentFile=n.filename,e.attachment.description=n.description})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])({},this.attachment)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.attachment=Object(R["a"])({},Fc),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Gc=C()(zc,[["render",Rc]]);var Qc=Gc,Hc={class:"orangehrm-action-header"};function Wc(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3}),n.actionButtonShown?(Object(o["openBlock"])(),Object(o["createBlock"])(c,Object(o["mergeProps"])({key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])):Object(o["createCommentVNode"])("",!0)])}var Yc={name:"ProfileActionHeader",inheritAttrs:!1,props:{actionButtonShown:{type:Boolean,required:!1,default:!0}}};n("9d36");const Jc=C()(Yc,[["render",Wc],["__scopeId","data-v-3dab643a"]]);var Xc=Jc,Zc=function(e){return e.map((function(e){return Object(R["a"])(Object(R["a"])({},e),{},{size:Ic(e.size,2)})}))},Kc={name:"ProfileAttachments",components:{"save-attachment":qc,"edit-attachment":Qc,"profile-action-header":Xc,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},screen:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/screen/").concat(e.screen,"/attachments")),n=ot(t,{normalizer:Zc,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"description",title:this.$t("general.description"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"attachedDate",title:this.$t("pim.date_added"),style:{flex:1}},{name:"attachedByName",title:this.$t("pim.added_by"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.update("".concat(this.screen,"_attachment"))&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),this.$can.delete("".concat(this.screen,"_attachment"))&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.read("".concat(this.screen,"_attachment"))&&(e.cellConfig.download={onClick:this.onClickDownload,props:{name:"download"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onClickDownload:function(e){var t="".concat(window.appGlobal.baseUrl,"/pim/viewAttachment/empNumber/").concat(this.employeeId,"/attachId/").concat(e.id);window.open(t,"_blank")},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ed=C()(Kc,[["render",Sc]]);var td=ed,nd={key:0,class:"orangehrm-custom-fields"},od={class:"orangehrm-card-container"};function ad(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-divider"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return 0!==r.fields.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",nd,[Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",od,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.custom_fields")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.fields,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:t.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customFieldsModel[t.model],"onUpdate:modelValue":function(e){return r.customFieldsModel[t.model]=e},type:t.type,label:t.label,options:t.extraData,rules:r.rules.default,disabled:!e.$can.update("".concat(n.screen,"_custom_fields"))},null,8,["modelValue","onUpdate:modelValue","type","label","options","rules","disabled"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),e.$can.update("".concat(n.screen,"_custom_fields"))?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","onSubmitValid"])])])):Object(o["createCommentVNode"])("",!0)}var rd=function(e){return"string"===typeof e?e.split(",").map((function(e,t){return{id:t,label:e}})).filter((function(e){return""!=e.label.trim()})):[]},ld={name:"ProfileCustomFields",props:{employeeId:{type:String,required:!0},screen:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/custom-fields?screen=").concat(e.screen));return{http:t}},data:function(){return{isLoading:!1,fields:[],customFieldsModel:{},rules:{default:[Dt(250)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data,o=n.data,a=n.meta;e.customFieldsModel=Object(R["a"])({},o),a.fields&&a.fields.length>0&&(e.fields=a.fields.map((function(t){var n=rd(t.extraData),a="custom".concat(t.id);if(1==t.fieldType&&o[a]){var r=n.find((function(e){return e.label==o[a]}));e.customFieldsModel[a]=r||null}return{id:t.id,label:t.fieldName,type:1==t.fieldType?"select":"input",model:a,extraData:n}})))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(this.employeeId,"/custom-fields"),data:Object(R["a"])({},this.customFieldsModel),transformRequest:[function(e){for(var t in e){var n;null!==(n=e[t])&&void 0!==n&&n.label&&(e[t]=e[t].label)}return JSON.stringify(e)}]}).then((function(){e.isLoading=!1,e.$toast.saveSuccess()}))}}};const id=C()(ld,[["render",ad]]);var cd=id,dd="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),ud={name:"EditEmployeeLayout",components:{"tabs-navigation":xc,"profile-attachments":td,"profile-custom-fields":cd},props:{employeeId:{type:String,required:!0},tabs:{type:Array,required:!0},allowedFileTypes:{type:Array,required:!0},screen:{type:String,default:"default",validator:function(e){return["default","personal","contact","emergency","dependents","immigration","qualifications","tax","salary","job","report-to","membership"].includes(e)}}},setup:function(e){var t=Object(o["ref"])(""),n=Object(o["ref"])(!0),a=new X(window.appGlobal.baseUrl,"api/v2/pim/employees");a.get(e.employeeId).then((function(e){var o=e.data;t.value="".concat(o.data.firstName," ").concat(o.data.lastName),n.value=!o.data.terminationId}));var r=Object(o["computed"])((function(){return e.employeeId?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.employeeId):dd})),l=function(){Y("/pim/viewPhotograph/empNumber/{empNumber}",{empNumber:e.employeeId})};return{imgSrc:r,employeeName:t,isCurrentEmp:n,onClickProfilePic:l}}};n("3cba");const sd=C()(ud,[["render",Oc],["__scopeId","data-v-13f04ee6"]]);var md=sd,bd={firstName:"",middleName:"",lastName:"",employeeId:"",otherId:"",drivingLicenseNo:"",drivingLicenseExpiredDate:"",ssnNumber:"",sinNumber:"",nationality:[],maritalStatus:[],birthday:"",gender:"",nickname:"",smoker:"",militaryService:""},pd={components:{"edit-employee-layout":md,"full-name-input":_i},props:{empNumber:{type:String,required:!0},nationalities:{type:Array,default:function(){return[]}},showDeprecatedFields:{type:Boolean,default:!1},showSsnField:{type:Boolean,default:!1},showSinField:{type:Boolean,default:!1}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/personal-details"));return{http:t}},data:function(){return{isLoading:!1,employee:Object(R["a"])({},bd),rules:{firstName:[St,Dt(30)],middleName:[Dt(30)],lastName:[St,Dt(30)],employeeId:[Dt(10)],otherId:[Dt(30)],drivingLicenseNo:[Dt(30)],ssnNumber:[Dt(30)],sinNumber:[Dt(30)],nickname:[Dt(30)],militaryService:[Dt(30)]},maritalStatuses:[{id:"Single",label:"Single"},{id:"Married",label:"Married"},{id:"Other",label:"Other"}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){return e.updateModel(t),e.http.request({method:"GET",url:"api/v2/pim/employees"})})).then((function(t){var n=t.data.data;e.rules.employeeId.push((function(t){var o=n.findIndex((function(e){return e.employeeId==t}));if(o>-1){var a=n[o].empNumber;return a==e.empNumber||e.$t("pim.employee_id_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.request({method:"PUT",data:{lastName:this.employee.lastName,firstName:this.employee.firstName,middleName:this.employee.middleName,employeeId:this.employee.employeeId,otherId:this.employee.otherId,drivingLicenseNo:this.employee.drivingLicenseNo,drivingLicenseExpiredDate:this.employee.drivingLicenseExpiredDate,gender:this.employee.gender,maritalStatus:null===(e=this.employee.maritalStatus)||void 0===e?void 0:e.id,birthday:this.employee.birthday,nationalityId:null===(t=this.employee.nationality)||void 0===t?void 0:t.id,ssnNumber:this.showSsnField?this.employee.ssnNumber:void 0,sinNumber:this.showSinField?this.employee.sinNumber:void 0,nickname:this.showDeprecatedFields?this.employee.nickname:void 0,smoker:this.showDeprecatedFields?this.employee.smoker:void 0,militaryService:this.showDeprecatedFields?this.employee.militaryService:void 0}}).then((function(e){return n.updateModel(e),n.$toast.updateSuccess()})).then((function(){n.isLoading=!1}))},updateModel:function(e){var t=e.data.data;this.employee=Object(R["a"])(Object(R["a"])({},bd),t),this.employee.maritalStatus=this.maritalStatuses.find((function(e){return e.id===t.maritalStatus})),this.employee.nationality=this.nationalities.find((function(e){var n;return e.id===(null===(n=t.nationality)||void 0===n?void 0:n.id)}))}}};n("1727");const fd=C()(pd,[["render",ic],["__scopeId","data-v-5ff4f970"]]);var hd=fd,jd={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Od(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{"employee-id":n.empNumber,screen:"contact"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",jd,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.contact_details")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.address")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.street1,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.street1=e}),label:e.$t("pim.street1"),rules:r.rules.street1},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.street2,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.street2=e}),label:e.$t("pim.street2"),rules:r.rules.street2},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.city,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.city=e}),label:e.$t("general.city"),rules:r.rules.city},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.province,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.province=e}),label:e.$t("general.state_province"),rules:r.rules.province},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.zipCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.countryCode,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.contact.countryCode=e}),type:"select",label:e.$t("general.country"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.telephone")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.homeTelephone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.contact.homeTelephone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home"),rules:r.rules.homeTelephone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.mobile,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.contact.mobile=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobile},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.workTelephone,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.contact.workTelephone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work"),rules:r.rules.workTelephone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.email")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.workEmail,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.contact.workEmail=e}),label:e.$t("general.work_email"),rules:r.rules.workEmail},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.otherEmail,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.contact.otherEmail=e}),label:e.$t("general.other_email"),rules:r.rules.otherEmail},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var vd={street1:"",street2:"",city:"",province:"",countryCode:[],zipCode:"",homeTelephone:"",workTelephone:"",mobile:"",workEmail:"",otherEmail:""},gd={components:{"edit-employee-layout":md},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employee/".concat(e.empNumber,"/contact-details"));return t.setIgnorePath("api/v2/pim/employees/[0-9]+/contact-details/validation/(work-emails|other-emails)"),{http:t}},data:function(){return{isLoading:!1,contact:Object(R["a"])({},vd),rules:{street1:[Dt(70)],street2:[Dt(70)],city:[Dt(70)],province:[Dt(70)],zipCode:[Dt(10)],homeTelephone:[Dt(25),Ht],mobile:[Dt(25),Ht],workTelephone:[Dt(25),Ht],workEmail:[Dt(50),Qt,Object(Ya["a"])(this.validateWorkEmail,500)],otherEmail:[Dt(50),Qt,Object(Ya["a"])(this.validateOtherEmail,500)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(R["a"])(Object(R["a"])({},this.contact),{},{countryCode:null===(e=this.contact.countryCode)||void 0===e?void 0:e.id})}).then((function(e){return t.updateModel(e),t.$toast.updateSuccess()})).then((function(){t.isLoading=!1}))},validateWorkEmail:function(e){var t=this;return new Promise((function(n){if(e){var o=t.contact.workEmail===t.contact.otherEmail;t.http.request({method:"GET",url:"api/v2/pim/employees/".concat(t.empNumber,"/contact-details/validation/work-emails"),params:{workEmail:t.contact.workEmail}}).then((function(e){var a=e.data.data;return!0===a.valid?n(!o||t.$t("pim.work_email_and_other_email_cannot_be_the_same")):n(t.$t("general.already_exists"))}))}else n(!0)}))},validateOtherEmail:function(e){var t=this;return new Promise((function(n){if(e){var o=t.contact.otherEmail===t.contact.workEmail;t.http.request({method:"GET",url:"api/v2/pim/employees/".concat(t.empNumber,"/contact-details/validation/other-emails"),params:{otherEmail:t.contact.otherEmail}}).then((function(e){var a=e.data.data;return!0===a.valid?n(!o||t.$t("pim.work_email_and_other_email_cannot_be_the_same")):n(t.$t("general.already_exists"))}))}else n(!0)}))},validateEmailDifferent:function(e){var t=this;return function(n){var o=e();return null===o||""===o||(n!==o||t.$t("pim.work_email_and_other_email_cannot_be_the_same"))}},updateModel:function(e){var t=e.data.data;this.contact=Object(R["a"])(Object(R["a"])({},vd),t),this.contact.countryCode=this.countries.find((function(e){return e.id===t.countryCode}))}}};const Cd=C()(gd,[["render",Od]]);var yd=Cd,Vd={class:"orangehrm-horizontal-padding orangehrm-top-padding"},xd={class:"orangehrm-container"},wd={class:"orangehrm-bottom-container"};function Nd(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("save-emergency-contact"),c=Object(o["resolveComponent"])("edit-emergency-contact"),d=Object(o["resolveComponent"])("profile-action-header"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"emergency"},{default:Object(o["withCtx"])((function(){var n;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Vd,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_emergency_contacts")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",xd,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(n=a.items)||void 0===n?void 0:n.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",wd,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var _d={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function kd(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",_d,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.save_emergency_contact")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.relationship=e}),label:e.$t("pim.relationship"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.homePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:r.rules.homePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.mobilePhone=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobilePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.officePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:r.rules.officePhone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var Sd={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""},Dd={name:"SaveEmergencyContact",props:{http:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,contact:Object(R["a"])({},Sd),rules:{name:[St,Dt(100)],relationship:[St,Dt(100)],homePhone:[Ht,Dt(30),function(t){return""!==t||""!==e.contact.mobilePhone||""!==e.contact.officePhone||e.$t("pim.at_least_one_phone_number_is_required")}],mobilePhone:[Ht,Dt(30)],officePhone:[Ht,Dt(30)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.contact)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.contact=Object(R["a"])({},Sd),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const $d=C()(Dd,[["render",kd]]);var Ed=$d,Td={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Id(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Td,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_emergency_contact")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.relationship=e}),label:e.$t("pim.relationship"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.homePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:r.rules.homePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.mobilePhone=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobilePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.officePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:r.rules.officePhone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var Bd={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""},Ld={name:"EditEmergencyContact",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,contact:Object(R["a"])({},Bd),rules:{name:[St,Dt(100)],relationship:[St,Dt(100)],homePhone:[Ht,Dt(30),function(t){return""!==t||""!==e.contact.mobilePhone||""!==e.contact.officePhone||e.$t("pim.at_least_one_phone_number_is_required")}],mobilePhone:[Ht,Dt(30)],officePhone:[Ht,Dt(30)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.contact=Object(R["a"])(Object(R["a"])({},Bd),n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])({},this.contact)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.contact=Object(R["a"])({},Bd),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Ud=C()(Ld,[["render",Id]]);var Ad=Ud,Pd={components:{"profile-action-header":Xc,"edit-employee-layout":md,"save-emergency-contact":Ed,"edit-emergency-contact":Ad,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/emergency-contacts")),n=ot(t,{toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"homePhone",title:this.$t("pim.home_telephone"),style:{flex:1}},{name:"mobilePhone",title:this.$t("general.mobile"),style:{flex:1}},{name:"officePhone",title:this.$t("pim.work_telephone"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("8dd5");const qd=C()(Pd,[["render",Nd],["__scopeId","data-v-dfb143fc"]]);var Md=qd,Rd={class:"orangehrm-horizontal-padding orangehrm-top-padding"},Fd={class:"orangehrm-container"},zd={class:"orangehrm-bottom-container"};function Gd(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("save-dependent"),c=Object(o["resolveComponent"])("edit-dependent"),d=Object(o["resolveComponent"])("profile-action-header"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"dependents"},{default:Object(o["withCtx"])((function(){var n;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Rd,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_dependents")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Fd,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(n=a.items)||void 0===n?void 0:n.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",zd,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var Qd={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Hd(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Qd,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_dependent")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.dependent.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dependent.relationshipType=e}),type:"select",label:e.$t("pim.relationship"),rules:r.rules.relationshipType,options:r.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showRelationship?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.dependent.relationship=e}),label:e.$t("pim.please_specify"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.dependent.dateOfBirth=e}),label:e.$t("pim.date_of_birth"),rules:r.rules.dateOfBirth},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var Wd={name:"",relationshipType:null,relationship:"",dateOfBirth:""},Yd={name:"SaveDependent",props:{http:{type:Object,required:!0}},emits:["close"],data:function(){return{isLoading:!1,dependent:Object(R["a"])({},Wd),rules:{name:[St,Dt(100)],relationshipType:[St],relationship:[St,Dt(100)],dateOfBirth:[$t()]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship:function(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.dependent),{},{relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.dependent=Object(R["a"])({},Wd),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Jd=C()(Yd,[["render",Hd]]);var Xd=Jd,Zd={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Kd(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Zd,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_dependent")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.dependent.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dependent.relationshipType=e}),type:"select",label:e.$t("pim.relationship"),rules:r.rules.relationshipType,options:r.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showRelationship?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.dependent.relationship=e}),label:e.$t("pim.please_specify"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.dependent.dateOfBirth=e}),label:e.$t("pim.date_of_birth"),rules:r.rules.dateOfBirth},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var eu={name:"",relationshipType:null,relationship:"",dateOfBirth:""},tu={name:"EditDependent",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){return{isLoading:!1,dependent:Object(R["a"])({},eu),rules:{name:[St,Dt(100)],relationshipType:[St],relationship:[St,Dt(100)],dateOfBirth:[$t()]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship:function(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.dependent=Object(R["a"])(Object(R["a"])({},eu),n),e.dependent.relationshipType=e.relationshipOptions.find((function(e){return e.id===n.relationshipType}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])(Object(R["a"])({},this.dependent),{},{relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id})).then((function(){return t.$toast.updateSuccess()})).then((function(){t.dependent=Object(R["a"])({},eu),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const nu=C()(tu,[["render",Kd]]);var ou=nu,au=function(e){return e.map((function(e){return{id:e.id,dateOfBirth:e.dateOfBirth,name:e.name,relationship:"other"==e.relationshipType?e.relationship:"Child"}}))},ru={components:{"profile-action-header":Xc,"edit-employee-layout":md,"save-dependent":Xd,"edit-dependent":ou,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/dependents")),n=ot(t,{normalizer:au,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"dateOfBirth",title:this.$t("pim.date_of_birth"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"0.5"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const lu=C()(ru,[["render",Gd]]);var iu=lu,cu={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},du={class:"orangehrm-employee-picture"};function uu(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("profile-image-input"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("submit-button"),m=Object(o["resolveComponent"])("oxd-form-actions"),b=Object(o["resolveComponent"])("oxd-form"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",cu,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.change_profile_picture")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",du,[Object(o["createVNode"])(d,{modelValue:r.empPicture,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.empPicture=e}),rules:r.rules.empPicture,"img-src":l.profilePicUrl},null,8,["modelValue","rules","img-src"])])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var su="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),mu={components:{"profile-image-input":Vi,"edit-employee-layout":md},props:{empNumber:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/picture"));return{http:t}},data:function(){return{isLoading:!1,empPicture:null,rules:{empPicture:[St,zt(1048576),Gt(this.allowedImageTypes)]}}},computed:{profilePicUrl:function(){if(this.empPicture){var e=this.empPicture.base64,t=this.empPicture.type,n=this.allowedImageTypes.findIndex((function(e){return e===t}));return n>-1?"data:".concat(t,";base64,").concat(e):su}return su}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{empPicture:this.empPicture}}).then((function(){return e.$toast.updateSuccess()})).then((function(){location.reload()}))}}};n("f9c0");const bu=C()(mu,[["render",uu],["__scopeId","data-v-6b5ff2de"]]);var pu=bu,fu={class:"orangehrm-horizontal-padding orangehrm-top-padding"},hu={class:"orangehrm-container"},ju={class:"orangehrm-bottom-container"};function Ou(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("save-salary-component"),c=Object(o["resolveComponent"])("edit-salary-component"),d=Object(o["resolveComponent"])("profile-action-header"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"salary"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,paygrades:n.paygrades,"pay-frequencies":n.payFrequencies,currencies:n.currencies,"account-types":n.accountTypes,onClose:l.onSaveModalClose},null,8,["http","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,http:a.http,data:r.editModalState,paygrades:n.paygrades,"pay-frequencies":n.payFrequencies,currencies:n.currencies,"account-types":n.accountTypes,onClose:l.onEditModalClose},null,8,["http","data","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",fu,[Object(o["createVNode"])(d,{"action-button-shown":e.$can.update("salary_details"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_salary_components")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",hu,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:e.$can.delete("salary_details"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),Object(o["createElementVNode"])("div",ju,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var vu={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},gu=Object(o["createTextVNode"])(" Add Salary Component ");function Cu(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",vu,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[gu]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.salaryComponent.name=e}),label:e.$t("pim.salary_component"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.salaryComponent.payGradeId=e}),type:"select",label:e.$t("general.pay_grade"),options:n.paygrades},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.salaryComponent.payFrequencyId=e}),type:"select",label:e.$t("pim.pay_frequency"),options:n.payFrequencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:l.currenciesOpts,modelValue:r.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.salaryComponent.currencyId=e}),type:"select",label:e.$t("general.currency"),options:l.currenciesOpts,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.salaryComponent.salaryAmount=e}),label:e.$t("pim.amount"),rules:r.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==l.minAmount||void 0!==l.maxAmount?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){var e,t;return[Object(o["createTextVNode"])(" Min: "+Object(o["toDisplayString"])(null!==(e=l.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(o["toDisplayString"])(null!==(t=l.maxAmount)&&void 0!==t?t:0),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.salaryComponent.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"directdeposit-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:r.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.includeDirectDeposit=e})},null,8,["modelValue"])]})),_:1}),r.includeDirectDeposit?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.directDeposit.directDepositAccount=e}),label:e.$t("pim.account_number"),rules:r.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.directDeposit.directDepositAccountType=e}),type:"select",label:e.$t("pim.account_type"),rules:r.rules.directDepositAccountType,options:n.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showOptionalAccountType?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.accountType,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.accountType=e}),label:e.$t("pim.please_specify"),rules:r.rules.accountType,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.directDeposit.directDepositRoutingNumber=e}),label:e.$t("pim.routing_number"),rules:r.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.directDeposit.directDepositAmount=e}),label:e.$t("pim.amount"),rules:r.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var yu={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Vu={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""},xu={name:"SaveSalaryComponent",components:{"oxd-switch-input":Or["a"]},props:{http:{type:Object,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:Object(R["a"])({},yu),directDeposit:Object(R["a"])({},Vu),accountType:"",usableCurrencies:[],rules:{name:[St,Dt(100)],salaryAmount:[St,Bt,Yt(1e9)],comment:[Dt(250)],currencyId:[St],directDepositAccount:[St,Dt(100)],directDepositAccountType:[St],accountType:[St,Dt(20)],directDepositRoutingNumber:[St,Dt(9),Bt],directDepositAmount:[St,Bt,Yt(1e9)]}}},computed:{showOptionalAccountType:function(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts:function(){var e,t=this,n=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return n?n&&this.usableCurrencies.length>0?this.currencies.filter((function(e){return t.usableCurrencies.findIndex((function(t){return t.id===e.id}))>-1})):[]:this.currencies},currencyInfo:function(){var e=this;return this.usableCurrencies.find((function(t){var n;return t.id===(null===(n=e.salaryComponent.currencyId)||void 0===n?void 0:n.id)}))}},watch:{"salaryComponent.payGradeId":function(e){var t=this;null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:"/api/v2/admin/pay-grades/".concat(e.id,"/currencies"),method:"GET"}).then((function(e){var n=e.data.data;t.usableCurrencies=n.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}}));var o=t.salaryComponent.currencyId,a=t.usableCurrencies.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}));t.salaryComponent.currencyId=-1===a?null:t.salaryComponent.currencyId})).then((function(){t.isLoading=!1}))):this.usableCurrencies=[]}},mounted:function(){var e=this;this.$nextTick((function(){e.rules.salaryAmount.push((function(t){var n=e.minAmount?e.minAmount:0;return t>=n||"Should be within Min/Max values"})),e.rules.salaryAmount.push((function(t){var n=e.maxAmount?e.maxAmount:999999999;return t<=n||"Should be within Min/Max values"}))}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.create({salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(n=this.salaryComponent.currencyId)||void 0===n?void 0:n.id,payFrequencyId:null===(o=this.salaryComponent.payFrequencyId)||void 0===o?void 0:o.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?r:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((function(){return a.$toast.saveSuccess()})).then((function(){a.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("2247");const wu=C()(xu,[["render",Cu],["__scopeId","data-v-4598feb5"]]);var Nu=wu,_u={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ku(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",_u,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_salary_component")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.salaryComponent.name=e}),label:e.$t("pim.salary_component"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.salaryComponent.payGradeId=e}),type:"select",label:e.$t("general.pay_grade"),options:n.paygrades},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.salaryComponent.payFrequencyId=e}),type:"select",label:e.$t("pim.pay_frequency"),options:n.payFrequencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:l.currenciesOpts,modelValue:r.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.salaryComponent.currencyId=e}),type:"select",label:e.$t("general.currency"),options:l.currenciesOpts,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.salaryComponent.salaryAmount=e}),label:e.$t("pim.amount"),rules:r.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==l.minAmount||void 0!==l.maxAmount?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){var e,t;return[Object(o["createTextVNode"])(" Min: "+Object(o["toDisplayString"])(null!==(e=l.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(o["toDisplayString"])(null!==(t=l.maxAmount)&&void 0!==t?t:0),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.salaryComponent.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"directdeposit-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:r.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.includeDirectDeposit=e})},null,8,["modelValue"])]})),_:1}),r.includeDirectDeposit?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.directDeposit.directDepositAccount=e}),label:e.$t("pim.account_number"),rules:r.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.directDeposit.directDepositAccountType=e}),type:"select",label:e.$t("pim.account_type"),rules:r.rules.directDepositAccountType,options:n.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showOptionalAccountType?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.accountType,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.accountType=e}),label:e.$t("pim.please_specify"),rules:r.rules.accountType,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.directDeposit.directDepositRoutingNumber=e}),label:e.$t("pim.routing_number"),rules:r.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.directDeposit.directDepositAmount=e}),label:e.$t("pim.amount"),rules:r.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var Su={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Du={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""},$u={name:"EditSalaryComponent",components:{"oxd-switch-input":Or["a"]},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:Object(R["a"])({},Su),directDeposit:Object(R["a"])({},Du),accountType:"",usableCurrencies:[],rules:{name:[St,Dt(100)],salaryAmount:[St,Bt,Yt(1e9)],comment:[Dt(250)],currencyId:[St],directDepositAccount:[St,Dt(100)],directDepositAccountType:[St],accountType:[St,Dt(20)],directDepositRoutingNumber:[St,Dt(9),Bt],directDepositAmount:[St,Bt,Yt(1e9)]}}},computed:{showOptionalAccountType:function(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts:function(){var e,t=this,n=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return n?n&&this.usableCurrencies.length>0?this.currencies.filter((function(e){return t.usableCurrencies.findIndex((function(t){return t.id===e.id}))>-1})):[]:this.currencies},currencyInfo:function(){var e=this;return this.usableCurrencies.find((function(t){var n;return t.id===(null===(n=e.salaryComponent.currencyId)||void 0===n?void 0:n.id)}))}},watch:{"salaryComponent.payGradeId":function(e){var t=this;null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:"/api/v2/admin/pay-grades/".concat(e.id,"/currencies"),method:"GET"}).then((function(e){var n=e.data.data;t.usableCurrencies=n.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}}));var o=t.salaryComponent.currencyId,a=t.usableCurrencies.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}));t.salaryComponent.currencyId=-1===a?[]:t.salaryComponent.currencyId})).then((function(){t.isLoading=!1}))):this.usableCurrencies=[]}},mounted:function(){var e=this;this.$nextTick((function(){e.rules.salaryAmount.push((function(t){var n=e.minAmount?e.minAmount:0;return t>=n||e.$t("pim.should_be_within_min_max_values")})),e.rules.salaryAmount.push((function(t){var n=e.maxAmount?e.maxAmount:999999999;return t<=n||e.$t("pim.should_be_within_min_max_values")}))}))},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;if(e.salaryComponent.name=n.salaryName,e.salaryComponent.salaryAmount=n.amount,e.salaryComponent.comment=n.comment?n.comment:"",e.salaryComponent.payGradeId=e.paygrades.find((function(e){var t;return e.id===(null===(t=n.payGrade)||void 0===t?void 0:t.id)})),e.salaryComponent.payFrequencyId=e.payFrequencies.find((function(e){var t;return e.id===(null===(t=n.payPeriod)||void 0===t?void 0:t.id)})),e.salaryComponent.currencyId=e.currencies.find((function(e){var t;return e.id===(null===(t=n.currencyType)||void 0===t?void 0:t.id)})),null!==n.directDebit.id){e.includeDirectDeposit=!0,e.directDeposit.directDepositAccount=n.directDebit.account;var o=e.accountTypes.find((function(e){return e.id===n.directDebit.accountType}));e.directDeposit.directDepositAccountType=o||{id:"OTHER",label:e.$t("pim.other")},e.accountType=0===o.length?n.directDebit.accountType:"",e.directDeposit.directDepositRoutingNumber=n.directDebit.routingNumber,e.directDeposit.directDepositAmount=n.directDebit.amount}})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.update(this.data.id,{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(n=this.salaryComponent.currencyId)||void 0===n?void 0:n.id,payFrequencyId:null===(o=this.salaryComponent.payFrequencyId)||void 0===o?void 0:o.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?r:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((function(){return a.$toast.updateSuccess()})).then((function(){a.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("2163");const Eu=C()($u,[["render",ku],["__scopeId","data-v-535600c8"]]);var Tu=Eu,Iu=function(e){return e.map((function(e){var t,n,o;return{id:e.id,name:e.salaryName,amount:e.amount,currency:null===(t=e.currencyType)||void 0===t?void 0:t.name,frequency:null===(n=e.payPeriod)||void 0===n?void 0:n.name,depositAmount:null===(o=e.directDebit)||void 0===o?void 0:o.amount}}))},Bu={components:{"profile-action-header":Xc,"edit-employee-layout":md,"save-salary-component":Nu,"edit-salary-component":Tu,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/salary-components")),n=ot(t,{normalizer:Iu,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.salary_component"),style:{flex:1}},{name:"amount",title:this.$t("pim.amount"),style:{flex:1}},{name:"currency",title:this.$t("general.currency"),style:{flex:1}},{name:"frequency",title:this.$t("pim.pay_frequency"),style:{flex:1}},{name:"depositAmount",title:this.$t("pim.direct_deposit_amount"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("salary_details")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("salary_details")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Lu=C()(Bu,[["render",Ou]]);var Uu=Lu,Au={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Pu={key:1,class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function qu(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("job-spec-download"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("file-upload-input"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("profile-action-header"),C=Object(o["resolveComponent"])("terminate-modal"),y=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{"employee-id":n.empNumber,screen:"job","allowed-file-types":n.allowedFileTypes},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Au,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.job_details")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.job.joinedDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.job.joinedDate=e}),label:e.$t("general.joined_date"),rules:r.rules.joinedDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.job.jobTitleId=e}),type:"select",label:e.$t("general.job_title"),options:l.normalizedJobTitles,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{key:"jobspec-".concat(l.selectedJobTitleId),"resource-id":l.selectedJobTitleId},null,8,["resource-id"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.jobCategoryId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.job.jobCategoryId=e}),type:"select",label:e.$t("general.job_category"),options:n.jobCategories,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.subunitId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.job.subunitId=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.locationId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.job.locationId=e}),type:"select",label:e.$t("general.location"),options:n.locations,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.empStatusId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.job.empStatusId=e}),type:"select",label:e.$t("general.employment_status"),options:n.employmentStatuses,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{class:"user-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"user-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_employment_contract_details")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:r.showContractDetails,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.showContractDetails=e})},null,8,["modelValue"])]})),_:1}),r.showContractDetails?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contract.startDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.contract.startDate=e}),label:e.$t("pim.contract_start_date"),rules:r.rules.startDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.contract.endDate,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.contract.endDate=e}),label:e.$t("pim.contract_end_date"),rules:r.rules.endDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{newFile:r.contract.newAttachment,"onUpdate:newFile":t[9]||(t[9]=function(e){return r.contract.newAttachment=e}),method:r.contract.method,"onUpdate:method":t[10]||(t[10]=function(e){return r.contract.method=e}),label:e.$t("pim.contract_details"),"button-label":e.$t("general.browse"),file:r.contract.oldAttachment,rules:r.rules.contractAttachment,url:"pim/viewAttachment/empNumber/".concat(n.empNumber,"/attachId"),hint:"Accepts up to 1MB",disabled:!l.hasUpdatePermissions},null,8,["newFile","method","label","button-label","file","rules","url","disabled"])]})),_:1})]})),_:1})]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","onSubmitValid"])]),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0})):Object(o["createCommentVNode"])("",!0),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pu,[Object(o["createVNode"])(g,{"icon-name":"","display-type":l.terminationActionType,label:l.terminationActionLabel,class:"--termination-button",onClick:l.onClickTerminate},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.employee_termination_activation")),1)]})),_:1},8,["display-type","label","onClick"]),r.termination&&r.termination.id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,tag:"p",class:"orangehrm-terminate-date",onClick:l.openTerminateModal},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.terminated_on"))+": "+Object(o["toDisplayString"])(r.termination.date),1)]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),r.showTerminateModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:2,"employee-id":n.empNumber,"termination-reasons":n.terminationReasons,"termination-id":r.termination.id,onClose:l.closeTerminateModal},null,8,["employee-id","termination-reasons","termination-id","onClose"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["employee-id","allowed-file-types"])}function Mu(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-icon-button"),d=Object(o["resolveComponent"])("oxd-loading-spinner"),u=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{label:e.$t("general.job_specification")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({"input-container":!0,"--disabled":!e.file.id})},[Object(o["createVNode"])(i,{class:"input-container-filename",tag:"p",title:e.file.filename,onClick:a.downloadFile},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.file.id?e.file.filename:"Not Defined"),1)]})),_:1},8,["title","onClick"]),!e.isLoading&&e.file.id?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"input-container-icon",name:"download",onClick:a.downloadFile},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,class:"input-container-loader","with-container":!1})):Object(o["createCommentVNode"])("",!0)],2)]})),_:1},8,["label"])}var Ru={name:"JobSpecDownload",components:{"oxd-loading-spinner":Z["a"]},props:{resourceId:{type:Number,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/job-titles/".concat(e.resourceId,"/specification")),n=Object(o["reactive"])({isLoading:!1,file:{id:"",filename:"",fileType:"",fileSize:0}}),a=function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.isLoading=!0,t.request({method:"GET",validateStatus:function(e){return e>=200&&e<300||404==e}}).then((function(e){var t=e.data;n.file=Object(R["a"])({},t.data)})).finally((function(){n.isLoading=!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){if(n.file.id){var e="".concat(window.appGlobal.baseUrl,"/admin/viewJobSpecification/attachId/").concat(n.file.id);window.open(e,"_blank")}};return e.resourceId&&Object(o["onBeforeMount"])(a),Object(R["a"])(Object(R["a"])({},Object(o["toRefs"])(n)),{},{downloadFile:r})}};n("eb83");const Fu=C()(Ru,[["render",Mu],["__scopeId","data-v-d8a08d64"]]);var zu=Fu,Gu={class:"orangehrm-modal-header"};function Qu(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":t[4]||(t[4]=function(e){return l.onCancel(!1)})},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Gu,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.terminate_employment")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.termination.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.date=e}),label:e.$t("pim.termination_date"),rules:r.rules.date,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.termination.terminationReason,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.termination.terminationReason=e}),type:"select",label:e.$t("pim.termination_reason"),rules:r.rules.terminationReason,options:n.terminationReasons,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.termination.note,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.termination.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.type_here"),rules:r.rules.note},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:t[3]||(t[3]=function(e){return l.onCancel(!1)})},null,8,["label"]),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1})}var Hu={terminationReason:null,date:"",note:null},Wu={name:"TerminateModal",components:{"oxd-dialog":K["a"]},props:{employeeId:{type:String,required:!0},terminationReasons:{type:Array,required:!0},terminationId:{type:Number,required:!1,default:null}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/terminations"));return{http:t}},data:function(){return{isLoading:!1,termination:Object(R["a"])({},Hu),rules:{terminationReason:[St],date:[St,$t()],note:[Dt(250)]}}},beforeMount:function(){var e=this;this.terminationId&&(this.isLoading=!0,this.http.get(this.terminationId).then((function(t){var n=t.data.data;e.termination.terminationReason=e.terminationReasons.find((function(e){var t;return e.id===(null===(t=n.terminationReason)||void 0===t?void 0:t.id)})),e.termination.date=n.date,e.termination.note=n.note})).finally((function(){e.isLoading=!1})))},methods:{onSave:function(){var e,t=this;this.isLoading=!0;var n={date:this.termination.date,note:this.termination.note,terminationReasonId:null===(e=this.termination.terminationReason)||void 0===e?void 0:e.id};this.submitData(n,this.terminationId).then((function(){return t.$toast.updateSuccess()})).then((function(){t.onCancel(!0)}))},submitData:function(e,t){var n=this;return Object(ce["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.abrupt("return",t?n.http.update(t,e):n.http.create(e));case 1:case"end":return o.stop()}}),o)})))()},onCancel:function(e){this.$emit("close",e)}}};const Yu=C()(Wu,[["render",Qu]]);var Ju=Yu,Xu={joinedDate:"",jobTitleId:[],empStatusId:[],jobCategoryId:[],subunitId:[],locationId:[]},Zu={startDate:"",endDate:"",oldAttachment:null,newAttachment:null,method:"keepCurrent"},Ku={components:{"edit-employee-layout":md,"oxd-switch-input":Or["a"],"job-spec-download":zu,"file-upload-input":ln,"profile-action-header":Xc,"terminate-modal":Ju},props:{empNumber:{type:String,required:!0},locations:{type:Array,default:function(){return[]}},jobTitles:{type:Array,default:function(){return[]}},jobCategories:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},employmentStatuses:{type:Array,default:function(){return[]}},terminationReasons:{type:Array,default:function(){return[]}},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/job-details"));return{http:t}},data:function(){var e=this;return{isLoading:!1,showContractDetails:!1,job:Object(R["a"])({},Xu),contract:Object(R["a"])({},Zu),termination:null,showTerminateModal:!1,rules:{startDate:[$t()],endDate:[$t(),Pt((function(){return e.contract.startDate}))],contractAttachment:[function(t){return"replaceCurrent"!=e.contract.method||St(t)},Gt(this.allowedFileTypes),zt(this.maxFileSize)]}}},computed:{selectedJobTitleId:function(){var e,t=null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id;return t||0},terminationActionLabel:function(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?this.$t("pim.activate_employment"):this.$t("pim.terminate_employment")},terminationActionType:function(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?"ghost-success":"label-danger"},hasUpdatePermissions:function(){return this.$can.update("job_details")},normalizedJobTitles:function(){return this.jobTitles.map((function(e){return{id:e.id,label:null!==e&&void 0!==e&&e.deleted?e.label+" (Deleted)":e.label}}))}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateJobModel(t)})).then((function(){return e.http.request({method:"GET",url:"api/v2/pim/employees/".concat(e.empNumber,"/employment-contract")})})).then((function(t){e.updateContractModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a,r=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(R["a"])(Object(R["a"])({},this.job),{},{jobTitleId:null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id,jobCategoryId:null===(t=this.job.jobCategoryId)||void 0===t?void 0:t.id,subunitId:null===(n=this.job.subunitId)||void 0===n?void 0:n.id,empStatusId:null===(o=this.job.empStatusId)||void 0===o?void 0:o.id,locationId:null===(a=this.job.locationId)||void 0===a?void 0:a.id})}).then((function(e){return r.updateJobModel(e),r.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(r.empNumber,"/employment-contract"),data:{startDate:r.contract.startDate,endDate:r.contract.endDate,currentContractAttachment:r.contract.oldAttachment?r.contract.method:void 0,contractAttachment:r.contract.newAttachment?r.contract.newAttachment:void 0}})})).then((function(e){return e&&r.updateContractModel(e),r.$toast.updateSuccess()})).then((function(){r.isLoading=!1}))},onClickTerminate:function(){var e,t=this;null!==(e=this.termination)&&void 0!==e&&e.id?(this.$loader.startLoading(),this.http.request({method:"DELETE",url:"api/v2/pim/employees/".concat(this.empNumber,"/terminations")}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.$loader.endLoading(),location.reload()}))):this.openTerminateModal()},openTerminateModal:function(){this.showTerminateModal=!0},closeTerminateModal:function(e){this.showTerminateModal=!1,e&&location.reload()},updateContractModel:function(e){var t,n,o=e.data.data;this.contract.startDate=o.startDate,this.contract.endDate=o.endDate,this.contract.oldAttachment=null!==(t=o.contractAttachment)&&void 0!==t&&t.id?o.contractAttachment:null,this.contract.newAttachment=null,this.contract.method="keepCurrent",o.startDate||o.endDate||null!==(n=o.contractAttachment)&&void 0!==n&&n.id?this.showContractDetails=!0:this.showContractDetails=!1},updateJobModel:function(e){var t=e.data.data;this.job.joinedDate=t.joinedDate,this.job.jobTitleId=this.normalizedJobTitles.find((function(e){var n;return e.id===(null===(n=t.jobTitle)||void 0===n?void 0:n.id)})),this.job.jobCategoryId=this.jobCategories.find((function(e){var n;return e.id===(null===(n=t.jobCategory)||void 0===n?void 0:n.id)})),this.job.subunitId=this.subunits.find((function(e){var n;return e.id===(null===(n=t.subunit)||void 0===n?void 0:n.id)})),this.job.empStatusId=this.employmentStatuses.find((function(e){var n;return e.id===(null===(n=t.empStatus)||void 0===n?void 0:n.id)})),this.job.locationId=this.locations.find((function(e){var n;return e.id===(null===(n=t.location)||void 0===n?void 0:n.id)})),this.termination=t.employeeTerminationRecord}}};n("2d80");const es=C()(Ku,[["render",qu],["__scopeId","data-v-c9cb3872"]]);var ts=es,ns={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function os(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("employee-work-experience"),u=Object(o["resolveComponent"])("employee-education"),s=Object(o["resolveComponent"])("employee-skills"),m=Object(o["resolveComponent"])("employee-languages"),b=Object(o["resolveComponent"])("employee-license"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"qualifications"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ns,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.qualifications")),1)]})),_:1}),Object(o["createVNode"])(c)]),Object(o["createVNode"])(d,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(u,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(s,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(m,{"employee-id":n.empNumber,fluencies:n.fluencies,competencies:n.competencies},null,8,["employee-id","fluencies","competencies"]),Object(o["createVNode"])(b,{"employee-id":n.empNumber},null,8,["employee-id"])]})),_:1},8,["employee-id"])}var as={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},rs={class:"orangehrm-container"},ls={key:2,class:"orangehrm-bottom-container"};function is(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-skill"),d=Object(o["resolveComponent"])("edit-skill"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,api:a.skillsEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",as,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.skills")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",rs,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ls,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var cs={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function ds(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("qualification-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cs,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_skill")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.skillId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.skillId=e}),label:e.$t("pim.skill"),rules:r.rules.skillId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.yearsOfExperience=e}),label:e.$t("pim.years_of_experience"),rules:r.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.skill.comments=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comments},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}function us(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",options:a.options},null,8,["options"])}var ss={name:"QualificationDropdown",props:{api:{type:String,required:!0}},setup:function(e){var t=Object(o["ref"])([]),n=new X(window.appGlobal.baseUrl,e.api);return Object(o["onBeforeMount"])((function(){n.getAll().then((function(e){var n=e.data;t.value=n.data.map((function(e){return{id:e.id,label:e.name}}))}))})),{options:t}}};const ms=C()(ss,[["render",us]]);var bs=ms,ps={yearsOfExperience:"",comments:"",skillId:null},fs={name:"SaveSkill",components:{"qualification-dropdown":bs},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){return{isLoading:!1,skill:Object(R["a"])({},ps),rules:{skillId:[St],yearsOfExperience:[It,Tt(100)],comments:[Dt(100)]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create({skillId:null===(e=this.skill.skillId)||void 0===e?void 0:e.id,yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const hs=C()(fs,[["render",ds]]);var js=hs,Os={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function vs(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Os,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_skill")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("pim.skill"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.yearsOfExperience=e}),label:e.$t("pim.years_of_experience"),rules:r.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.skill.comments=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comments},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var gs={yearsOfExperience:0,comments:"",name:""},Cs={name:"EditSkill",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){return{isLoading:!1,skill:Object(R["a"])({},gs),rules:{yearsOfExperience:[It,Tt(100)],comments:[Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.skill.name=n.skill.name,e.skill.comments=n.comments,e.skill.yearsOfExperience=n.yearsOfExperience})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const ys=C()(Cs,[["render",vs]]);var Vs=ys,xs=function(e){return e.map((function(e){return{id:e.skill.id,name:e.skill.name,yearsOfExperience:e.yearsOfExperience,comments:e.comments}}))},ws={name:"EmployeeSkills",components:{"profile-action-header":Xc,"save-skill":js,"edit-skill":Vs,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/skills")),n="api/v2/pim/employees/".concat(e.employeeId,"/skills/allowed?limit=0"),o=ot(t,{normalizer:xs,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,skillsEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.skill"),style:{flex:1}},{name:"yearsOfExperience",title:this.$t("pim.years_of_experience"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Ns=C()(ws,[["render",is]]);var _s=Ns,ks={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ss={class:"orangehrm-container"},Ds={key:2,class:"orangehrm-bottom-container"};function $s(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-education"),d=Object(o["resolveComponent"])("edit-education"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,api:a.educationEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",ks,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.education")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ss,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ds,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Es={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Ts(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("qualification-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Es,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_education")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.educationId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.education.educationId=e}),label:e.$t("general.level"),rules:r.rules.educationId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.institute,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.education.institute=e}),label:e.$t("pim.institute"),rules:r.rules.institute},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.major,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.education.major=e}),label:e.$t("pim.major_specialization"),rules:r.rules.major},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.year,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.education.year=e}),label:e.$t("general.year"),rules:r.rules.year},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.score,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.education.score=e}),label:e.$t("pim.gpa_score"),rules:r.rules.score},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.education.startDate=e}),label:e.$t("general.start_date"),rules:r.rules.startDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.education.endDate=e}),label:e.$t("general.end_date"),rules:r.rules.endDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var Is={educationId:null,institute:"",major:"",year:"",score:"",startDate:"",endDate:""},Bs={name:"SaveEducation",components:{"qualification-dropdown":bs},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,education:Object(R["a"])({},Is),rules:{educationId:[St],institute:[Dt(100)],major:[Dt(100)],score:[Dt(25)],year:[Dt(4),It],startDate:[$t()],endDate:[$t(),Pt((function(){return e.education.startDate}))]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.education),{},{educationId:null===(e=this.education.educationId)||void 0===e?void 0:e.id,year:parseInt(this.education.year)})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Ls=C()(Bs,[["render",Ts]]);var Us=Ls,As={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Ps(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",As,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_education")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.education.name=e}),label:e.$t("general.level"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.institute,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.education.institute=e}),label:e.$t("pim.institute"),rules:r.rules.institute},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.major,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.education.major=e}),label:e.$t("pim.major_specialization"),rules:r.rules.major},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.year,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.education.year=e}),label:e.$t("general.year"),rules:r.rules.year},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.education.score,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.education.score=e}),label:e.$t("pim.gpa_score"),rules:r.rules.score},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.education.startDate=e}),label:e.$t("general.start_date"),rules:r.rules.startDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.education.endDate=e}),label:e.$t("general.end_date"),rules:r.rules.endDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var qs={name:"",institute:"",major:"",year:"",score:"",startDate:"",endDate:""},Ms={name:"EditEducation",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,education:Object(R["a"])({},qs),rules:{institute:[Dt(100)],major:[Dt(100)],score:[Dt(25)],year:[Dt(4),It],startDate:[$t()],endDate:[$t(),Pt((function(){return e.education.startDate}))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.education.name=n.education.name,e.education.institute=n.institute,e.education.major=n.major,e.education.year=n.year?n.year:"",e.education.score=n.score,e.education.startDate=n.startDate?n.startDate:"",e.education.endDate=n.endDate?n.endDate:""})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{institute:this.education.institute,major:this.education.major,year:parseInt(this.education.year),score:this.education.score,startDate:this.education.startDate,endDate:this.education.endDate}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Rs=C()(Ms,[["render",Ps]]);var Fs=Rs,zs=function(e){return e.map((function(e){return{id:e.id,level:e.education.name,year:e.year,score:e.score}}))},Gs={name:"EmployeeEducation",components:{"profile-action-header":Xc,"save-education":Us,"edit-education":Fs,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/educations")),n="api/v2/admin/educations?limit=0",o=ot(t,{normalizer:zs,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,educationEndpoint:n}},data:function(){return{headers:[{name:"level",slot:"title",title:this.$t("general.level"),style:{flex:1}},{name:"year",title:this.$t("general.year"),style:{flex:1}},{name:"score",title:this.$t("pim.gpa_score"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Qs=C()(Gs,[["render",$s]]);var Hs=Qs,Ws={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ys={class:"orangehrm-container"},Js={key:2,class:"orangehrm-bottom-container"};function Xs(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-language"),d=Object(o["resolveComponent"])("edit-language"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,api:a.languagesEndpoint,fluencies:n.fluencies,competencies:n.competencies,onClose:l.onSaveModalClose},null,8,["http","api","fluencies","competencies","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,data:r.editModalState,"employee-id":n.employeeId,competencies:n.competencies,onClose:l.onEditModalClose},null,8,["http","data","employee-id","competencies","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Ws,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.languages")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ys,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,disabled:l.isDisabled,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Js,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Zs={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Ks(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zs,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_language")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:l.allowedLanguages,modelValue:r.language.languageId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.languageId=e}),type:"select",label:e.$t("general.language"),options:l.allowedLanguages,rules:r.rules.languageId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:l.allowedFluencies,modelValue:r.language.fluencyId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.language.fluencyId=e}),type:"select",label:e.$t("pim.fluency"),options:l.allowedFluencies,rules:r.rules.fluencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.language.competencyId=e}),type:"select",label:e.$t("pim.competency"),options:n.competencies,rules:r.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.comment,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.language.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var em={languageId:null,fluencyId:null,competencyId:null,comment:""},tm={name:"SaveLanguage",props:{http:{type:Object,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){return{isLoading:!1,language:Object(R["a"])({},em),languages:[],rules:{languageId:[St],fluencyId:[St],competencyId:[St],comment:[Dt(100)]}}},computed:{allowedLanguages:function(){return this.languages},allowedFluencies:function(){var e=this,t=this.languages.findIndex((function(t){var n;return t.id===(null===(n=e.language.languageId)||void 0===n?void 0:n.id)}));if(t>-1){var n=this.languages[t];return this.fluencies.filter((function(e){return n.allowedFluencyIds.includes(e.id)}))}return[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:this.api}).then((function(t){var n=t.data.data;Array.isArray(n)&&(e.languages=n.map((function(e){return{id:e.id,label:e.name,allowedFluencyIds:e.allowedFluencyIds?e.allowedFluencyIds:[]}})))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o=this;this.isLoading=!0,this.http.create({languageId:null===(e=this.language.languageId)||void 0===e?void 0:e.id,fluencyId:null===(t=this.language.fluencyId)||void 0===t?void 0:t.id,competencyId:null===(n=this.language.competencyId)||void 0===n?void 0:n.id,comment:this.language.comment}).then((function(){return o.$toast.saveSuccess()})).then((function(){o.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const nm=C()(tm,[["render",Ks]]);var om=nm,am={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function rm(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",am,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_language")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.language"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.fluency,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.language.fluency=e}),label:e.$t("pim.fluency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.language.competencyId=e}),type:"select",label:e.$t("pim.competency"),options:n.competencies,rules:r.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.comment,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.language.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var lm={name:"",fluency:"",competencyId:null,comment:""},im={name:"EditLanguage",props:{http:{type:Object,required:!0},employeeId:{type:String,required:!0},data:{type:Object,required:!0},competencies:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,language:Object(R["a"])({},lm),rules:{competencyId:[St],comment:[Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/pim/employees/".concat(this.employeeId,"/languages/").concat(this.data.languageId,"/fluencies/").concat(this.data.fluencyId)}).then((function(t){var n=t.data.data;e.language.name=n.language.name,e.language.fluency=n.fluency.name,e.language.comment=n.comment?n.comment:"",e.language.competencyId=e.competencies.find((function(e){var t;return e.id===(null===(t=n.competency)||void 0===t?void 0:t.id)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(this.employeeId,"/languages/").concat(this.data.languageId,"/fluencies/").concat(this.data.fluencyId),data:{competencyId:this.language.competencyId.id,comment:this.language.comment}}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const cm=C()(im,[["render",rm]]);var dm=cm,um=function(e){return e.map((function(e){return{language:e.language.name,languageId:e.language.id,fluency:e.fluency.name,fluencyId:e.fluency.id,competency:e.competency.name,comments:e.comment}}))},sm={name:"EmployeeLanguages",components:{"profile-action-header":Xc,"save-language":om,"edit-language":dm,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/languages")),n="api/v2/pim/employees/".concat(e.employeeId,"/languages/allowed?limit=0"),o=ot(t,{normalizer:um,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,languagesEndpoint:n}},data:function(){return{headers:[{name:"language",slot:"title",title:this.$t("general.language"),style:{flex:1}},{name:"fluency",title:this.$t("pim.fluency"),style:{flex:1}},{name:"competency",title:this.$t("pim.competency"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n,o;return{languageId:null===(n=e.items)||void 0===n?void 0:n.data[t].languageId,fluencyId:null===(o=e.items)||void 0===o?void 0:o.data[t].fluencyId}}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([{languageId:e.languageId,fluencyId:e.fluencyId}])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const mm=C()(sm,[["render",Xs]]);var bm=mm,pm={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},fm={class:"orangehrm-container"},hm={key:2,class:"orangehrm-bottom-container"};function jm(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-work-experience"),d=Object(o["resolveComponent"])("edit-work-experience"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",pm,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.work_experience")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",fm,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hm,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Om={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function vm(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Om,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_work_experience")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workExperience.company=e}),label:e.$t("pim.company"),rules:r.rules.company,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workExperience.jobTitle=e}),label:e.$t("general.job_title"),rules:r.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workExperience.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workExperience.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workExperience.comment=e}),type:"textarea",label:e.$t("general.comment"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var gm={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""},Cm={name:"SaveWorkExperience",props:{http:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,workExperience:Object(R["a"])({},gm),rules:{company:[St,Dt(100)],jobTitle:[St,Dt(100)],fromDate:[$t()],toDate:[$t(),Pt((function(){return e.workExperience.fromDate}),this.$t("general.to_date_should_be_after_from_date"))],comment:[Dt(200)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.workExperience)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const ym=C()(Cm,[["render",vm]]);var Vm=ym,xm={class:"orangehrm-horizontal-padding orangehrm-top-padding"},wm=Object(o["createTextVNode"])(" Edit Work Experience ");function Nm(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xm,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[wm]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workExperience.company=e}),label:e.$t("pim.company"),rules:r.rules.company,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workExperience.jobTitle=e}),label:e.$t("general.job_title"),rules:r.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workExperience.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workExperience.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workExperience.comment=e}),type:"textarea",label:e.$t("general.comment"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var _m={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""},km={name:"EditWorkExperience",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,workExperience:Object(R["a"])({},_m),rules:{company:[St,Dt(100)],jobTitle:[St,Dt(100)],fromDate:[$t()],toDate:[$t(),Pt((function(){return e.workExperience.fromDate}),this.$t("general.to_date_should_be_after_from_date"))],comment:[Dt(200)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.workExperience=Object(R["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])({},this.workExperience)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Sm=C()(km,[["render",Nm]]);var Dm=Sm,$m={name:"EmployeeWorkExperience",components:{"profile-action-header":Xc,"save-work-experience":Vm,"edit-work-experience":Dm,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/work-experiences")),n=ot(t,{toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"company",slot:"title",title:this.$t("pim.company"),style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"fromDate",title:this.$t("general.from"),style:{flex:1}},{name:"toDate",title:this.$t("general.to"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Em=C()($m,[["render",jm]]);var Tm=Em,Im={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Bm={class:"orangehrm-container"},Lm={key:2,class:"orangehrm-bottom-container"};function Um(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-license"),d=Object(o["resolveComponent"])("edit-license"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,api:a.licenceEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Im,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.license")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Bm,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lm,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Am={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Pm(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("qualification-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Am,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_license")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.license.licenseId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.licenseId=e}),label:e.$t("pim.license_type"),rules:r.rules.licenseId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.license.licenseNo=e}),label:e.$t("pim.license_number"),rules:r.rules.licenseNo},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.license.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.license.expiryDate=e}),label:e.$t("general.expiry_date"),rules:r.rules.expiryDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var qm=n("2909"),Mm=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getFullYear(),n=new Array(e),o=0;o<n.length;o++)n[o]=t-Math.floor(e/2)+o;return n},Rm={licenseId:null,licenseNo:"",issuedDate:"",expiryDate:""},Fm={name:"SaveLicense",components:{"qualification-dropdown":bs},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,license:Object(R["a"])({},Rm),yearArray:Object(qm["a"])(Mm()),rules:{licenseId:[St],licenseNo:[Dt(50)],issuedDate:[$t()],expiryDate:[$t(),Pt((function(){return e.license.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.license),{},{licenseId:null===(e=this.license.licenseId)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const zm=C()(Fm,[["render",Pm]]);var Gm=zm,Qm={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Hm(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qm,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_license")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("pim.license_type"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.license.licenseNo=e}),label:e.$t("pim.license_number"),rules:r.rules.licenseNo},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.license.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.license.expiryDate=e}),label:e.$t("general.expiry_date"),rules:r.rules.expiryDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var Wm={name:"",licenseNo:"",issuedDate:"",expiryDate:""},Ym={name:"EditLicense",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,license:Object(R["a"])({},Wm),yearArray:Object(qm["a"])(Mm()),rules:{licenseNo:[Dt(50)],issuedDate:[$t()],expiryDate:[$t(),Pt((function(){return e.license.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.license.name=n.license.name,e.license.licenseNo=n.licenseNo?n.licenseNo:"",e.license.issuedDate=n.issuedDate,e.license.expiryDate=n.expiryDate})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{licenseNo:this.license.licenseNo,issuedDate:this.license.issuedDate,expiryDate:this.license.expiryDate}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Jm=C()(Ym,[["render",Hm]]);var Xm=Jm,Zm=function(e){return e.map((function(e){return{id:e.license.id,type:e.license.name,licenseNo:e.licenseNo,issuedDate:e.issuedDate,expiryDate:e.expiryDate}}))},Km={name:"EmployeeLicense",components:{"profile-action-header":Xc,"save-license":Gm,"edit-license":Xm,"delete-confirmation":ut},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/licenses")),n="api/v2/pim/employees/".concat(e.employeeId,"/licenses/allowed?limit=0"),o=ot(t,{normalizer:Zm,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,licenceEndpoint:n}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.license_type"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const eb=C()(Km,[["render",Um]]);var tb=eb,nb={components:{"edit-employee-layout":md,"employee-skills":_s,"employee-education":Hs,"employee-languages":bm,"employee-work-experience":Tm,"employee-license":tb},props:{empNumber:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}}};const ob=C()(nb,[["render",os]]);var ab=ob,rb={class:"orangehrm-horizontal-padding orangehrm-top-padding"},lb={class:"orangehrm-container"},ib={class:"orangehrm-bottom-container"};function cb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("save-immigration"),c=Object(o["resolveComponent"])("edit-immigration"),d=Object(o["resolveComponent"])("profile-action-header"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"immigration"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,countries:n.countries,onClose:l.onSaveModalClose},null,8,["http","countries","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,http:a.http,countries:n.countries,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","countries","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",rb,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_immigration_records")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",lb,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",ib,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var db={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ub(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",db,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_immigration")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("pim.document"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.immigration.number=e}),label:e.$t("pim.number"),rules:r.rules.number,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.immigration.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.immigration.expiryDate=e}),label:e.$t("general.expiry_date"),years:r.yearArray,rules:r.rules.expiryDate},null,8,["modelValue","label","years","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.immigration.status=e}),label:e.$t("pim.eligible_status"),rules:r.rules.status},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.immigration.countryCode=e}),type:"select",label:e.$t("pim.issued_by"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.immigration.reviewDate=e}),label:e.$t("pim.eligible_review_date"),rules:r.rules.reviewDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.immigration.comment=e}),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var sb={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""},mb={name:"SaveImmigration",props:{http:{type:Object,required:!0},countries:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){var e=this;return{isLoading:!1,immigration:Object(R["a"])({},sb),yearArray:Object(qm["a"])(Mm()),rules:{number:[St,Dt(30)],expiryDate:[$t(),Pt((function(){return e.immigration.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[Dt(30)],reviewDate:[$t()],comment:[Dt(250)]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.immigration),{},{countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.immigration=Object(R["a"])({},sb),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const bb=C()(mb,[["render",ub]]);var pb=bb,fb={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function hb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",fb,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_immigration")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:"Document",classes:r.immigrationTypeClasses},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["classes"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.immigration.number=e}),label:e.$t("pim.number"),rules:r.rules.number,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.immigration.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.immigration.expiryDate=e}),label:e.$t("general.expiry_date"),years:r.yearArray,rules:r.rules.expiryDate},null,8,["modelValue","label","years","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.immigration.status=e}),label:e.$t("pim.eligible_status"),rules:r.rules.status},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.immigration.countryCode=e}),type:"select",label:e.$t("pim.issued_by"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.immigration.reviewDate=e}),label:e.$t("pim.eligible_review_date"),rules:r.rules.reviewDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.immigration.comment=e}),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var jb={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""},Ob={name:"EditImmigration",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},countries:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){var e=this;return{isLoading:!1,immigration:Object(R["a"])({},jb),yearArray:Object(qm["a"])(Mm()),rules:{number:[St,Dt(30)],expiryDate:[$t(),Pt((function(){return e.immigration.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[Dt(30)],reviewDate:[$t()],comment:[Dt(250)]},immigrationTypeClasses:{wrapper:"--gender-grouped-field",label:{"oxd-input-field-required":!0}}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.immigration=Object(R["a"])(Object(R["a"])({},jb),n),e.immigration.countryCode=e.countries.find((function(e){var t;return e.id===(null===(t=n.country)||void 0===t?void 0:t.code)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.update(this.data.id,{number:this.immigration.number,issuedDate:this.immigration.issuedDate,expiryDate:this.immigration.expiryDate,type:this.immigration.type,status:this.immigration.status,reviewDate:this.immigration.reviewDate,comment:this.immigration.comment,countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.immigration=Object(R["a"])({},jb),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const vb=C()(Ob,[["render",hb]]);var gb=vb,Cb=function(e){return e.map((function(e){return{id:e.id,type:1==e.type?"Passport":"VISA",number:e.number,countryCode:e.country.code,countryName:e.country.name,issuedDate:e.issuedDate,expiryDate:e.expiryDate}}))},yb={components:{"profile-action-header":Xc,"edit-employee-layout":md,"save-immigration":pb,"edit-immigration":gb,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/immigrations")),n=ot(t,{normalizer:Cb,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.document"),style:{flex:1}},{name:"number",title:this.$t("pim.number"),style:{flex:1}},{name:"countryName",title:this.$t("pim.issued_by"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("88b0");const Vb=C()(yb,[["render",cb],["__scopeId","data-v-242d0e9d"]]);var xb=Vb,wb={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Nb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("employee-supervisors"),u=Object(o["resolveComponent"])("employee-subordinates"),s=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{"employee-id":n.empNumber,screen:"report-to"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",wb,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.report_to")),1)]})),_:1}),Object(o["createVNode"])(c)]),Object(o["createVNode"])(d,{"emp-number":n.empNumber,"reporting-methods":n.reportingMethods},null,8,["emp-number","reporting-methods"]),Object(o["createVNode"])(u,{"emp-number":n.empNumber,"reporting-methods":n.reportingMethods},null,8,["emp-number","reporting-methods"])]})),_:1},8,["employee-id"])}var _b={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},kb={class:"orangehrm-container"},Sb={key:2,class:"orangehrm-bottom-container"};function Db(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-employee-report-to"),d=Object(o["resolveComponent"])("edit-employee-report-to"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,"reporting-methods":n.reportingMethods,type:"Supervisor","emp-number":n.empNumber,onClose:l.onSaveModalClose},null,8,["http","reporting-methods","emp-number","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,"emp-number":n.empNumber,data:r.editModalState,type:"Supervisor",api:a.supervisorEndpoint,"reporting-methods":n.reportingMethods,onClose:l.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",_b,[Object(o["createVNode"])(u,{"action-button-shown":e.$can.create("supervisor"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_supervisors")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",kb,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("supervisor"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Sb,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var $b={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Eb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("report-to-employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$b,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add"))+" "+Object(o["toDisplayString"])(n.type),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportTo.employee=e}),rules:r.rules.employee,api:a.api,required:""},null,8,["modelValue","rules","api"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reportTo.reportingMethod=e}),type:"select",label:e.$t("pim.reporting_method"),rules:r.rules.reportingMethod,options:n.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var Tb=Object(o["createTextVNode"])("(Past Employee)"),Ib={key:0,class:"past-employee-tag"};function Bb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"autocomplete",label:e.$t("general.name"),clear:!1,"create-options":l.loadEmployees},{afterSelected:Object(o["withCtx"])((function(e){var t=e.data;return[t.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Tb],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.label),1),n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ib,Object(o["toDisplayString"])(e.$t("general.past_employee")),1)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","create-options"])}var Lb={name:"ReportToEmployeeAutocomplete",props:{api:{type:String,required:!0},params:{type:Object,default:function(){return{}}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,e.api);return{http:t}},methods:{loadEmployees:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll(Object(R["a"])({nameOrId:e.trim()},t.params)).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const Ub=C()(Lb,[["render",Bb]]);var Ab=Ub,Pb={employee:null,reportingMethod:null},qb={name:"SaveEmployeeReportTo",components:{"report-to-employee-autocomplete":Ab},props:{http:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0}},emits:["close"],setup:function(e){var t="api/v2/pim/employees/".concat(e.empNumber,"/report-to/allowed");return{api:t}},data:function(){return{isLoading:!1,reportTo:Object(R["a"])({},Pb),rules:{employee:[St],reportingMethod:[St]}}},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({empNumber:null===(e=this.reportTo.employee)||void 0===e?void 0:e.id,reportingMethodId:null===(t=this.reportTo.reportingMethod)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Mb=C()(qb,[["render",Eb]]);var Rb=Mb,Fb={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function zb(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("report-to-employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fb,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit"))+" "+Object(o["toDisplayString"])(n.type),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportTo.employee=e}),required:"",disabled:"",api:a.allowedEmployeesApi,rules:r.rules.employee,clear:!1},null,8,["modelValue","api","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reportTo.reportingMethod=e}),type:"select",label:e.$t("pim.reporting_method"),rules:r.rules.reportingMethod,options:n.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(c)])}var Gb={employee:null,reportingMethod:null},Qb={name:"EditEmployeeReportTo",components:{"report-to-employee-autocomplete":Ab},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0},api:{type:String,required:!0}},emits:["close"],setup:function(e){var t="api/v2/pim/employees/".concat(e.empNumber,"/report-to/allowed");return{allowedEmployeesApi:t}},data:function(){return{isLoading:!1,reportTo:Object(R["a"])({},Gb),rules:{employee:[St],reportingMethod:[St]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"Supervisor"===this.type?"".concat(this.api).concat(this.data.supervisorEmpNumber):"".concat(this.api).concat(this.data.subordinateEmpNumber)}).then((function(t){var n=t.data.data;e.reportTo.employee={id:"Supervisor"===e.type?n.supervisor.empNumber:n.subordinate.empNumber,label:"Supervisor"===e.type?"".concat(n.supervisor.firstName," ").concat(n.supervisor.middleName," ").concat(n.supervisor.lastName):"".concat(n.subordinate.firstName," ").concat(n.subordinate.middleName," ").concat(n.subordinate.lastName),isPastEmployee:"Supervisor"===e.type?n.supervisor.terminationId:n.subordinate.terminationId},e.reportTo.reportingMethod=e.reportingMethods.find((function(e){return e.id===n.reportingMethod.id}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0;var n="Supervisor"===this.type?this.data.supervisorEmpNumber:this.data.subordinateEmpNumber;this.http.update(n,{reportingMethodId:null===(e=this.reportTo.reportingMethod)||void 0===e?void 0:e.id}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Hb=C()(Qb,[["render",zb]]);var Wb=Hb,Yb=void 0,Jb=function(e){return e.map((function(e){var t,n;return{name:"".concat(null===(t=e.supervisor)||void 0===t?void 0:t.firstName," ").concat(null===(n=e.supervisor)||void 0===n?void 0:n.lastName," ").concat(e.supervisor.terminationId?Yb.$t("general.past_employee"):""),reportingMethod:e.reportingMethod.name,supervisorEmpNumber:e.supervisor.empNumber}}))},Xb={name:"EmployeeSupervisors",components:{"edit-employee-report-to":Wb,"profile-action-header":Xc,"save-employee-report-to":Rb,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/supervisors")),n="api/v2/pim/employees/".concat(e.empNumber,"/supervisors/"),o=ot(t,{normalizer:Jb,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,supervisorEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:"Actions",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("supervisor")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("supervisor")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].supervisorEmpNumber}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.supervisorEmpNumber])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Zb=C()(Xb,[["render",Db]]);var Kb=Zb,ep={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},tp={class:"orangehrm-container"},np={key:2,class:"orangehrm-bottom-container"};function op(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-employee-report-to"),d=Object(o["resolveComponent"])("edit-employee-report-to"),u=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,type:"Subordinate","emp-number":n.empNumber,"reporting-methods":n.reportingMethods,onClose:l.onSaveModalClose},null,8,["http","emp-number","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,http:a.http,"emp-number":n.empNumber,data:r.editModalState,type:"Subordinate",api:a.subordinateEndpoint,"reporting-methods":n.reportingMethods,onClose:l.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",ep,[Object(o["createVNode"])(u,{"action-button-shown":e.$can.create("subordinates"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_subordinates")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",tp,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("subordinates"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",np,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var ap=function(e){return e.map((function(e){var t,n;return{name:"".concat(null===(t=e.subordinate)||void 0===t?void 0:t.firstName," ").concat(null===(n=e.subordinate)||void 0===n?void 0:n.lastName," ").concat(e.subordinate.terminationId?"".this.$t("general.past_employee"):""),reportingMethod:e.reportingMethod.name,subordinateEmpNumber:e.subordinate.empNumber}}))},rp={name:"EmployeeSubordinates",components:{"edit-employee-report-to":Wb,"save-employee-report-to":Rb,"profile-action-header":Xc,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/subordinates")),n="api/v2/pim/employees/".concat(e.empNumber,"/subordinates/"),o=ot(t,{normalizer:ap,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,subordinateEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("subordinates")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("subordinates")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].subordinateEmpNumber}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.subordinateEmpNumber])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const lp=C()(rp,[["render",op]]);var ip=lp,cp={components:{"edit-employee-layout":md,"employee-supervisors":Kb,"employee-subordinates":ip},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}}};const dp=C()(cp,[["render",Nb]]);var up=dp,sp={class:"orangehrm-horizontal-padding orangehrm-top-padding"},mp={class:"orangehrm-container"},bp={class:"orangehrm-bottom-container"};function pp(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("save-membership"),c=Object(o["resolveComponent"])("edit-membership"),d=Object(o["resolveComponent"])("profile-action-header"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"membership"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,currencies:n.currencies,"paid-by":n.paidBy,memberships:n.memberships,onClose:l.onSaveModalClose},null,8,["http","currencies","paid-by","memberships","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,http:a.http,currencies:n.currencies,"paid-by":n.paidBy,memberships:n.memberships,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","currencies","paid-by","memberships","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",sp,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_memberships")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",mp,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",bp,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var fp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function hp(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",fp,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_membership")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.membership=e}),type:"select",label:e.$t("pim.membership"),options:n.memberships,rules:r.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.membership.subscriptionPaidBy=e}),type:"select",label:e.$t("pim.subscription_paid_by"),options:n.paidBy},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.membership.subscriptionFee=e}),label:e.$t("pim.subscription_amount"),rules:r.rules.subscriptionFee},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.membership.currencyType=e}),type:"select",label:e.$t("general.currency"),options:n.currencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.membership.subscriptionCommenceDate=e}),label:e.$t("pim.subscription_commence_date"),type:"date",placeholder:"yyyy-mm-dd",rules:r.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.membership.subscriptionRenewalDate=e}),label:e.$t("pim.subscription_renewal_date"),type:"date",years:r.yearArray,placeholder:"yyyy-mm-dd",rules:r.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var jp={membershipId:[],subscriptionFee:"",subscriptionPaidBy:null,currencyTypeId:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""},Op={name:"SaveMembership",props:{http:{type:Object,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){var e=this;return{isLoading:!1,membership:Object(R["a"])({},jp),yearArray:Object(qm["a"])(Mm()),rules:{membership:[St],subscriptionRenewalDate:[$t(),Pt((function(){return e.membership.subscriptionCommenceDate}),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Bt,Yt(1e9)]}}},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.membership=Object(R["a"])({},jp),n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const vp=C()(Op,[["render",hp]]);var gp=vp,Cp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function yp(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Cp,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_membership")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.membership=e}),type:"select",label:e.$t("pim.membership"),options:n.memberships,rules:r.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.membership.subscriptionPaidBy=e}),type:"select",label:e.$t("pim.subscription_paid_by"),options:n.paidBy},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.membership.subscriptionFee=e}),label:e.$t("pim.subscription_amount"),rules:r.rules.subscriptionFee},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.membership.currencyType=e}),type:"select",label:e.$t("general.currency"),options:n.currencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.membership.subscriptionCommenceDate=e}),label:e.$t("pim.subscription_commence_date"),type:"date",placeholder:"yyyy-mm-dd",rules:r.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.membership.subscriptionRenewalDate=e}),label:e.$t("pim.subscription_renewal_date"),type:"date",years:r.yearArray,placeholder:"yyyy-mm-dd",rules:r.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(c)],64)}var Vp={membership:[],subscriptionFee:"",subscriptionPaidBy:null,currencyType:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""},xp={name:"EditMembership",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){var e=this;return{isLoading:!1,membership:Object(R["a"])({},Vp),yearArray:Object(qm["a"])(Mm()),rules:{membership:[St],subscriptionRenewalDate:[$t(),Pt((function(){return e.membership.subscriptionCommenceDate}),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Bt,Yt(1e9)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.membership.subscriptionFee=n.subscriptionFee,e.membership.subscriptionCommenceDate=n.subscriptionCommenceDate,e.membership.subscriptionRenewalDate=n.subscriptionRenewalDate,e.membership.membership=e.memberships.find((function(e){return e.id===n.membership.id})),e.membership.subscriptionPaidBy=e.paidBy.find((function(e){return e.id===n.subscriptionPaidBy})),e.membership.currencyType=e.currencies.find((function(e){var t;return e.id===(null===(t=n.currencyType)||void 0===t?void 0:t.id)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.update(this.data.id,{subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then((function(){return n.$toast.updateSuccess()})).then((function(){n.membership=Object(R["a"])({},Vp),n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const wp=C()(xp,[["render",yp]]);var Np=wp,_p=function(e){return e.map((function(e){return{id:e.id,membershipId:e.membership.id,membershipName:e.membership.name,subscriptionPaidBy:e.subscriptionPaidBy,subscriptionFee:e.subscriptionFee,subscriptionTypeId:e.currencyType.id,subscriptionCurrencyName:e.currencyType.name,subscriptionCommenceDate:e.subscriptionCommenceDate,subscriptionRenewalDate:e.subscriptionRenewalDate}}))},kp={components:{"profile-action-header":Xc,"edit-employee-layout":md,"save-membership":gp,"edit-membership":Np,"delete-confirmation":ut},props:{empNumber:{type:String,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/memberships")),n=ot(t,{normalizer:_p,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"membershipName",slot:"title",title:this.$t("pim.membership"),style:{flex:1}},{name:"subscriptionPaidBy",title:this.$t("pim.subscription_paid_by"),style:{flex:1}},{name:"subscriptionFee",title:this.$t("pim.subscription_amount"),style:{flex:1}},{name:"subscriptionCurrencyName",title:this.$t("general.currency"),style:{flex:1}},{name:"subscriptionCommenceDate",title:this.$t("pim.subscription_commence_date"),style:{flex:1}},{name:"subscriptionRenewalDate",title:this.$t("pim.subscription_renewal_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("e389");const Sp=C()(kp,[["render",pp],["__scopeId","data-v-558a2a1c"]]);var Dp=Sp,$p={class:"orangehrm-background-container"},Ep={class:"orangehrm-paper-container"},Tp={class:"orangehrm-header-container"},Ip={class:"orangehrm-container"},Bp={class:"orangehrm-bottom-container"};function Lp(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$p,[Object(o["createElementVNode"])("div",Ep,[Object(o["createElementVNode"])("div",Tp,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.termination_reasons")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ip,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Bp,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Up={components:{"delete-confirmation":ut},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,isSelectable:-1===n}}))},n=new X(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons"),o=ot(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/pim/saveTerminationReasons")},onClickEdit:function(e){Y("/pim/saveTerminationReasons/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.termination_reasons_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Ap=C()(Up,[["render",Lp]]);var Pp=Ap,qp={class:"orangehrm-background-container"},Mp={class:"orangehrm-card-container"};function Rp(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qp,[Object(o["createElementVNode"])("div",Mp,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_termination_reason")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.termination.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Fp={props:{terminationReasonId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data:function(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.terminationReasonId).then((function(t){var n=t.data.data;return e.termination.id=n.id,e.termination.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.termination.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.terminationReasonId,{name:this.termination.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/viewTerminationReasons")}}};const zp=C()(Fp,[["render",Rp]]);var Gp=zp,Qp={class:"orangehrm-background-container"},Hp={class:"orangehrm-card-container"};function Wp(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qp,[Object(o["createElementVNode"])("div",Hp,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_termination_reason")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.termination.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Yp={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data:function(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.termination.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/viewTerminationReasons")}}};const Jp=C()(Yp,[["render",Wp]]);var Xp=Jp,Zp={class:"orangehrm-background-container"},Kp={class:"orangehrm-paper-container"},ef={class:"orangehrm-header-container"},tf={class:"orangehrm-container"},nf={class:"orangehrm-bottom-container"};function of(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zp,[Object(o["createElementVNode"])("div",Kp,[Object(o["createElementVNode"])("div",ef,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.reporting_methods")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",tf,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",nf,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var af={components:{"delete-confirmation":ut},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,isSelectable:-1===n}}))},n=new X(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods"),o=ot(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/pim/saveReportingMethod")},onClickEdit:function(e){Y("/pim/saveReportingMethod/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.reporting_methods_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const rf=C()(af,[["render",of]]);var lf=rf,cf={class:"orangehrm-background-container"},df={class:"orangehrm-card-container"};function uf(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cf,[Object(o["createElementVNode"])("div",df,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_reporting_method")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportingMethod.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var sf={props:{reportingMethodId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data:function(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.reportingMethodId).then((function(t){var n=t.data.data;return e.reportingMethod.id=n.id,e.reportingMethod.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.reportingMethod.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.reportingMethodId,{name:this.reportingMethod.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/viewReportingMethods")}}};const mf=C()(sf,[["render",uf]]);var bf=mf,pf={class:"orangehrm-background-container"},ff={class:"orangehrm-card-container"};function hf(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pf,[Object(o["createElementVNode"])("div",ff,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_reporting_method")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportingMethod.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var jf={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data:function(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.reportingMethod.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/viewReportingMethods")}}};const Of=C()(jf,[["render",hf]]);var vf=Of,gf={class:"orangehrm-background-container"},Cf={class:"orangehrm-paper-container"},yf={class:"orangehrm-header-container"},Vf={class:"orangehrm-custom-field-title"},xf={class:"orangehrm-container"},wf={class:"orangehrm-bottom-container"};function Nf(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gf,[Object(o["createElementVNode"])("div",Cf,[Object(o["createElementVNode"])("div",yf,[Object(o["createElementVNode"])("div",Vf,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.custom_fields")),1)]})),_:1}),a.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[l.remainingFields>0?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"--infotext",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.remaining_no_of_custom_fields"))+" "+Object(o["toDisplayString"])(l.remainingFields),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,class:"--infotext",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.all_custom_fields_in_use")),1)]})),_:1}))],64))]),l.remainingFields>0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",xf,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",wf,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var _f={components:{"delete-confirmation":ut},props:{customFieldLimit:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields"),n=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,fieldName:t.fieldName,screen:e.screenList.filter((function(e){return t.screen===e.id}))[0].label,fieldType:e.fieldTypeList.filter((function(e){return t.fieldType===e.id}))[0].label,extraData:t.extraData,isSelectable:-1===n}}))},o=ot(t,{normalizer:n}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d}},data:function(){return{screenWidth:screen.width,headers:[{name:"fieldName",slot:"title",title:this.$t("pim.custom_field_name"),style:{flex:2}},{name:"screen",title:this.$t("pim.screen"),style:{flex:2}},{name:"fieldType",title:this.$t("pim.field_type"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},computed:{isLoaded:function(){return!this.isLoading},remainingFields:function(){var e,t;return this.customFieldLimit-(null===(e=this.items)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)}},methods:{onClickAdd:function(){Y("/pim/saveCustomFields")},onClickEdit:function(e){Y("/pim/saveCustomFields/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.custom_fields_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};n("1670");const kf=C()(_f,[["render",Nf],["__scopeId","data-v-7752e39f"]]);var Sf=kf,Df={class:"orangehrm-background-container"},$f={class:"orangehrm-card-container"};function Ef(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Df,[Object(o["createElementVNode"])("div",$f,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_custom_field")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customField.fieldName=e}),label:e.$t("pim.field_name"),rules:r.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customField.screen=e}),type:"select",label:e.$t("pim.screen"),rules:r.rules.screen,options:n.screenList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.customField.fieldType=e}),type:"select",label:e.$t("general.type"),rules:r.rules.fieldType,options:n.fieldTypeList,required:"",disabled:n.fieldInUse},null,8,["modelValue","label","rules","options","disabled"])]})),_:1}),l.isDropDownField?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.customField.extraData=e}),label:e.$t("pim.select_options"),rules:r.rules.extraData,required:l.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(o["createVNode"])(i,{tag:"p",class:"select-options-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Tf={id:null,fieldName:"",screen:"",fieldType:"",extraData:""},If={props:{customFieldId:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},fieldInUse:{type:Boolean,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data:function(){return{isLoading:!1,customField:Object(R["a"])({},Tf),rules:{fieldName:[St,Dt(250)],screen:[St,Dt(100)],fieldType:[St,Dt(15)],extraData:[St,Dt(250)]}}},computed:{isDropDownField:function(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.customFieldId).then((function(t){var n=t.data.data;return e.customField.fieldName=n.fieldName,""!==n.screen&&null!==n.screen&&(e.customField.screen=e.screenList.find((function(e){return e.id===n.screen}))),""!==n.fieldType&&null!==n.fieldType&&(e.customField.fieldType=e.fieldTypeList.find((function(e){return e.id===n.fieldType}))),e.customField.extraData=n.extraData,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.fieldName.push((function(t){var o=n.findIndex((function(e){return e.fieldName===t}));if(o>-1){var a=n[o].id;return a==e.customFieldId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.customFieldId,{fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:this.customField.fieldType.id,extraData:this.customField.extraData}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/listCustomFields")}}};n("35f5");const Bf=C()(If,[["render",Ef],["__scopeId","data-v-46ae9122"]]);var Lf=Bf,Uf={class:"orangehrm-background-container"},Af={class:"orangehrm-card-container"};function Pf(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Uf,[Object(o["createElementVNode"])("div",Af,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_custom_field")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customField.fieldName=e}),label:e.$t("pim.field_name"),rules:r.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customField.screen=e}),type:"select",label:e.$t("pim.screen"),rules:r.rules.screen,options:n.screenList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.customField.fieldType=e}),type:"select",label:e.$t("general.type"),rules:r.rules.fieldType,options:n.fieldTypeList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.isDropDownField?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.customField.extraData=e}),label:e.$t("pim.select_options"),rules:r.rules.extraData,required:l.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(o["createVNode"])(i,{tag:"p",class:"select-options-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var qf={fieldName:"",screen:"",fieldType:"",extraData:""},Mf={props:{screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data:function(){return{isLoading:!1,customField:Object(R["a"])({},qf),rules:{fieldName:[St,Dt(250)],screen:[St,Dt(100)],fieldType:[St,Dt(15)],extraData:[St,Dt(250)]}}},computed:{isDropDownField:function(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.fieldName.push((function(t){var o=n.findIndex((function(e){return e.fieldName==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t=this.customField.fieldType.id;this.http.create({fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:t,extraData:1===t?this.customField.extraData:null}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/pim/listCustomFields")}}};n("38e9");const Rf=C()(Mf,[["render",Pf],["__scopeId","data-v-42abd14c"]]);var Ff=Rf,zf={class:"orangehrm-background-container"},Gf={class:"orangehrm-card-container"},Qf={class:"orangehrm-optional-field-row"},Hf={class:"orangehrm-optional-field-row"},Wf={class:"orangehrm-optional-field-row"},Yf={class:"orangehrm-optional-field-row"};function Jf(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zf,[Object(o["createElementVNode"])("div",Gf,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.optional_fields")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_deprecated_fields")),1)]})),_:1}),Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Qf,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_nick_name_smoker_and_military_service_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.optionalField.pimShowDeprecatedFields,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.optionalField.pimShowDeprecatedFields=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.country_specific_information")),1)]})),_:1}),Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Hf,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_ssn_field_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.optionalField.showSSN,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.optionalField.showSSN=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Wf,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_sin_field_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.optionalField.showSIN,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.optionalField.showSIN=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Yf,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_us_tax_exemptions_menu")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.optionalField.showTaxExemptions,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.optionalField.showTaxExemptions=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Xf={pimShowDeprecatedFields:!1,showSSN:!1,showSIN:!1,showTaxExemptions:!1},Zf={components:{"oxd-switch-input":Or["a"]},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/optional-field");return{http:e}},data:function(){return{isLoading:!1,optionalField:Object(R["a"])({},Xf)}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.optionalField=Object(R["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(R["a"])({},this.optionalField)}).then((function(t){var n=t.data.data;e.optionalField=Object(R["a"])({},n),e.$toast.saveSuccess(),e.isLoading=!1}))}}};n("b2b4");const Kf=C()(Zf,[["render",Jf],["__scopeId","data-v-a9c10896"]]);var eh=Kf,th={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},nh=Object(o["createTextVNode"])(" State Income Tax ");function oh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{"employee-id":n.empNumber,screen:"tax"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",th,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.tax_exemptions")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.federal_income_tax")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.federalStatus,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.taxExemption.federalStatus=e}),type:"select",label:e.$t("general.status"),options:n.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.federalExemptions,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.taxExemption.federalExemptions=e}),label:e.$t("pim.exemptions"),rules:r.rules.federalExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[nh]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.taxState,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.taxExemption.taxState=e}),type:"select",label:e.$t("general.state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.stateStatus,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.taxExemption.stateStatus=e}),type:"select",label:e.$t("general.status"),options:n.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.stateExemptions,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.taxExemption.stateExemptions=e}),label:e.$t("pim.exemptions"),rules:r.rules.stateExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.unemploymentState,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.taxExemption.unemploymentState=e}),type:"select",label:e.$t("pim.unemployment_state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.taxExemption.workState,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.taxExemption.workState=e}),type:"select",label:e.$t("pim.work_state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[e.$can.update("tax_exemptions")?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}n("466d");var ah={federalStatus:null,federalExemptions:null,taxStateCode:[],stateStatus:null,stateExemptions:null,unemploymentStateCode:[],workStateCode:[]},rh={components:{"edit-employee-layout":md},props:{empNumber:{type:String,required:!0},provinces:{type:Array,default:function(){return[]}},statuses:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/pim/employees/".concat(e.empNumber,"/tax-exemption"));return{http:t}},data:function(){var e=this;return{isLoading:!1,taxExemption:Object(R["a"])({},ah),rules:{federalExemptions:[function(t){return null!==t.match(/^\d*\.?\d*$/)||e.$t("general.should_be_a_positive_number")},Dt(2)],stateExemptions:[function(t){return null!==t.match(/^\d*\.?\d*$/)||e.$t("general.should_be_a_positive_number")},Dt(2)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a,r=this;this.isLoading=!0,this.http.request({method:"PUT",data:{federalStatus:null===(e=this.taxExemption.federalStatus)||void 0===e?void 0:e.id,federalExemptions:this.taxExemption.federalExemptions,taxStateCode:null===(t=this.taxExemption.taxState)||void 0===t?void 0:t.id,stateStatus:null===(n=this.taxExemption.stateStatus)||void 0===n?void 0:n.id,stateExemptions:this.taxExemption.stateExemptions,unemploymentStateCode:null===(o=this.taxExemption.unemploymentState)||void 0===o?void 0:o.id,workStateCode:null===(a=this.taxExemption.workState)||void 0===a?void 0:a.id}}).then((function(e){return r.updateModel(e),r.$toast.updateSuccess()})).then((function(){r.isLoading=!1}))},updateModel:function(e){var t=e.data.data;this.taxExemption.federalExemptions=t.federalExemptions,this.taxExemption.stateExemptions=t.stateExemptions,this.taxExemption.taxState=this.provinces.find((function(e){return e.id===t.taxState.code})),this.taxExemption.unemploymentState=this.provinces.find((function(e){return e.id===t.unemploymentState.code})),this.taxExemption.workState=this.provinces.find((function(e){return e.id===t.workState.code})),this.taxExemption.federalStatus=this.statuses.find((function(e){return e.id===t.federalStatus})),this.taxExemption.stateStatus=this.statuses.find((function(e){return e.id===t.stateStatus}))}}};const lh=C()(rh,[["render",oh]]);var ih=lh,ch={class:"orangehrm-background-container"},dh={class:"orangehrm-card-container"},uh={class:"orangehrm-information-card-container"};function sh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ch,[Object(o["createElementVNode"])("div",dh,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.data_import")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",uh,[Object(o["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note"))+":",1)]})),_:1}),Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.column_order_should_not_be_changed")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.first_name_and_last_name_are_compulsory")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.all_date_fields_should_be_in_yyyy_mm_dd_format")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.gender_specified_value_should_be_either_m_or_f")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.each_import_file_should_be_configured_for_100_records_or_less")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.multiple_import_files_may_be_required")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.sample_csv_file"))+" : ",1),Object(o["createElementVNode"])("a",{class:"download-link",href:"#",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return l.onClickDownload&&l.onClickDownload.apply(l,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.$t("general.download")),1)]})),_:1})])])]),Object(o["createVNode"])(h,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{label:e.$t("general.upload")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var mh=n("ade3");function bh(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refName,a=void 0===n?"formRef":n,r=Object(o["ref"])(),l=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.onSubmit(new Event("submit"))},i=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.onReset()},c=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.validate()},d=Object(o["computed"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.isFromInvalid})),u=Object(o["computed"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.errorbag}));return e={reset:i,submit:l,validate:c},Object(mh["a"])(e,a,r),Object(mh["a"])(e,"errorbag",u),Object(mh["a"])(e,"invalid",d),e}var ph={attachment:null},fh={props:{allowedFileTypes:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/pim/csv-import"),t=bh(),n=t.formRef,o=t.reset;return{http:e,reset:o,formRef:n}},data:function(){return{isLoading:!1,attachment:Object(R["a"])({},ph),rules:{attachment:[St,zt(1048576),Gt(this.allowedFileTypes)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.attachment)).then((function(t){var n=t.data.meta.total;return e.reset(),e.isLoading=!1,n>0?e.$toast.success({title:e.$t("general.success"),message:e.$t("pim.number_of_records_imported")+n}):e.$toast.error({title:e.$t("general.failed_to_import"),message:e.$t("general.no_records_added")})}))},onClickDownload:function(){var e="".concat(window.appGlobal.baseUrl,"/pim/sampleCsvDownload");window.open(e,"_blank")}}};n("dbe9");const hh=C()(fh,[["render",sh],["__scopeId","data-v-6b2ad15b"]]);var jh=hh,Oh={class:"orangehrm-background-container"},vh=Object(o["createElementVNode"])("br",null,null,-1),gh={class:"orangehrm-paper-container"},Ch={class:"orangehrm-header-container"},yh={class:"orangehrm-container"},Vh={class:"orangehrm-bottom-container"};function xh(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("report-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Oh,[Object(o["createVNode"])(h,{"filter-title":e.$t("general.employee_reports")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.report,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.report=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),vh,Object(o["createElementVNode"])("div",gh,[Object(o["createElementVNode"])("div",Ch,[Object(o["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",yh,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[1]||(t[1]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[2]||(t[2]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Vh,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}function wh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"autocomplete",label:e.$t("general.report_name"),clear:!1,"create-options":l.loadReports},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var Nh={name:"ReportAutocomplete",setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined");return{http:e}},methods:{loadReports:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({name:e}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:e.name}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const _h=C()(Nh,[["render",wh]]);var kh=_h,Sh={report:null},Dh={"report.name":"ASC"},$h={components:{"delete-confirmation":ut,"report-autocomplete":kh},setup:function(){var e=st({sortDefinition:Dh}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["ref"])(Object(R["a"])({},Sh)),i=Object(o["computed"])((function(){var e;return{reportId:null===(e=l.value.report)||void 0===e?void 0:e.id,sortField:n.value,sortOrder:a.value}})),c=new X(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),d=ot(c,{query:i}),u=d.showPaginator,s=d.currentPage,m=d.total,b=d.pages,p=d.pageSize,f=d.response,h=d.isLoading,j=d.execQuery;return r(j),{http:c,showPaginator:u,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:l,sortDefinition:t}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"85%"},sortField:"report.name"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},view:{onClick:this.onClickView,props:{name:"file-text-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/pim/definePredefinedReport")},onClickEdit:function(e){Y("/pim/definePredefinedReport/{id}",{id:e.id})},onClickView:function(e){Y("/pim/displayPredefinedReport/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(R["a"])({},Sh),this.filterItems()}}};const Eh=C()($h,[["render",xh]]);var Th=Eh,Ih={class:"orangehrm-background-container"},Bh={class:"orangehrm-card-container"};function Lh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-icon-button"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("report-criterion"),h=Object(o["resolveComponent"])("report-display-field"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ih,[Object(o["createElementVNode"])("div",Bh,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_report")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.report.name=e}),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:r.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.selection_criteria")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.report.criterion=e}),type:"select",label:e.$t("pim.selection_criteria"),options:a.availableCriteria},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addCriterion},null,8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.report.includeEmployees=e}),type:"select",label:e.$t("pim.include"),options:r.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.criteriaSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:e,operator:a.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":function(t){return a.report.criteriaFieldValues[e.id].operator=t},valueX:a.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":function(t){return a.report.criteriaFieldValues[e.id].valueX=t},valueY:a.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":function(t){return a.report.criteriaFieldValues[e.id].valueY=t},criterion:e,onDelete:function(e){return a.removeCriterion(t)}},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.display_fields")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.report.fieldGroup=e}),type:"select",label:e.$t("pim.select_display_field_group"),options:a.availableFieldGroups},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.report.displayField=e}),type:"select",label:e.$t("pim.select_display_field"),options:a.availableDisplyFields},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addDisplayField},null,8,["onClick"])]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.fieldGroupSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:e,includeHeader:a.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":function(t){return a.report.displayFieldSelected[e.id].includeHeader=t},"field-group":e,"selected-fields":a.report.displayFieldSelected[e.id].fields,onDelete:function(e){return a.removeDisplayFieldGroup(t)},onDeleteChip:function(e){return a.removeDisplayField(e,t)}},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function Uh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-icon-button"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,{class:"orangehrm-report-criteria --offset-column-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{name:"trash-fill",onClick:a.onClickDelete},null,8,["onClick"]),Object(o["createVNode"])(c,{class:"orangehrm-report-criteria-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.criterion.label),1)]})),_:1})]})),_:1}),(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.field.component),Object(o["mergeProps"])(e.$attrs,{api:a.field.api,label:a.field.name,options:a.field.options}),null,16,["api","label","options"]))],64)}function Ah(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createBlock"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,Object(o["mergeProps"])(e.$attrs,{params:{includeEmployees:"currentAndPast"},rules:a.rules,"model-value":n.valueX,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:valueX",t)})}),null,16,["rules","model-value"])]})),_:1})}var Ph={name:"ReportCriterionAutocomplete",components:{"employee-autocomplete":Ba},inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:Object,required:!1,default:function(){return null}}},emits:["update:valueX","update:operator"],setup:function(e,t){var n=[St];return t.emit("update:operator",{id:"eq",label:"Equal"}),{rules:n}}};n("ebc0");const qh=C()(Ph,[["render",Ah],["__scopeId","data-v-a4a7011c"]]);var Mh=qh;function Rh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createBlock"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,Object(o["mergeProps"])(e.$attrs,{type:"select",rules:a.rules,options:a.opts,"model-value":n.valueX,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:valueX",t)})}),null,16,["rules","options","model-value"])]})),_:1})}var Fh={name:"ReportCriterionSelect",inheritAttrs:!1,props:{api:{type:String,required:!1,default:null},options:{type:Array,default:function(){return[]}},valueX:{type:Object,required:!1,default:function(){return null}}},emits:["update:valueX","update:operator"],setup:function(e,t){var n=Object(o["ref"])(e.options),a=[St];if(e.api){var r=new X(window.appGlobal.baseUrl,e.api);Object(o["onBeforeMount"])((function(){r.getAll().then((function(e){var t=e.data;n.value=t.data.map((function(e){return{id:e.id,label:e.name?e.name:e.title,_indent:e.level?e.level+1:1}}))}))}))}return"api/v2/admin/locations"===e.api||"api/v2/admin/subunits"===e.api?t.emit("update:operator",{id:"in",label:"Equal"}):t.emit("update:operator",{id:"eq",label:"Equal"}),{opts:n,rules:a}}};n("4605");const zh=C()(Fh,[["render",Rh],["__scopeId","data-v-5c311cc0"]]);var Gh=zh,Qh=Object(o["createTextVNode"])("to");function Hh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"select",rules:a.rules.operator,options:a.operators,"model-value":n.operator,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:operator",t)})},null,8,["rules","options","model-value"])]})),_:1}),n.operator&&"between"===n.operator.id?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-report-range"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{rules:a.rules.valueX,"model-value":n.valueX,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"]),Object(o["createVNode"])(d,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Qh]})),_:1}),Object(o["createVNode"])(i,{rules:a.rules.valueY,"model-value":n.valueY,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:valueY",t)})},null,8,["rules","model-value"])]})),_:1})):n.operator?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{rules:a.rules.valueXOnly,"model-value":n.valueX,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)}function Wh(){var e=xt();return{$t:e}}var Yh={name:"ReportCriterionRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup:function(e){var t=Wh(),n=t.$t,a=Object(o["ref"])([{id:"lt",label:n("general.less_than")},{id:"gt",label:n("general.greater_than")},{id:"between",label:n("general.range")}]),r={operator:[St],valueXOnly:[St,It,Tt(100)],valueX:[St,It,Tt(100),function(t){return parseInt(t)<parseInt(e.valueY)||n("general.should_be_less_than_upper_bound")}],valueY:[St,It,Tt(100),function(t){return parseInt(t)>parseInt(e.valueX)||n("general.should_be_greater_than_lower_bound")}]};return{rules:r,operators:a}}};n("db37");const Jh=C()(Yh,[["render",Hh],["__scopeId","data-v-252622cf"]]);var Xh=Jh,Zh=Object(o["createTextVNode"])("to");function Kh(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"select",rules:a.rules.operator,options:a.operators,"model-value":n.operator,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:operator",t)})},null,8,["rules","options","model-value"])]})),_:1}),n.operator&&"between"===n.operator.id?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-report-daterange --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"date",placeholder:"yyyy-mm-dd",rules:a.rules.valueX,"model-value":n.valueX,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"]),Object(o["createVNode"])(d,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Zh]})),_:1}),Object(o["createVNode"])(i,{type:"date",placeholder:"yyyy-mm-dd",rules:a.rules.valueY,"model-value":n.valueY,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:valueY",t)})},null,8,["rules","model-value"])]})),_:1})):n.operator?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"date",placeholder:"yyyy-mm-dd",rules:a.rules.valueXOnly,"model-value":n.valueX,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)}var ej={name:"ReportCriterionDateRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup:function(e){var t=Wh(),n=t.$t,a=Object(o["ref"])([{id:"lt",label:"Joined before"},{id:"gt",label:"Joined after"},{id:"between",label:"Joined in between"}]),r={operator:[St],valueXOnly:[St,$t()],valueX:[St,$t(),Wt((function(){return e.valueY}),n("general.from_date_should_be_before_to_date"))],valueY:[St,$t(),Pt((function(){return e.valueX}),n("general.to_date_should_be_after_from_date"))]};return{rules:r,operators:a}}};n("1dec");const tj=C()(ej,[["render",Kh],["__scopeId","data-v-1a56bb3a"]]);var nj=tj,oj={name:"ReportCriterion",components:{"report-criterion-autocomplete":Mh,"report-criterion-select":Gh,"report-criterion-range":Xh,"report-criterion-date-range":nj},inheritAttrs:!1,props:{criterion:{type:Object,required:!0}},emits:["delete"],setup:function(e,t){var n=Object(o["ref"])(null);switch(e.criterion.key){case"employee_name":n.value={name:e.criterion.label,component:"report-criterion-autocomplete",api:null,options:[]};break;case"pay_grade":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/pay-grades",options:[]};break;case"education":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/educations",options:[]};break;case"employment_status":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/employment-statuses",options:[]};break;case"service_period":n.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"joined_date":n.value={name:e.criterion.label,component:"report-criterion-date-range",api:null,options:[]};break;case"job_title":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/job-titles",options:[]};break;case"language":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/languages",options:[]};break;case"skill":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/skills",options:[]};break;case"age_group":n.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"sub_unit":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/subunits",options:[]};break;case"location":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/locations",options:[]};break;default:n.value={name:e.criterion.label,component:"report-criterion-select",api:null,options:[{id:1,label:"Male"},{id:2,label:"Female"}]}}var a=function(e){t.emit("delete",e)};return{field:n,onClickDelete:a}}};n("cca9");const aj=C()(oj,[["render",Uh],["__scopeId","data-v-d58de47e"]]);var rj=aj;function lj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-icon-button"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-mutliselect-chips"),s=Object(o["resolveComponent"])("oxd-switch-input");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,{class:"orangehrm-report-field --offset-column-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{name:"trash-fill",onClick:a.onClickDelete},null,8,["onClick"]),Object(o["createVNode"])(c,{class:"orangehrm-report-field-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.fieldGroup.label),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{selected:n.selectedFields,onChipRemoved:a.onRemoveSelected},null,8,["selected","onChipRemoved"])]})),_:1}),Object(o["createVNode"])(d,{class:"orangehrm-report-field"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-report-field-header",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.include_header")),1)]})),_:1}),Object(o["createVNode"])(s,{"model-value":n.includeHeader,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:includeHeader",t)})},null,8,["model-value"])]})),_:1})],64)}var ij=n("69be"),cj={name:"ReportDisplayField",components:{"oxd-switch-input":Or["a"],"oxd-mutliselect-chips":ij["a"]},props:{fieldGroup:{type:Object,required:!0},selectedFields:{type:Array,default:function(){return[]}},includeHeader:{type:Boolean,required:!0}},emits:["delete","deleteChip","update:includeHeader"],setup:function(e,t){var n=function(e){t.emit("delete",e)},o=function(e){t.emit("deleteChip",e)};return{onClickDelete:n,onRemoveSelected:o}}};n("73d8");const dj=C()(cj,[["render",lj],["__scopeId","data-v-471da748"]]);var uj=dj,sj=(n("a434"),{name:"",includeEmployees:{id:1,key:"onlyCurrent",label:"Current Employees Only"},criterion:null,criteriaSelected:[],criteriaFieldValues:{},fieldGroup:null,fieldGroupSelected:[],displayField:null,displayFieldSelected:{}});function mj(e,t,n){var a=Object(o["reactive"])({report:Object(R["a"])({},sj)}),r=function(e){var n=t.find((function(t){return t.field_group_id===e}));return n?n.fields:[]},l=function(e){var t=a.report.displayFieldSelected[e],n=t?t.fields:[];return r(e).filter((function(e){return!n.find((function(t){return t.id===e.id}))}))},i=function(){var e=a.report.criterion;e&&(a.report.criteriaSelected.push(e),a.report.criteriaFieldValues[e.id]={valueX:null,valueY:null,operator:null},a.report.criterion=null)},c=function(e){var t=a.report.criteriaSelected.splice(e,1);delete a.report.criteriaFieldValues[t[0].id]},d=function(){var e=a.report.fieldGroup,t=a.report.displayField;if(e){var n=a.report.fieldGroupSelected.findIndex((function(t){return t.id===e.id}));-1===n&&(a.report.fieldGroupSelected.push(e),a.report.displayFieldSelected[e.id]={fields:[],includeHeader:!1}),t?(a.report.displayFieldSelected[e.id].fields.push(t),a.report.displayField=null):l(e.id).forEach((function(t){a.report.displayFieldSelected[e.id].fields.push(t)})),0===l(e.id).length&&(a.report.fieldGroup=null)}},u=function(e){var t=a.report.fieldGroupSelected[e];a.report.fieldGroupSelected.splice(e,1),delete a.report.displayFieldSelected[t.id]},s=function(e,t){var n=a.report.fieldGroupSelected[t],o=a.report.displayFieldSelected[n.id].fields;a.report.displayFieldSelected[n.id].fields=o.filter((function(t){return t.id!==e.id})),0===a.report.displayFieldSelected[n.id].fields.length&&u(t)},m=function(e){var t={name:e.name,include:e.includeEmployees.key,criteria:{},fieldGroup:{}};return e.fieldGroupSelected.forEach((function(n){var o=e.displayFieldSelected[n.id].fields,a=e.displayFieldSelected[n.id].includeHeader;t.fieldGroup[n.id]={fields:o.map((function(e){return e.id})),includeHeader:a}})),e.criteriaSelected.forEach((function(n){var o,a,r=e.criteriaFieldValues[n.id];t.criteria[n.id]={operator:r.operator?r.operator.id:"",x:"object"===Object(gt["a"])(r.valueX)?String(null===(o=r.valueX)||void 0===o?void 0:o.id):r.valueX,y:"object"===Object(gt["a"])(r.valueY)?String(null===(a=r.valueY)||void 0===a?void 0:a.id):r.valueY}})),t},b=Object(o["computed"])((function(){return e.filter((function(e){return!a.report.criteriaSelected.find((function(t){return t.id===e.id}))}))})),p=Object(o["computed"])((function(){return n.filter((function(e){return 0!==l(e.id).length}))})),f=Object(o["computed"])((function(){var e,t=null===(e=a.report.fieldGroup)||void 0===e?void 0:e.id;return t?l(t):[]}));return Object(R["a"])(Object(R["a"])({},Object(o["toRefs"])(a)),{},{addCriterion:i,serializeBody:m,addDisplayField:d,removeCriterion:c,removeDisplayField:s,removeDisplayFieldGroup:u,availableCriteria:b,availableFieldGroups:p,availableDisplyFields:f})}var bj={components:{"report-criterion":rj,"report-display-field":uj},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),n=mj(e.selectionCriteria,e.displayFields,e.displayFieldGroups),o=n.report,a=n.addCriterion,r=n.serializeBody,l=n.addDisplayField,i=n.removeCriterion,c=n.removeDisplayField,d=n.removeDisplayFieldGroup,u=n.availableCriteria,s=n.availableFieldGroups,m=n.availableDisplyFields;return{http:t,report:o,addCriterion:a,serializeBody:r,addDisplayField:l,removeCriterion:i,removeDisplayField:c,removeDisplayFieldGroup:d,availableCriteria:u,availableFieldGroups:s,availableDisplyFields:m}},data:function(){return{isLoading:!1,rules:{name:[St,Dt(250)],includeEmployees:[St]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/pim/viewDefinedPredefinedReports")},onSave:function(){var e=this;if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;var t=null,n=this.serializeBody(this.report);this.http.create(n).then((function(n){var o=n.data.data;return t=o.id,e.$toast.saveSuccess()})).then((function(){t&&Y("/pim/displayPredefinedReport/{id}",{id:t})}))}}};n("9ada");const pj=C()(bj,[["render",Lh],["__scopeId","data-v-32f2a602"]]);var fj=pj,hj={class:"orangehrm-card-container"},jj=Object(o["createElementVNode"])("br",null,null,-1);function Oj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{module:"pim",name:"pim_defined",prefetch:!0,filters:a.filters},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",hj,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.reportName),1)]})),_:1})]),jj]})),_:1},8,["filters"])}var vj={class:"orangehrm-background-container"},gj={key:0,class:"orangehrm-paper-container"};function Cj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-pagination"),d=Object(o["resolveComponent"])("oxd-report-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vj,[Object(o["renderSlot"])(e.$slots,"default",{generateReport:a.generateReport},void 0,!0),0!==a.headers.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gj,[Object(o["createVNode"])(d,{items:a.items,headers:a.headers,loading:a.isLoading,"column-count":a.colCount},{pagination:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"oxd-text--count",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:a.total})),1)]})),_:1}),a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]})),footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"oxd-text--footer",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"footer",{data:a.response},void 0,!0)]})),_:3})]})),_:3},8,["items","headers","loading","column-count"])])):Object(o["createCommentVNode"])("",!0)])}var yj=n("065f"),Vj=n("3fc0"),xj=n("5445"),wj=["type"],Nj={name:"ReportsTable",components:{"oxd-report-table":yj["a"]},props:{name:{type:String,required:!0},module:{type:String,required:!0},prefetch:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},columnCount:{type:Number,default:null,required:!1}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/".concat(e.module,"/reports/data")),n=Object(o["ref"])([]),a=Object(o["ref"])(e.columnCount?e.columnCount:0),r=Object(o["computed"])((function(){return Object(R["a"])(Object(R["a"])({},e.filters),{},{name:e.name})})),l=ot(t,{query:r,prefetch:!1}),i=l.total,c=l.pages,d=l.response,u=l.isLoading,s=l.currentPage,m=l.showPaginator,b=l.execQuery,p=Object(o["computed"])((function(){return i.value?1===i.value?"(".concat(i.value,") Record Found"):"(".concat(i.value,") Records Found"):"No Records Found"})),f=Object(o["computed"])((function(){var e=Array.isArray(d.value.data)?d.value.data:[];return e.map((function(e){var t=0;for(var n in e){var o=e[n];Array.isArray(o)&&o.length>t&&(t=o.length)}return Object(R["a"])(Object(R["a"])({},e),{},{_rows:t})}))})),h=function(e){var t;delete e["size"];var n=null!==(t=e.cellProperties)&&void 0!==t?t:{},o=n.type,a=Object(We["a"])(n,wj),r=function(e){var t=e.prop,n=e.model,o=null!==n&&void 0!==n&&n._url?null===n||void 0===n?void 0:n._url[t]:void 0;return Object(R["a"])(Object(R["a"])({},a),{},{onClick:o?function(){return Y(o)}:void 0})};return Object(R["a"])(Object(R["a"])({},e),{},{cellProperties:r,cellTemplate:"list"===o?Object(Vj["a"])(xj["a"]):void 0})},j=function(){var o=Object(ce["a"])(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:u.value=!0,t.request({type:"GET",url:"api/v2/".concat(e.module,"/reports"),params:{name:r.value.name,reportId:null===(l=r.value)||void 0===l?void 0:l.reportId}}).then((function(e){var t,o=e.data,r=o.data,l=o.meta;n.value=r.headers.map((function(e){return null!==e&&void 0!==e&&e.children&&Array.isArray(e.children)?(e.children=e.children.map((function(e){return h(e)})),e):h(e)})),null!==(t=l.headers)&&void 0!==t&&t.columnCount&&(a.value=l.headers.columnCount),u.value=!1}));case 2:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),O=function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==n.value.length){e.next=3;break}return e.next=3,j();case 3:return e.next=5,b();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["watch"])((function(){return e.name}),(function(){n.value=[]})),e.prefetch&&Object(o["onBeforeMount"])(O()),{total:i,pages:c,items:f,headers:n,colCount:a,response:d,isLoading:u,currentPage:s,itemCountText:p,showPaginator:m,generateReport:O}}};n("bba0");const _j=C()(Nj,[["render",Cj],["__scopeId","data-v-54ed18d9"]]);var kj=_j,Sj={components:{"reports-table":kj},props:{reportId:{type:String,required:!0},reportName:{type:String,required:!0}},setup:function(e){var t=Object(o["ref"])({reportId:e.reportId});return{filters:t}}};const Dj=C()(Sj,[["render",Oj]]);var $j=Dj,Ej={class:"orangehrm-background-container"},Tj={class:"orangehrm-card-container"};function Ij(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-icon-button"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("report-criterion"),h=Object(o["resolveComponent"])("report-display-field"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ej,[Object(o["createElementVNode"])("div",Tj,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_report")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.report.name=e}),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:r.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.selection_criteria")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.report.criterion=e}),type:"select",label:e.$t("pim.selection_criteria"),options:a.availableCriteria},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addCriterion},null,8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.report.includeEmployees=e}),type:"select",label:e.$t("pim.include"),options:r.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.criteriaSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:e,operator:a.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":function(t){return a.report.criteriaFieldValues[e.id].operator=t},valueX:a.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":function(t){return a.report.criteriaFieldValues[e.id].valueX=t},valueY:a.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":function(t){return a.report.criteriaFieldValues[e.id].valueY=t},criterion:e,onDelete:function(e){return a.removeCriterion(t)}},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.display_fields")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.report.fieldGroup=e}),type:"select",label:e.$t("pim.select_display_field_group"),options:a.availableFieldGroups},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.report.displayField=e}),type:"select",label:e.$t("pim.select_display_field"),options:a.availableDisplyFields},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addDisplayField},null,8,["onClick"])]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.fieldGroupSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:e,includeHeader:a.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":function(t){return a.report.displayFieldSelected[e.id].includeHeader=t},"field-group":e,"selected-fields":a.report.displayFieldSelected[e.id].fields,onDelete:function(e){return a.removeDisplayFieldGroup(t)},onDeleteChip:function(e){return a.removeDisplayField(e,t)}},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Bj={components:{"report-criterion":rj,"report-display-field":uj},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0},reportId:{type:Number,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),n=mj(e.selectionCriteria,e.displayFields,e.displayFieldGroups),o=n.report,a=n.addCriterion,r=n.serializeBody,l=n.addDisplayField,i=n.removeCriterion,c=n.removeDisplayField,d=n.removeDisplayFieldGroup,u=n.availableCriteria,s=n.availableFieldGroups,m=n.availableDisplyFields;return{http:t,report:o,addCriterion:a,serializeBody:r,addDisplayField:l,removeCriterion:i,removeDisplayField:c,removeDisplayFieldGroup:d,availableCriteria:u,availableFieldGroups:s,availableDisplyFields:m}},data:function(){return{isLoading:!1,rules:{name:[St,Dt(250)],includeEmployees:[St]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.reportId).then((function(t){var n=t.data.data;e.report.name=n.name,e.report.includeEmployees=e.includeOpts.find((function(e){return e.key===n.include}));var o=[{id:"eq",label:"Equal"},{id:"lt",label:"Less Than"},{id:"gt",label:"Greater Than"},{id:"between",label:"Range"}],a=function(t){var o=e.displayFields.find((function(e){return e.field_group_id==t}));e.report.fieldGroupSelected.push(e.displayFieldGroups.find((function(e){return e.id==t}))),e.report.displayFieldSelected[t]={fields:n.fieldGroup[t].fields.map((function(e){return o.fields.find((function(t){return t.id===e}))})),includeHeader:n.fieldGroup[t].includeHeader}};for(var r in n.fieldGroup)a(r);var l=function(t){var a=e.selectionCriteria.find((function(e){return e.id==t}));e.report.criteriaSelected.push(a),e.report.criteriaFieldValues[t]={valueX:n.criteria[t].x,valueY:"undefined"===n.criteria[t].y?null:n.criteria[t].y,operator:o.find((function(e){return e.id===n.criteria[t].operator}))}};for(var i in n.criteria)l(i);return e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.reportId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/pim/viewDefinedPredefinedReports")},onSave:function(){var e=this;if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;var t=this.serializeBody(this.report);this.http.update(this.reportId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){Y("/pim/displayPredefinedReport/{id}",{id:e.reportId})}))}}};n("4f02");const Lj=C()(Bj,[["render",Ij],["__scopeId","data-v-77eb50cc"]]);var Uj=Lj,Aj={class:"orangehrm-background-container"},Pj={class:"orangehrm-card-container"};function qj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Aj,[Object(o["createElementVNode"])("div",Pj,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.update_password")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("general.username")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-user-name",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.userName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.currentPassword=e}),type:"password",label:e.$t("pim.current_password"),rules:r.rules.currentPassword,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{password:r.user.password,"onUpdate:password":t[1]||(t[1]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[2]||(t[2]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"]),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Mj={currentPassword:"",password:"",passwordConfirm:""},Rj={components:{"password-input":Wa},props:{userName:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/core/update-password"),t=bh(),n=t.formRef,o=t.reset;return{http:e,formRef:n,reset:o}},data:function(){return{isLoading:!1,user:Object(R["a"])({},Mj),rules:{currentPassword:[St,Dt(64)]}}},methods:{onCancel:function(){window.history.back()},onSave:function(){var e=this;this.isLoading=!0,this.http.http.put("api/v2/pim/update-password",{currentPassword:this.user.currentPassword,newPassword:this.user.password}).then((function(t){if(200!==t.status)return e.isLoading=!1,e.$toast.error({title:e.$t("general.error"),message:e.$t("pim.current_password_is_incorrect")}),Promise.reject();e.$toast.saveSuccess()})).then((function(){e.isLoading=!1,e.reset()}))}}};n("33e9");const Fj=C()(Rj,[["render",qj],["__scopeId","data-v-c7c2326e"]]);var zj=Fj,Gj={"employee-save":Ti,"employee-list":rc,"employee-personal-details":hd,"employee-contact-details":yd,"employee-emergency-contacts":Md,"employee-dependents":iu,"employee-profile-picture":pu,"employee-salary":Uu,"employee-job":ts,"employee-qualifications":ab,"employee-immigration":xb,"employee-membership":Dp,"termination-reason-list":Pp,"termination-reason-edit":Gp,"termination-reason-save":Xp,"reporting-method-list":lf,"reporting-method-edit":bf,"reporting-method-save":vf,"employee-report-to":up,"custom-field-list":Sf,"custom-field-edit":Lf,"custom-field-save":Ff,"optional-field-list":eh,"employee-tax-exemption":ih,"employee-data-import":jh,"employee-report-list":Th,"employee-report-save":fj,"employee-report-view":$j,"employee-report-edit":Uj,"update-password":zj};function Qj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{show:!0,type:"warn",message:e.$t("general.no_records_found")},null,8,["message"])}var Hj={components:{"oxd-alert":bo["a"]}};const Wj=C()(Hj,[["render",Qj]]);var Yj=Wj;function Jj(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{show:!0,type:"warn",message:e.$t("general.bad_request")},null,8,["message"])}var Xj={components:{"oxd-alert":bo["a"]}};const Zj=C()(Xj,[["render",Jj]]);var Kj=Zj,eO={class:"orangehrm-background-container"},tO={class:"orangehrm-card-container"},nO={class:"orangehrm-module-under-development"},oO=["src"],aO={target:"_blank",class:"orangehrm-module-under-development-link",href:"https://sourceforge.net/projects/orangehrm/files/latest/download"};function rO(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",eO,[Object(o["createElementVNode"])("div",tO,[Object(o["createElementVNode"])("div",nO,[Object(o["createVNode"])(i,{tag:"h4",class:"orangehrm-module-under-development-heading"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.launching_soon")),1)]})),_:1}),Object(o["createElementVNode"])("img",{src:r.moduleUnderDevelopment,class:"orangehrm-module-under-development-img",alt:"this module is under development"},null,8,oO),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-under-development-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.this_page_is_being_developed"))+" ",1),Object(o["createElementVNode"])("a",aO,Object(o["toDisplayString"])(e.$t("general.click_here")),1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("general.download_latest_release_with_all_features")),1)]})),_:1})])])])}var lO={data:function(){return{moduleUnderDevelopment:"".concat(window.appGlobal.baseUrl,"/../images/web_under_construction.png")}}};n("cbb0");const iO=C()(lO,[["render",rO],["__scopeId","data-v-a8cf56ee"]]);var cO=iO,dO={class:"orangehrm-background-container"},uO={class:"orangehrm-card-container"},sO={class:"orangehrm-module-disabled"},mO=Object(o["createTextVNode"])(" 403 ");function bO(e,t){var n=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dO,[Object(o["createElementVNode"])("div",uO,[Object(o["createElementVNode"])("div",sO,[Object(o["createVNode"])(n,{tag:"h1",class:"orangehrm-module-disabled-heading"},{default:Object(o["withCtx"])((function(){return[mO]})),_:1}),Object(o["createVNode"])(n,{tag:"h4",class:"orangehrm-module-disabled-sub-heading"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.module_forbidden")),1)]})),_:1}),Object(o["createVNode"])(n,{tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.module_access_restriction")),1)]})),_:1})])])])}n("e836");const pO={},fO=C()(pO,[["render",bO],["__scopeId","data-v-3d2f2dd1"]]);var hO=fO;function jO(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{show:!0,type:"warn",message:e.$t("time.timesheet_period_not_defined")},null,8,["message"])}var OO={components:{"oxd-alert":bo["a"]}};const vO=C()(OO,[["render",jO]]);var gO=vO,CO={"bad-request":Kj,"no-records-found":Yj,"module-under-development":cO,"disabled-module":hO,"time-sheet-period-not-defined":gO},yO={class:"orangehrm-background-container"},VO={class:"orangehrm-card-container"};function xO(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yO,[Object(o["createElementVNode"])("div",VO,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_language")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var wO={props:{qualificationLanguageId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data:function(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[St,Dt(120)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationLanguageId).then((function(t){var n=t.data.data;return e.language.id=n.id,e.language.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.language.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationLanguageId,{name:this.language.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/viewLanguages")}}};const NO=C()(wO,[["render",xO]]);var _O=NO,kO={class:"orangehrm-background-container"},SO={class:"orangehrm-card-container"};function DO(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kO,[Object(o["createElementVNode"])("div",SO,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_language")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var $O={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data:function(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[St,Dt(120)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.language.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.language.name="",e.onCancel()}))},onCancel:function(){Y("/admin/viewLanguages")}}};const EO=C()($O,[["render",DO]]);var TO=EO,IO={class:"orangehrm-background-container"},BO={class:"orangehrm-paper-container"},LO={class:"orangehrm-header-container"},UO={class:"orangehrm-container"},AO={class:"orangehrm-bottom-container"};function PO(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",IO,[Object(o["createElementVNode"])("div",BO,[Object(o["createElementVNode"])("div",LO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.languages")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",UO,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",AO,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var qO={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/languages"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveLanguages")},onClickEdit:function(e){Y("/admin/saveLanguages/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const MO=C()(qO,[["render",PO]]);var RO=MO,FO={class:"orangehrm-background-container"},zO={class:"orangehrm-paper-container"},GO={class:"orangehrm-header-container"},QO={class:"orangehrm-container"},HO={class:"orangehrm-bottom-container"};function WO(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",FO,[Object(o["createElementVNode"])("div",zO,[Object(o["createElementVNode"])("div",GO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.memberships")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",QO,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",HO,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var YO={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/memberships"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.membership"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveMemberships")},onClickEdit:function(e){Y("/admin/saveMemberships/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const JO=C()(YO,[["render",WO]]);var XO=JO,ZO={class:"orangehrm-background-container"},KO={class:"orangehrm-card-container"};function ev(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZO,[Object(o["createElementVNode"])("div",KO,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_membership")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var tv={props:{qualificationMembershipId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data:function(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[St,Dt(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationMembershipId).then((function(t){var n=t.data.data;return e.membership.id=n.id,e.membership.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.membership.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationMembershipId,{name:this.membership.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/membership")}}};const nv=C()(tv,[["render",ev]]);var ov=nv,av={class:"orangehrm-background-container"},rv={class:"orangehrm-card-container"};function lv(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",av,[Object(o["createElementVNode"])("div",rv,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_membership")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.membership.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var iv={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data:function(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[St,Dt(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.membership.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.membership.name="",e.onCancel()}))},onCancel:function(){Y("/admin/membership")}}};const cv=C()(iv,[["render",lv]]);var dv=cv,uv={class:"orangehrm-background-container"},sv={class:"orangehrm-card-container"},mv={class:"orangehrm-header-container"};function bv(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-switch-input"),d=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-input-group"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uv,[Object(o["createElementVNode"])("div",sv,[Object(o["createElementVNode"])("div",mv,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.general_information")),1)]})),_:1}),Object(o["createVNode"])(c,{modelValue:r.editable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.editable=e}),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])]),Object(o["createVNode"])(d),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.organization.name=e}),label:e.$t("admin.organization_name"),rules:r.rules.name,disabled:!r.editable,required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{label:e.$t("admin.number_of_employees")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p",class:"no-of-employees-value"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.organization.noOfEmployees),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.registrationNumber,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.organization.registrationNumber=e}),label:e.$t("admin.registration_number"),rules:r.rules.registrationNumber,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.taxId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.organization.taxId=e}),label:e.$t("admin.tax_id"),rules:r.rules.taxId,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.organization.phone=e}),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:r.rules.phone,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.fax,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.organization.fax=e}),label:e.$t("general.fax"),rules:r.rules.fax,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.organization.email=e}),label:e.$t("general.email"),rules:r.rules.email,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.street1,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.organization.street1=e}),label:e.$t("general.address_street_1"),rules:r.rules.street1,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.street2,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.organization.street2=e}),label:e.$t("general.address_street_2"),rules:r.rules.street2,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.city,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.organization.city=e}),label:e.$t("general.city"),rules:r.rules.city,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.province,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.organization.province=e}),label:e.$t("general.state_province"),rules:r.rules.province,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.zipCode,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.organization.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.country,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.organization.country=e}),label:e.$t("general.country"),type:"select",rules:r.rules.country,options:n.countryList,disabled:!r.editable},null,8,["modelValue","label","rules","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.organization.note,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.organization.note=e}),label:e.$t("general.notes"),type:"textarea",rules:r.rules.note,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),r.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var pv={components:{"oxd-switch-input":Or["a"]},props:{numberOfEmployees:{type:Number,required:!0},countryList:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/organization");return{http:e}},data:function(){return{editable:!1,isLoading:!1,organization:{name:"",noOfEmployees:this.numberOfEmployees,registrationNumber:"",taxId:"",phone:"",fax:"",email:"",street1:"",street2:"",city:"",province:"",country:"",zipCode:"",note:""},rules:{name:[St,Dt(100)],registrationNumber:[Dt(30)],taxId:[Dt(30)],phone:[Dt(30),Ht],fax:[Dt(30),Ht],email:[Dt(30),Qt],street1:[Dt(100)],street2:[Dt(100)],city:[Dt(30)],province:[Dt(30)],country:[Dt(30)],zipCode:[Dt(30)],note:[Dt(255)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.http.get("api/v2/admin/organization").then((function(t){var n=t.data.data;e.organization.name=n.name,e.organization.registrationNumber=n.registrationNumber,e.organization.taxId=n.taxId,e.organization.phone=n.phone,e.organization.fax=n.fax,e.organization.email=n.email,e.organization.street1=n.street1,e.organization.street2=n.street2,e.organization.city=n.city,e.organization.province=n.province,""!==n.country&&null!==n.country&&(e.organization.country=e.countryList.find((function(e){return e.id===n.country}))),e.organization.zipCode=n.zipCode,e.organization.note=n.note})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.http.put("api/v2/admin/organization",{name:this.organization.name,registrationNumber:this.organization.registrationNumber,taxId:this.organization.taxId,phone:this.organization.phone,fax:this.organization.fax,email:this.organization.email,street1:this.organization.street1,street2:this.organization.street2,city:this.organization.city,province:this.organization.province,country:null===(e=this.organization.country)||void 0===e?void 0:e.id,zipCode:this.organization.zipCode,note:this.organization.note}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.isLoading=!1,t.editable=!1}))}}};n("7a38");const fv=C()(pv,[["render",bv],["__scopeId","data-v-dddbd68e"]]);var hv=fv,jv={class:"orangehrm-background-container"},Ov={class:"orangehrm-paper-container"},vv={class:"orangehrm-header-container"},gv={class:"orangehrm-container"},Cv={class:"orangehrm-bottom-container"};function yv(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jv,[Object(o["createElementVNode"])("div",Ov,[Object(o["createElementVNode"])("div",vv,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.nationalities")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",gv,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Cv,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Vv={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/nationalities"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.nationality"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveNationality")},onClickEdit:function(e){Y("/admin/saveNationality/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const xv=C()(Vv,[["render",yv]]);var wv=xv,Nv={class:"orangehrm-background-container"},_v={class:"orangehrm-card-container"};function kv(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Nv,[Object(o["createElementVNode"])("div",_v,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_nationality")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.nationality.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Sv={props:{nationalityId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data:function(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.nationalityId).then((function(t){var n=t.data.data;return e.nationality.id=n.id,e.nationality.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.nationality.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.nationalityId,{name:this.nationality.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/nationality")}}};const Dv=C()(Sv,[["render",kv]]);var $v=Dv,Ev={class:"orangehrm-background-container"},Tv={class:"orangehrm-card-container"};function Iv(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ev,[Object(o["createElementVNode"])("div",Tv,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_nationality")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.nationality.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Bv={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data:function(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[St,Dt(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.nationality.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/nationality")}}};const Lv=C()(Bv,[["render",Iv]]);var Uv=Lv,Av={class:"orangehrm-background-container"},Pv={class:"orangehrm-card-container"},qv={class:"send-method-div"},Mv={class:"orangehrm-optional-field-row"},Rv={class:"orangehrm-optional-field-row"};function Fv(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-group"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Av,[Object(o["createElementVNode"])("div",Pv,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.email_configuration")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.sentAs,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.emailConfiguration.sentAs=e}),label:e.$t("admin.mail_sent_as"),rules:r.rules.sentAs,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.sending_method")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",qv,[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.secure_smtp"),value:"smtps"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.smtp"),value:"smtp"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.sendmail"),value:"sendmail"},null,8,["modelValue","option-label"])])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),"sendmail"===r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.path_to_sendmail")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p",class:"sendmail-path-value"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.emailConfiguration.pathToSendmail),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpHost,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.emailConfiguration.smtpHost=e}),label:e.$t("admin.smtp_host"),rules:r.rules.smtpHost,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpPort,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.emailConfiguration.smtpPort=e}),label:e.$t("admin.smtp_port"),rules:r.rules.smtpPort},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:2},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.use_smtp_authentication"),classes:{wrapper:"--status-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.emailConfiguration.smtpAuthType=e}),type:"radio","option-label":e.$t("general.yes"),value:"login"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.emailConfiguration.smtpAuthType=e}),type:"radio","option-label":e.$t("general.no"),value:"none"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType&&"login"===r.emailConfiguration.smtpAuthType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpUsername,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.emailConfiguration.smtpUsername=e}),label:e.$t("admin.smtp_user"),rules:r.rules.smtpUsername,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.smtpPassword,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.emailConfiguration.smtpPassword=e}),label:e.$t("admin.smtp_password"),rules:r.rules.smtpPassword,type:"password",placeholder:r.passwordPlaceHolder,required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:4},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Mv,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.tls")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.useTLSSecureConnection,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.useTLSSecureConnection=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:5},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p",class:"tls-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.optional_the_mail_server_requires_the_use_of_tls_security")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Rv,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.send_test_email")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.sendTestMailEditable,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.sendTestMailEditable=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1}),r.sendTestMailEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.emailConfiguration.testEmailAddress,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.emailConfiguration.testEmailAddress=e}),label:e.$t("admin.test_email_address"),rules:r.rules.testEmailAddress,disabled:!r.sendTestMailEditable,required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onReset},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var zv={components:{"oxd-switch-input":Or["a"]},props:{pathToSendmail:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/email-configuration");return{http:e}},data:function(){return{passwordPlaceHolder:"",defaultValues:{smtpSecurityType:"tls"},useTLSSecureConnection:!0,sendTestMailEditable:!1,isLoading:!1,emailConfiguration:{mailType:"",sentAs:"",pathToSendmail:this.pathToSendmail,smtpHost:"",smtpPort:null,smtpUsername:"",smtpPassword:null,smtpAuthType:"",smtpSecurityType:"",testEmailAddress:""},initialEmailConfiguration:Object(R["a"])(Object(R["a"])({},this.emailConfiguration),{},{useTLSSecureConnection:!1}),rules:{mailType:[St,Dt(50)],sentAs:[St,Dt(100),Qt],smtpHost:[St,Dt(100)],smtpPort:[Dt(10)],smtpUsername:[St,Dt(100)],smtpPassword:[Dt(100)],smtpAuthType:[Dt(50)],smtpSecurityType:[Dt(50)],testEmailAddress:[St,Dt(250),Qt]}}},created:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/admin/email-configuration"}).then((function(t){var n=t.data.data;e.emailConfiguration.mailType=n.mailType,e.emailConfiguration.sentAs=n.sentAs,e.emailConfiguration.smtpHost=n.smtpHost,e.emailConfiguration.smtpPort=n.smtpPort,e.emailConfiguration.smtpUsername=n.smtpUsername,e.passwordPlaceHolder=n.smtpUsername?"******":"",e.emailConfiguration.smtpAuthType=n.smtpAuthType,e.emailConfiguration.testEmailAddress=n.testEmailAddress,e.useTLSSecureConnection="tls"===n.smtpSecurityType,e.initialEmailConfiguration=Object(R["a"])(Object(R["a"])({},e.emailConfiguration),{},{useTLSSecureConnection:e.useTLSSecureConnection}),n.smtpUsername||e.rules.smtpPassword.push(St)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{mailType:this.emailConfiguration.mailType,sentAs:this.emailConfiguration.sentAs,smtpHost:this.emailConfiguration.smtpHost,smtpPort:parseInt(this.emailConfiguration.smtpPort),smtpUsername:"login"===this.emailConfiguration.smtpAuthType?this.emailConfiguration.smtpUsername:"",smtpPassword:""===this.emailConfiguration.smtpPassword?null:this.emailConfiguration.smtpPassword,smtpAuthType:this.emailConfiguration.smtpAuthType,smtpSecurityType:this.useTLSSecureConnection?"tls":"none",testEmailAddress:this.emailConfiguration.testEmailAddress}}).then((function(t){var n,o=null===(n=t.data.meta)||void 0===n?void 0:n.testEmailStatus;return 1===o&&e.sendTestMailEditable?e.$toast.success({title:e.$t("general.success"),message:e.$t("admin.test_email_sent")}):0===o&&e.sendTestMailEditable&&e.$toast.warn({title:e.$t("general.failed"),message:e.$t("admin.test_email_not_sent")}),e.$toast.saveSuccess()})).then((function(){e.isLoading=!1}))},onReset:function(){this.emailConfiguration=Object(R["a"])({},this.initialEmailConfiguration),this.useTLSSecureConnection=this.initialEmailConfiguration.useTLSSecureConnection}}};n("a240");const Gv=C()(zv,[["render",Fv],["__scopeId","data-v-370c41d3"]]);var Qv=Gv,Hv={class:"orangehrm-background-container"},Wv={class:"orangehrm-paper-container"},Yv={class:"orangehrm-header-container"},Jv=Object(o["createTextVNode"])("OAuth Client List"),Xv={class:"orangehrm-container"},Zv={class:"orangehrm-bottom-container"};function Kv(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hv,[Object(o["createElementVNode"])("div",Wv,[Object(o["createElementVNode"])("div",Yv,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Jv]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:"Add","icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Xv,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",Zv,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var eg={components:{"delete-confirmation":ut},props:{unselectableClientIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableClientIds.findIndex((function(e){return e===t.clientId}));return{clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri,isSelectable:-1===n,isDisabled:-1!==n}}))},n=new X(window.appGlobal.baseUrl,"/api/v2/admin/oauth-clients"),o=ot(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d}},data:function(){return{headers:[{name:"clientId",slot:"title",title:"ID",style:{flex:2}},{name:"clientSecret",title:"Secret",style:{flex:3}},{name:"redirectUri",title:"Redirect URI",style:{flex:3}},{name:"actions",title:"Actions",slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveOAuthClient")},onClickEdit:function(e){Y("/admin/editOAuthClient",{},{clientId:e.clientId})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].clientId)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.clientId])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const tg=C()(eg,[["render",Kv]]);var ng=tg,og=function(e){return Object(o["pushScopeId"])("data-v-448a8c62"),e=e(),Object(o["popScopeId"])(),e},ag={class:"orangehrm-background-container"},rg={class:"orangehrm-card-container"},lg=Object(o["createTextVNode"])(" Add OAuth Client "),ig=Object(o["createTextVNode"])(" API Documentation: "),cg=og((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)})),dg=Object(o["createTextVNode"])(" PHP Sample App: "),ug=og((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1)}));function sg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ag,[Object(o["createElementVNode"])("div",rg,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[lg]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.oAuthClient.clientId=e}),label:"ID",rules:r.rules.clientId,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.oAuthClient.clientSecret=e}),label:"Secret",rules:r.rules.clientSecret,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.oAuthClient.redirectUri=e}),label:"Redirect URI",rules:r.rules.redirectUri},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[ig,cg]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[dg,ug]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var mg={clientId:"",clientSecret:"",redirectUri:""},bg={setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data:function(){return{isLoading:!1,oAuthClient:Object(R["a"])({},mg),rules:{clientId:[St,Dt(80)],clientSecret:[St,Dt(80)],redirectUri:[Dt(2e3)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.clientId.push((function(e){var t=n.findIndex((function(t){return t.clientId==e}));return-1===t||"Already exists"}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/registerOAuthClient")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.oAuthClient)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};n("a331");const pg=C()(bg,[["render",sg],["__scopeId","data-v-448a8c62"]]);var fg=pg,hg=function(e){return Object(o["pushScopeId"])("data-v-753d4c1d"),e=e(),Object(o["popScopeId"])(),e},jg={class:"orangehrm-background-container"},Og={class:"orangehrm-card-container"},vg=Object(o["createTextVNode"])(" Edit OAuth Client "),gg=Object(o["createTextVNode"])(" API Documentation: "),Cg=hg((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)})),yg=Object(o["createTextVNode"])(" PHP Sample App: "),Vg=hg((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1)}));function xg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jg,[Object(o["createElementVNode"])("div",Og,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[vg]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{novalidate:"true",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.oAuthClient.clientId=e}),label:"ID",rules:r.rules.clientId,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.oAuthClient.clientSecret=e}),label:"Secret",rules:r.rules.clientSecret,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.oAuthClient.redirectUri=e}),label:"Redirect URI",rules:r.rules.redirectUri},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[gg,Cg]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[yg,Vg]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var wg={clientId:"",clientSecret:"",redirectUri:""},Ng={props:{oauthClientId:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data:function(){return{isLoading:!1,oAuthClient:Object(R["a"])({},wg),rules:{clientId:[St,Dt(80)],clientSecret:[St,Dt(80)],redirectUri:[Dt(2e3)]}}},created:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId}}).then((function(t){var n=t.data.data;return e.oAuthClient.clientId=n.clientId,e.oAuthClient.clientSecret=n.clientSecret,e.oAuthClient.redirectUri=n.redirectUri,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.clientId.push((function(t){var o=n.findIndex((function(e){return e.clientId===t}));if(o>-1){var a=n[o].clientId;return a===e.oauthClientId||"Already exists"}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/registerOAuthClient")},onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId},data:{clientId:this.oAuthClient.clientId,clientSecret:this.oAuthClient.clientSecret,redirectUri:this.oAuthClient.redirectUri}}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};n("aad4");const _g=C()(Ng,[["render",xg],["__scopeId","data-v-753d4c1d"]]);var kg=_g,Sg={"oauth-client-list":ng,"oauth-client-save":fg,"oauth-client-edit":kg},Dg={class:"orangehrm-background-container"},$g={class:"orangehrm-card-container"};function Eg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Dg,[Object(o["createElementVNode"])("div",$g,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_period")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leavePeriod.startMonth,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leavePeriod.startMonth=e}),type:"select",options:l.months,rules:r.rules.startMonth,label:e.$t("leave.start_month"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leavePeriod.startDay,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leavePeriod.startDay=e}),type:"select",options:l.dates,rules:r.rules.startDay,label:e.$t("general.start_date"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:e.$t("general.end_date")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.endDay),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),r.leavePeriod.currentPeriod?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:e.$t("leave.current_leave_period")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.leavePeriod.currentPeriod),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("cb29");var Tg=n("7828"),Ig={startMonth:null,startDay:null,currentPeriod:null},Bg={props:{monthDates:{type:Object,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-period");return{http:e}},data:function(){return{isLoading:!1,leavePeriod:Object(R["a"])({},Ig),leavePeriodDefined:!0,rules:{startMonth:[St],startDay:[St]}}},computed:{months:function(){return Array(12).fill("").map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[1];return{id:o+1,label:Tg["a"].localize.month(o,{width:"wide"})}}))},dates:function(){var e,t;return(null!==(e=this.monthDates[null===(t=this.leavePeriod.startMonth)||void 0===t?void 0:t.id])&&void 0!==e?e:[]).map((function(e){return{id:e,label:String(e).padStart(2,"0")}}))},endDay:function(){var e,t,n=null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,o=null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id,a=(new Date).getFullYear();if(n&&o){var r=Object(je["a"])(new Date(a,n-1,o),364),l=r.getFullYear()>a;return Ce(r,"LLLL dd")+(l?" (".concat(this.$t("leave.following_year"),")"):"")}return"-"}},watch:{"leavePeriod.startMonth":function(){this.leavePeriod.startDay=this.dates.length>0?this.dates[0]:null}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data,o=n.data,a=n.meta;e.updateLeavePeriodModel(o),e.defineLeavePeriod(a),e.resetLeavePeriod()})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.request({method:"PUT",data:{startMonth:null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,startDay:null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id}}).then((function(e){var t=e.data,o=t.data,a=t.meta;n.updateLeavePeriodModel(o),n.defineLeavePeriod(a),n.resetLeavePeriod(),n.$toast.saveSuccess(),n.isLoading=!1,n.leavePeriodDefined||J()}))},onClickReset:function(){this.resetLeavePeriod()},resetLeavePeriod:function(){var e=this;this.leavePeriod.startMonth=Ig.startMonth,this.$nextTick((function(){e.leavePeriod.startDay=Ig.startDay}))},updateLeavePeriodModel:function(e){var t=this;Ig.startMonth=this.months.find((function(t){return t.id===e.startMonth})),this.$nextTick((function(){Ig.startDay=t.dates.find((function(t){return t.id===e.startDay}))}))},defineLeavePeriod:function(e){!0===e.leavePeriodDefined?(this.leavePeriodDefined=e.leavePeriodDefined,this.leavePeriod.currentPeriod="\n            ".concat(e.currentLeavePeriod.startDate,"\n            ").concat(this.$t("general.to").toLowerCase(),"\n            ").concat(e.currentLeavePeriod.endDate,"\n          ")):this.leavePeriodDefined=!1}}};n("28ee");const Lg=C()(Bg,[["render",Eg],["__scopeId","data-v-d023363e"]]);var Ug=Lg,Ag={class:"orangehrm-background-container"},Pg={class:"orangehrm-card-container"};function qg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("leave-conflict"),c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("leave-balance"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("date-input"),h=Object(o["resolveComponent"])("leave-duration-input"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ag,[r.showLeaveConflict?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,"workshift-exceeded":r.isWorkShiftExceeded,data:r.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Pg,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.apply_leave")),1)]})),_:1}),Object(o["createVNode"])(d),r.isLoading||0!==r.leaveTypes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:1,ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leave.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leave.type=e}),type:"select",rules:r.rules.type,options:r.leaveTypes,label:e.$t("leave.leave_type"),required:""},null,8,["modelValue","rules","options","label"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"leave-data":r.leave},null,8,["leave-data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.fromDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leave.fromDate=e}),label:e.$t("general.from_date"),rules:r.rules.fromDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.toDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leave.toDate=e}),label:e.$t("general.to_date"),rules:r.rules.toDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),1==l.appliedLeaveDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{duration:r.leave.duration.type,"onUpdate:duration":t[3]||(t[3]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[4]||(t[4]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[5]||(t[5]=function(e){return r.leave.duration.toTime=e}),label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),l.appliedLeaveDuration>1?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leave.partialOptions,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.leave.partialOptions=e}),type:"select",label:e.$t("leave.partial_days"),options:r.partialOptions},null,8,["modelValue","label","options"])]})),_:1}),l.showDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,duration:r.leave.duration.type,"onUpdate:duration":t[7]||(t[7]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[8]||(t[8]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[9]||(t[9]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showStartDay?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:1,duration:r.leave.duration.type,"onUpdate:duration":t[10]||(t[10]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[11]||(t[11]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[12]||(t[12]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("leave.start_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showEndDay?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,duration:r.leave.endDuration.type,"onUpdate:duration":t[13]||(t[13]=function(e){return r.leave.endDuration.type=e}),fromTime:r.leave.endDuration.fromTime,"onUpdate:fromTime":t[14]||(t[14]=function(e){return r.leave.endDuration.fromTime=e}),toTime:r.leave.endDuration.toTime,"onUpdate:toTime":t[15]||(t[15]=function(e){return r.leave.endDuration.toTime=e}),partial:!0,label:e.$t("leave.end_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leave.comment,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.leave.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{label:e.$t("general.apply")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.no_leave_types_with_leave_balance")),1)]})),_:1}))])])}function Mg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("time-range"),u=Object(o["resolveComponent"])("oxd-text"),s=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,{style:{"grid-column-start":"1"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,Object(o["mergeProps"])({type:"select"},e.$attrs,{options:l.options,"model-value":n.duration,rules:r.rules.duration,"show-empty-selector":n.partial,required:n.partial,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:duration",t)})}),null,16,["options","model-value","rules","show-empty-selector","required"])]})),_:1}),n.duration&&4===n.duration.id?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(d,{rules:r.rules,"from-time":n.fromTime,"to-time":n.toTime,"work-shift":n.workShift,"onUpdate:fromTime":t[1]||(t[1]=function(t){return e.$emit("update:fromTime",t)}),"onUpdate:toTime":t[2]||(t[2]=function(t){return e.$emit("update:toTime",t)})},null,8,["rules","from-time","to-time","work-shift"]),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("general.duration")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"orangehrm-leave-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)],64)}function Rg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("time-input"),c=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("general.from"),"model-value":n.fromTime,rules:n.rules.fromTime,required:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:fromTime",t)})},null,8,["label","model-value","rules"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("general.to"),"model-value":n.toTime,rules:n.rules.toTime,required:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:toTime",t)})},null,8,["label","model-value","rules"])]})),_:1})],64)}var Fg={name:"TimeRange",inheritAttrs:!1,props:{fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},rules:{type:Object,required:!0,default:function(){return{}}},workShift:{type:Object,required:!0,default:function(){return{}}}},emits:["update:fromTime","update:toTime"],mounted:function(){var e,t;null!==(e=this.workShift)&&void 0!==e&&e.startTime&&this.$emit("update:fromTime",this.workShift.startTime),null!==(t=this.workShift)&&void 0!==t&&t.endTime&&this.$emit("update:toTime",this.workShift.endTime)}};const zg=C()(Fg,[["render",Rg]]);var Gg=zg,Qg={name:"LeaveDurationInput",components:{"time-range":Gg},inheritAttrs:!1,props:{duration:{type:Object,required:!1,default:function(){return null}},fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},partial:{type:Boolean,default:!1},workShift:{type:Object,required:!0,default:function(){return{}}}},emits:["update:fromTime","update:toTime","update:duration"],data:function(){var e=this;return{rules:{duration:[St],fromTime:[St,Et,Jt((function(){return e.toTime}),this.$t("general.from_time_should_be_before_to_time"))],toTime:[St,Et,Ft((function(){return e.fromTime}),this.$t("general.to_time_should_be_after_from_time")),function(t){if(t){var n=ke(e.workShift.startTime,e.workShift.endTime),o=ke(e.fromTime,t);if(o>n)return e.$t("leave.duration_should_be_less_than_work_shift_length")}return!0}]}}},computed:{selectedTimeDuration:function(){var e=ke(this.fromTime,this.toTime);return(e/3600).toFixed(2)},options:function(){var e=[{id:1,label:this.$t("leave.full_day"),key:"full_day"},{id:2,label:this.$t("leave.half_day_morning"),key:"half_day_morning"},{id:3,label:this.$t("leave.half_day_evening"),key:"half_day_afternoon"},{id:4,label:this.$t("leave.specify_time"),key:"specify_time"}];return this.partial?e.filter((function(e){return 1!=e.id})):e}}};n("041f");const Hg=C()(Qg,[["render",Mg],["__scopeId","data-v-5caa9281"]]);var Wg=Hg,Yg={class:"orangehrm-leave-balance"};function Jg(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-label"),c=Object(o["resolveComponent"])("oxd-icon-button"),d=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Yg,[Object(o["createVNode"])(i,{label:e.$t("leave.leave_balance")},null,8,["label"]),n.leaveData.type?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"--help",name:"question-circle","with-container":!1,onClick:a.onModalOpen},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0)])]})),default:Object(o["withCtx"])((function(){return[e.balance>=0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.leaveBalance),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,class:"orangehrm-leave-balance-text --error",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.balance_not_sufficient")),1)]})),_:1}))]})),_:1}),e.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.leaveBalanceModal),{key:0,data:e.data,meta:e.meta,onClose:a.onModalClose},null,8,["data","meta","onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var Xg=n("a83c"),Zg={class:"orangehrm-header-container"},Kg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},eC={class:"orangehrm-container"},tC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function nC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{gutters:!1,style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Zg,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_balance_details")),1)]})),_:1}),Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.as_of_date"))+" - "+Object(o["toDisplayString"])(l.asAtDate),1)]})),_:1})]),Object(o["createVNode"])(c,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",Kg,[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"]),Object(o["createVNode"])(d,{class:"--offset-column-1",label:e.$t("leave.leave_type")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveType),1)]})),_:1})]})),_:1},8,["label"]),Object(o["createVNode"])(d,{label:e.$t("leave.total_entitlement")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.totalEntitlement),1)]})),_:1})]})),_:1},8,["label"]),Object(o["createVNode"])(d,{label:e.$t("leave.balance")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveBalance),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]),Object(o["createElementVNode"])("div",eC,[Object(o["createVNode"])(s,{headers:r.headers,items:l.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",tC,[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}var oC={name:"LeaveBalanceModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return null}},meta:{type:Object,default:function(){return null}}},emits:["close"],data:function(){return{headers:[{title:this.$t("leave.leave_status"),name:"status",slot:"left",style:{flex:1}},{title:this.$t("leave.days"),name:"days",slot:"right",style:{flex:1,textAlign:"right",justifyContent:"flex-end"}}]}},computed:{items:function(){if(this.data){var e=this.data,t=e.taken,n=e.scheduled,o=e.pending;return[{status:this.$t("leave.taken"),days:t.toFixed(2)},{status:this.$t("leave.scheduled"),days:n.toFixed(2)},{status:this.$t("leave.pending_approval"),days:o.toFixed(2)}]}return[]},asAtDate:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.asAtDate},leaveType:function(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName:function(){var e,t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?"".concat(t.firstName," ").concat(t.lastName,"\n          ").concat(t.terminationId?this.$t("general.past_employee"):""):""},totalEntitlement:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.entitled?"".concat(parseFloat(this.data.entitled).toFixed(2)," Day(s)"):"0.00 Day(s)"},leaveBalance:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.balance?"".concat(parseFloat(this.data.balance).toFixed(2)," Day(s)"):"0.00 Day(s)"}},methods:{onCancel:function(){this.$emit("close",!0)}}};n("df3b");const aC=C()(oC,[["render",nC],["__scopeId","data-v-441ed5f0"]]);var rC=aC,lC={class:"orangehrm-header-container"},iC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},cC={class:"orangehrm-container"},dC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function uC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{gutters:!1,style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",lC,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.insufficient_leave_balance")),1)]})),_:1})]),Object(o["createVNode"])(c,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",iC,[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"]),Object(o["createVNode"])(d,{label:e.$t("leave.leave_type")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveType),1)]})),_:1})]})),_:1},8,["label"]),Object(o["createVNode"])(d,{label:e.$t("leave.balance")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveBalance),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]),Object(o["createElementVNode"])("div",cC,[Object(o["createVNode"])(s,{headers:r.headers,items:l.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",dC,[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}n("5db7"),n("73d9");var sC={name:"LeaveBalanceInsufficientModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Array,required:!0},meta:{type:Object,default:function(){return null}}},emits:["close"],data:function(){return{headers:[{title:this.$t("leave.leave_period"),name:"period",style:{flex:1}},{title:this.$t("general.date"),name:"date",style:{flex:1}},{title:this.$t("leave.available_balance"),name:"balance",style:{flex:1}}]}},computed:{items:function(){var e=this;if(this.data.length>0){var t=this.data.map((function(e){return e.period}));return t.flatMap((function(t,n){return e.data[n].leaves.map((function(e){var n;return{period:"".concat(t.startDate," - ").concat(t.endDate),date:e.date,balance:(null===(n=e.status)||void 0===n?void 0:n.name)||e.balance.toFixed(2)}}))}))}return[]},leaveType:function(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName:function(){var e,t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?"".concat(t.firstName," ").concat(t.lastName,"\n          ").concat(t.terminationId?this.$t("general.past_employee"):""):""},leaveBalance:function(){var e;return null!==(e=this.data[0])&&void 0!==e&&e.balance?"".concat(parseFloat(this.data[0].balance.balance).toFixed(2)," Day(s)"):"0.00 Day(s)"}},methods:{onCancel:function(){this.$emit("close",!0)}}};n("1134");const mC=C()(sC,[["render",uC],["__scopeId","data-v-222e1178"]]);var bC=mC;function pC(e){var t=function(e){var t,n,o,a,r,l,i={leaveTypeId:e.type?e.type.id:1,fromDate:e.fromDate?e.fromDate:"",toDate:e.toDate?e.toDate:"",comment:""===e.comment?null:e.comment,empNumber:e.employee?e.employee.id:void 0};if(e.duration.type){var c,d={type:null===(c=e.duration.type)||void 0===c?void 0:c.key};"specify_time"===d.type&&(e.duration.fromTime&&(d.fromTime=e.duration.fromTime),e.duration.toTime&&(d.toTime=e.duration.toTime)),i.duration=d}var u=_e(i.fromDate,i.toDate);if(u>1&&e.partialOptions&&(i.partialOption=e.partialOptions.key,e.endDuration.type)){var s={type:e.endDuration.type.key};e.endDuration.fromTime&&(s.fromTime=e.endDuration.fromTime),e.endDuration.toTime&&(s.toTime=e.endDuration.toTime),"start_end"===i.partialOption?i.endDuration=s:"end"===i.partialOption&&(i.duration=s)}return"specify_time"!==(null===(t=i.duration)||void 0===t?void 0:t.type)&&(null!==(n=i.duration)&&void 0!==n&&n.fromTime||null!==(o=i.duration)&&void 0!==o&&o.toTime)&&(i.duration.fromTime=void 0,i.duration.toTime=void 0),"specify_time"!==(null===(a=i.endDuration)||void 0===a?void 0:a.type)&&(null!==(r=i.endDuration)&&void 0!==r&&r.fromTime||null!==(l=i.endDuration)&&void 0!==l&&l.toTime)&&(i.endDuration.fromTime=void 0,i.endDuration.toTime=void 0),i},n=function(e){var t,n={fromDate:void 0,toDate:void 0,partialOption:void 0,empNumber:null===(t=e.employee)||void 0===t?void 0:t.id};if(e.duration.type&&(n["duration[type]"]=e.duration.type.key,"specify_time"===n["duration[type]"]&&(e.duration.fromTime&&(n["duration[fromTime]"]=e.duration.fromTime),e.duration.toTime&&(n["duration[toTime]"]=e.duration.toTime))),e.fromDate&&e.toDate){n.fromDate=e.fromDate,n.toDate=e.toDate;var o=_e(e.fromDate,e.toDate);o>1&&e.partialOptions&&(n.partialOption=e.partialOptions.key,e.endDuration.type&&("start_end"===n.partialOption?(n["endDuration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(n["endDuration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(n["endDuration[toTime]"]=e.endDuration.toTime)):"end"===n.partialOption&&(n["duration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(n["duration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(n["duration[toTime]"]=e.endDuration.toTime))))}return"specify_time"!==n["duration[type]"]&&(n["duration[fromTime]"]||n["duration[toTime]"])&&(n["duration[fromTime]"]=void 0,n["duration[toTime]"]=void 0),"specify_time"!==n["endDuration[type]"]&&(n["endDuration[fromTime]"]||n["endDuration[toTime]"])&&(n["endDuration[fromTime]"]=void 0,n["endDuration[toTime]"]=void 0),n},o=function(t){return new Promise((function(o,a){e.request({method:"GET",url:"api/v2/leave/overlap-leaves",params:n(t)}).then((function(e){var t=e.data,n=t.data,a=t.meta;Array.isArray(n)&&n.length>0?o({isConflict:!0,isOverWorkshift:!0===a.isWorkShiftLengthExceeded,data:n}):o({isConflict:!1,isOverWorkshift:!1,data:[]})})).catch((function(e){a(e)}))}))},a=function(t){return new Promise((function(o,a){var r;e.request({method:"GET",url:"api/v2/leave/leave-balance/leave-type/".concat(null===(r=t.type)||void 0===r?void 0:r.id),params:n(t)}).then((function(e){var t=0,n=null,a=null;if(200===e.status){var r,l=e.data,i=l.data,c=l.meta;if(a=c,i.balance)n=i.balance,t=null===(r=i.balance)||void 0===r?void 0:r.balance;else if(i.breakdown&&!1===i.negative){var d;n=i.breakdown[0].balance,t=null===(d=i.breakdown[0].balance)||void 0===d?void 0:d.balance}else i.breakdown&&!0===i.negative?(n=i.breakdown,t=-1):(n=null,t=0)}o({balance:t,breakdown:n,metaData:a})})).catch((function(e){a(e)}))}))};return{serializeBody:t,serializeParams:n,validateLeaveBalance:a,validateOverlapLeaves:o}}var fC={name:"LeaveBalance",components:{"oxd-label":Xg["a"],"leave-balance-modal":rC,"leave-balance-insufficient-modal":bC},inheritAttrs:!1,props:{leaveData:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(o["reactive"])({data:null,meta:null,balance:0,showModal:!1}),n=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-balance/leave-type");n.setIgnorePath("api/v2/leave/leave-balance/leave-type");var a=pC(n),r=a.validateLeaveBalance,l=Object(o["computed"])((function(){var n;return null!==(n=e.leaveData.type)&&void 0!==n&&n.id?"".concat(t.balance.toFixed(2)," Day(s)"):"0.00 Day(s)"})),i=function(){t.showModal=!0},c=function(){t.showModal=!1},d=Object(o["computed"])((function(){return Array.isArray(t.data)?"leave-balance-insufficient-modal":"leave-balance-modal"}));return Object(o["watchPostEffect"])(Object(ce["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!==(o=e.leaveData.type)&&void 0!==o&&o.id&&r(e.leaveData).then((function(e){var n=e.balance,o=e.breakdown,a=e.metaData;t.balance=n,o&&(t.data=o),a&&(t.meta=a)})).catch((function(){t.data=null,t.meta=null,t.balance=0}));case 1:case"end":return n.stop()}}),n)})))),Object(R["a"])(Object(R["a"])({},Object(o["toRefs"])(t)),{},{leaveBalance:l,onModalOpen:i,onModalClose:c,leaveBalanceModal:d})}};n("01f0");const hC=C()(fC,[["render",Jg],["__scopeId","data-v-e36f7fd8"]]);var jC=hC,OC={class:"orangehrm-paper-container"},vC={class:"orangehrm-header-container"},gC={class:"orangehrm-container"},CC=Object(o["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1),yC=Object(o["createElementVNode"])("br",null,null,-1);function VC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",OC,[Object(o["createElementVNode"])("div",vC,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.header),1)]})),_:1})]),Object(o["createVNode"])(c,{loading:!1,selected:0,total:n.data.length},null,8,["total"]),Object(o["createElementVNode"])("div",gC,[Object(o["createVNode"])(d,{headers:r.headers,items:l.items,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),CC]),yC],64)}var xC={name:"LeaveConflict",props:{workshiftExceeded:{type:Boolean,default:!1},data:{type:Array,required:!0}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"hours",title:this.$t("leave.no_of_hours"),style:{flex:1}},{name:"type",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}}]}},computed:{header:function(){return this.workshiftExceeded?this.$t("leave.workshift_length_exceeded_due_to_the_following_leave_request"):this.$t("leave.overlapping_leave_request_found")},items:function(){return this.data.map((function(e){var t,n,o;return{date:e.date,hours:parseFloat(e.lengthHours).toFixed(2),type:null===(t=e.leaveType)||void 0===t?void 0:t.name,status:null===(n=e.status)||void 0===n?void 0:n.name,comments:null===(o=e.lastComment)||void 0===o?void 0:o.comment}}))}}};const wC=C()(xC,[["render",VC]]);var NC=wC,_C={type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},kC={name:"LeaveApply",components:{"leave-duration-input":Wg,"leave-balance":jC,"leave-conflict":NC},props:{workShift:{type:Object,default:function(){return{}}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-requests"),t=pC(e),n=t.serializeBody,o=t.validateOverlapLeaves,a=bh(),r=a.formRef,l=a.reset;return{http:e,reset:l,formRef:r,serializeBody:n,validateOverlapLeaves:o}},data:function(){var e=this;return{isLoading:!1,leave:Object(R["a"])({},_C),rules:{type:[St],fromDate:[St,$t()],toDate:[St,$t(),Pt((function(){return e.leave.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[Dt(250)]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:Object(qm["a"])(Mm()),leaveTypes:[]}},computed:{appliedLeaveDuration:function(){return _e(this.leave.fromDate,this.leave.toDate)},showDuration:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-types/eligible"}).then((function(t){var n=t.data.data;e.leaveTypes=n.map((function(e){return{id:e.id,label:e.name}}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.showLeaveConflict=!1,this.leaveConflictData=null,this.validateOverlapLeaves(this.leave).then((function(t){var n=t.isConflict,o=t.isOverWorkshift,a=t.data;return n?(e.leaveConflictData=a,e.showLeaveConflict=!0,e.isWorkShiftExceeded=o,Promise.reject()):e.http.create(e.serializeBody(e.leave))})).then((function(){e.$toast.saveSuccess(),e.reset()})).catch((function(){e.showLeaveConflict&&e.$toast.warn({title:e.$t("general.warning"),message:e.$t("leave.failed_to_submit")})})).finally((function(){e.isLoading=!1}))}}};const SC=C()(kC,[["render",qg]]);var DC=SC,$C={class:"orangehrm-background-container"},EC={class:"orangehrm-card-container"};function TC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("leave-conflict"),c=Object(o["resolveComponent"])("leave-assign-confirm-modal"),d=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-divider"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid-item"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("leave-type-dropdown"),h=Object(o["resolveComponent"])("leave-balance"),j=Object(o["resolveComponent"])("date-input"),O=Object(o["resolveComponent"])("leave-duration-input"),v=Object(o["resolveComponent"])("oxd-input-field"),g=Object(o["resolveComponent"])("required-text"),C=Object(o["resolveComponent"])("submit-button"),y=Object(o["resolveComponent"])("oxd-form-actions"),V=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$C,[r.showLeaveConflict?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,"workshift-exceeded":r.isWorkShiftExceeded,data:r.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c,{ref:"confirmDialog"},null,512),Object(o["createElementVNode"])("div",EC,[Object(o["createVNode"])(d,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.assign_leave")),1)]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(V,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.leave.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leave.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leave.type=e}),rules:r.rules.type,"eligible-only":!1,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{"leave-data":r.leave},null,8,["leave-data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:r.leave.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leave.fromDate=e}),label:e.$t("general.from_date"),rules:r.rules.fromDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:r.leave.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leave.toDate=e}),label:e.$t("general.to_date"),rules:r.rules.toDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),1==l.appliedLeaveDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{duration:r.leave.duration.type,"onUpdate:duration":t[4]||(t[4]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[5]||(t[5]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[6]||(t[6]=function(e){return r.leave.duration.toTime=e}),label:e.$t("general.duration"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),l.appliedLeaveDuration>1?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{modelValue:r.leave.partialOptions,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.leave.partialOptions=e}),type:"select",label:e.$t("leave.partial_days"),options:r.partialOptions},null,8,["modelValue","label","options"])]})),_:1}),l.showDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,duration:r.leave.duration.type,"onUpdate:duration":t[8]||(t[8]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[9]||(t[9]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[10]||(t[10]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("general.duration"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showStartDay?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:1,duration:r.leave.duration.type,"onUpdate:duration":t[11]||(t[11]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[12]||(t[12]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[13]||(t[13]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("leave.start_day"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showEndDay?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:2,duration:r.leave.endDuration.type,"onUpdate:duration":t[14]||(t[14]=function(e){return r.leave.endDuration.type=e}),fromTime:r.leave.endDuration.fromTime,"onUpdate:fromTime":t[15]||(t[15]=function(e){return r.leave.endDuration.fromTime=e}),toTime:r.leave.endDuration.toTime,"onUpdate:toTime":t[16]||(t[16]=function(e){return r.leave.endDuration.toTime=e}),partial:!0,label:e.$t("leave.end_day"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{modelValue:r.leave.comment,"onUpdate:modelValue":t[17]||(t[17]=function(e){return r.leave.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g),Object(o["createVNode"])(C,{label:e.$t("leave.assign")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var IC=Object(o["createTextVNode"])("(Deleted)"),BC={key:0,class:"deleted-tag"};function LC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",label:e.$t("leave.leave_type"),options:a.options,"show-empty-selector":n.showEmptySelector},{afterSelected:Object(o["withCtx"])((function(e){var t=e.data;return[t.isDeleted?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[IC],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1),t.isDeleted?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",BC," (Deleted) ")):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","options","show-empty-selector"])}var UC={name:"LeaveTypeDropdown",props:{eligibleOnly:{type:Boolean,default:!0},employeeId:{type:Number,required:!1,default:null},showEmptySelector:{type:Boolean,default:!0},includeAllocated:{type:Boolean,default:!1}},setup:function(e,t){var n=Object(o["ref"])([]),a=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-types".concat(e.eligibleOnly?"/eligible":""));return Object(o["watchEffect"])(Object(ce["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:!e.eligibleOnly&&e.includeAllocated&&console.error("`includeAllocated` prop can true only if `eligibleOnly` prop true"),a.getAll({empNumber:e.employeeId,includeAllocated:!(!e.eligibleOnly||!e.includeAllocated)||void 0}).then((function(o){var a=o.data;n.value=a.data.map((function(e){return{id:e.id,label:e.name,isDeleted:e.deleted}})),!e.showEmptySelector&&n.value.length>0&&t.emit("update:modelValue",n.value[0])}));case 2:case"end":return o.stop()}}),o)})))),{options:n}}};n("e61f");const AC=C()(UC,[["render",LC],["__scopeId","data-v-2c3f0322"]]);var PC=AC,qC={class:"orangehrm-modal-header"},MC={class:"orangehrm-text-center-align"},RC={class:"orangehrm-modal-footer"};function FC(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",qC,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.confirm_leave_assignment")),1)]})),_:1})]),Object(o["createElementVNode"])("div",MC,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.employee_does_not_have_enough_balance_for_leave_request"))+" "+Object(o["toDisplayString"])(e.$t("leave.click_ok_to_confirm_leave_assignment")),1)]})),_:1})]),Object(o["createElementVNode"])("div",RC,[Object(o["createVNode"])(c,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var zC={name:"LeaveAssignConfirmModal",components:{"oxd-dialog":K["a"]},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("22ca");const GC=C()(zC,[["render",FC],["__scopeId","data-v-4dec572c"]]);var QC=GC,HC={employee:null,type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},WC={startTime:"9:00",endTime:"17:00"},YC={name:"LeaveAssign",components:{"leave-type-dropdown":PC,"leave-duration-input":Wg,"leave-balance":jC,"employee-autocomplete":Ba,"leave-conflict":NC,"leave-assign-confirm-modal":QC},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/leave/employees/leave-requests"),t=pC(e),n=t.serializeBody,o=t.validateLeaveBalance,a=t.validateOverlapLeaves,r=bh(),l=r.formRef,i=r.reset;return{http:e,reset:i,formRef:l,serializeBody:n,validateLeaveBalance:o,validateOverlapLeaves:a}},data:function(){var e=this;return{isLoading:!1,leave:Object(R["a"])({},HC),rules:{type:[St],fromDate:[St,$t()],toDate:[St,$t(),Pt((function(){return e.leave.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[Dt(250)],employee:[St]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:Object(qm["a"])(Mm()),workShift:Object(R["a"])({},WC)}},computed:{appliedLeaveDuration:function(){return _e(this.leave.fromDate,this.leave.toDate)},showDuration:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{"leave.employee":function(e){var t=this;e?this.http.request({method:"GET",url:"api/v2/pim/employees/".concat(e.id,"/work-shift")}).then((function(e){var n=e.data.data;t.workShift=n})):this.workShift=Object(R["a"])({},WC)},appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.leaveConflictData=null,this.showLeaveConflict=!1,this.validateLeaveBalance(this.leave).then(function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(n){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.balance,!(o<=0)){t.next=7;break}return t.next=4,e.$refs.confirmDialog.showDialog();case 4:if(a=t.sent,"ok"===a){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return t.abrupt("return",e.validateOverlapLeaves(e.leave));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){var n=t.isConflict,o=t.isOverWorkshift,a=t.data;return n?(e.leaveConflictData=a,e.showLeaveConflict=!0,e.isWorkShiftExceeded=o,Promise.reject()):e.http.create(e.serializeBody(e.leave))})).then((function(){e.$toast.saveSuccess(),e.reset()})).catch((function(){e.showLeaveConflict&&e.$toast.warn({title:e.$t("general.warning"),message:e.$t("leave.failed_to_submit")})})).finally((function(){e.isLoading=!1}))}}};const JC=C()(YC,[["render",TC]]);var XC=JC,ZC={class:"orangehrm-background-container"},KC={class:"orangehrm-paper-container"},ey={class:"orangehrm-header-container"},ty={class:"orangehrm-container"},ny={class:"orangehrm-bottom-container"};function oy(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZC,[Object(o["createElementVNode"])("div",KC,[Object(o["createElementVNode"])("div",ey,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_types")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",ty,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",ny,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var ay={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-types"),t=ot(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:6}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/leave/defineLeaveType")},onClickEdit:function(e){Y("/leave/defineLeaveType/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const ry=C()(ay,[["render",oy]]);var ly=ry,iy={class:"orangehrm-background-container"},cy={class:"orangehrm-card-container"},dy={class:"label-is-entitlement-situational"};function uy(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-label"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("oxd-grid-item"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("entitlement-situational-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",iy,[Object(o["createElementVNode"])("div",cy,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_leave_type")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveType.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",dy,[Object(o["createVNode"])(s,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(o["createVNode"])(m,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),r.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])])}var sy={class:"orangehrm-card-container"},my={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},by={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function py(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-form-actions"),s=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{class:"modal-container",gutters:!1,"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",sy,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.situational_leave")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",my,[Object(o["createVNode"])(i,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.entitlement_situational_description")),1)]})),_:1})]),Object(o["createElementVNode"])("div",by,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}var fy={name:"EntitlementSituationalModal",components:{"oxd-dialog":K["a"]},emits:["close"],methods:{onCancel:function(){this.$emit("close",!0)}}};n("fdcd");const hy=C()(fy,[["render",py]]);var jy=hy,Oy={id:"",name:"",situational:""},vy={components:{"oxd-label":Xg["a"],"entitlement-situational-modal":jy},props:{leaveTypeId:{type:Number,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data:function(){return{showModal:!1,isLoading:!1,leaveType:Object(R["a"])({},Oy),rules:{name:[St,Dt(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.leaveTypeId).then((function(t){var n=t.data.data;return e.leaveType.id=n.id,e.leaveType.name=n.name,e.leaveType.situational=n.situational,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.leaveTypeId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.leaveTypeId,{name:this.leaveType.name,situational:this.leaveType.situational}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/leave/leaveTypeList")},onModalOpen:function(){this.showModal=!0},onModalClose:function(){this.showModal=!1}}};n("6533");const gy=C()(vy,[["render",uy],["__scopeId","data-v-10a4c0fa"]]);var Cy=gy,yy={class:"orangehrm-background-container"},Vy={class:"orangehrm-card-container"},xy={class:"label-is-entitlement-situational"};function wy(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-label"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("oxd-grid-item"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("entitlement-situational-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yy,[Object(o["createElementVNode"])("div",Vy,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_leave_type")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveType.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",xy,[Object(o["createVNode"])(s,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(o["createVNode"])(m,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),r.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])])}var Ny={id:"",name:"",situational:!1},_y={components:{"oxd-label":Xg["a"],"entitlement-situational-modal":jy},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data:function(){return{showModal:!1,isLoading:!1,leaveType:Object(R["a"])({},Ny),rules:{name:[St,Dt(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.leaveType.name,situational:this.leaveType.situational}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.leaveType=Object(R["a"])({},Ny),e.onCancel()}))},onCancel:function(){Y("/leave/leaveTypeList")},onModalOpen:function(){this.showModal=!0},onModalClose:function(){this.showModal=!1}}};n("f482");const ky=C()(_y,[["render",wy],["__scopeId","data-v-f177f4b2"]]);var Sy=ky,Dy={class:"orangehrm-background-container"},$y={class:"orangehrm-card-container"};function Ey(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("employee-autocomplete"),f=Object(o["resolveComponent"])("leave-type-dropdown"),h=Object(o["resolveComponent"])("leave-period-dropdown"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form"),y=Object(o["resolveComponent"])("entitlement-update-modal"),V=Object(o["resolveComponent"])("entitlement-bulk-update-modal"),x=Object(o["resolveComponent"])("entitlement-no-match-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Dy,[Object(o["createElementVNode"])("div",$y,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_leave_entitlement")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.add_to"),classes:{wrapper:"--grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveEntitlement.bulkAssign=e}),type:"radio","option-label":e.$t("leave.individual_employee"),value:"0"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveEntitlement.bulkAssign=e}),type:"radio","option-label":e.$t("leave.multiple_employees"),value:"1"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),0==r.leaveEntitlement.bulkAssign?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.employee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveEntitlement.employee=e}),params:{includeEmployees:"currentAndPast"},rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.location,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leaveEntitlement.location=e}),type:"select",label:e.$t("general.location"),options:n.locations},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.subunit,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.leaveEntitlement.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-leave-entitled"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-leave-entitled-text",type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.matches_emp_count_employees",{empMatchCount:r.empMatchCount})),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leaveEntitlement.leaveType,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.leaveEntitlement.leaveType=e}),"empty-text":e.$t("leave.no_leave_types_defined"),rules:r.rules.leaveType,"eligible-only":!1,required:""},null,8,["modelValue","empty-text","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:r.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.leaveEntitlement.leavePeriod=e}),rules:r.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.entitlement,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.leaveEntitlement.entitlement=e}),rules:r.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(y,{ref:"updateModal",data:r.leaveEntitlement},null,8,["data"]),Object(o["createVNode"])(V,{ref:"bulkUpdateModal",data:r.leaveEntitlement},null,8,["data"]),Object(o["createVNode"])(x,{ref:"noMatchModal"},null,512)])}function Ty(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",label:e.$t("leave.leave_period"),options:a.options},null,8,["label","options"])}var Iy={name:"LeavePeriodDropdown",setup:function(){var e=Object(o["ref"])([]),t=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-periods");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:"".concat(e.startDate,"_").concat(e.endDate),label:"".concat(e.startDate," - ").concat(e.endDate),startDate:e.startDate,endDate:e.endDate}}))}))})),{options:e}}};const By=C()(Iy,[["render",Ty]]);var Ly=By,Uy={class:"orangehrm-modal-header"},Ay={class:"orangehrm-text-center-align"},Py={class:"orangehrm-modal-footer"};function qy(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Uy,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.updating_entitlement")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Ay,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.entitlement_value_confirmation_message",{oldvalue:r.current,newvalue:r.updateAs})),1)]})),_:1})]),Object(o["createElementVNode"])("div",Py,[Object(o["createVNode"])(c,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.confirm"),onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var My={name:"EntitlementUpdateModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"");return{http:e}},data:function(){return{show:!1,reject:null,resolve:null,current:"0.00",updateAs:"0.00"}},methods:{showDialog:function(){var e,t,n,o,a=this;return this.http.request({method:"GET",url:"api/v2/leave/employees/".concat(null===(e=this.data.employee)||void 0===e?void 0:e.id,"/leave-entitlements"),params:{leaveTypeId:null===(t=this.data.leaveType)||void 0===t?void 0:t.id,fromDate:null===(n=this.data.leavePeriod)||void 0===n?void 0:n.startDate,toDate:null===(o=this.data.leavePeriod)||void 0===o?void 0:o.endDate,entitlement:this.data.entitlement}}).then((function(e){var t,n,o=e.data.data;return a.current=null!==(t=o.entitlement)&&void 0!==t&&t.current?parseFloat(o.entitlement.current).toFixed(2):"0.00",a.updateAs=null!==(n=o.entitlement)&&void 0!==n&&n.updateAs?parseFloat(o.entitlement.updateAs).toFixed(2):"0.00",new Promise((function(e,t){a.resolve=e,a.reject=t,a.show=!0}))}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("a2b1");const Ry=C()(My,[["render",qy],["__scopeId","data-v-265f55d1"]]);var Fy=Ry,zy={class:"orangehrm-header-container"},Gy={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Qy={class:"orangehrm-container"},Hy={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Wy(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-card-table"),u=Object(o["resolveComponent"])("oxd-button"),s=Object(o["resolveComponent"])("submit-button"),m=Object(o["resolveComponent"])("oxd-form-actions"),b=Object(o["resolveComponent"])("oxd-dialog");return r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,gutters:!1,style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",zy,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.updating_entitlement"))+" - "+Object(o["toDisplayString"])(e.$t("leave.matching_employees")),1)]})),_:1})]),Object(o["createVNode"])(c,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",Gy,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.selected_leave_entitlement_applied_to_following_employees")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Qy,[Object(o["createVNode"])(d,{headers:r.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",Hy,[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(s,{label:e.$t("general.confirm"),onClick:l.onConfirm},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)}var Yy={name:"EntitlementBulkUpdateModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/employees/leave-entitlements");return{http:e}},data:function(){return{show:!1,reject:null,resolve:null,headers:[{title:this.$t("general.employee"),name:"employee",slot:"title",style:{flex:1}},{title:this.$t("leave.old_entitlement"),name:"current",style:{flex:1}},{title:this.$t("leave.new_entitlement"),name:"updateAs",style:{flex:1}}],items:[]}},methods:{showDialog:function(){var e,t,n,o,a,r=this;return this.http.getAll({leaveTypeId:null===(e=this.data.leaveType)||void 0===e?void 0:e.id,fromDate:null===(t=this.data.leavePeriod)||void 0===t?void 0:t.startDate,toDate:null===(n=this.data.leavePeriod)||void 0===n?void 0:n.endDate,entitlement:this.data.entitlement,locationId:null===(o=this.data.location)||void 0===o?void 0:o.id,subunitId:null===(a=this.data.subunit)||void 0===a?void 0:a.id}).then((function(e){var t=e.data.data;return r.items=Array.isArray(t)?t.map((function(e){var t,n;return{employee:"".concat(e.firstName," ").concat(e.lastName),current:null!==(t=e.entitlement)&&void 0!==t&&t.current?parseFloat(e.entitlement.current).toFixed(2):"0.00",updateAs:null!==(n=e.entitlement)&&void 0!==n&&n.updateAs?parseFloat(e.entitlement.updateAs).toFixed(2):"0.00"}})):[],new Promise((function(e,t){r.resolve=e,r.reject=t,r.show=!0}))}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("4ae8");const Jy=C()(Yy,[["render",Wy],["__scopeId","data-v-209c8dfa"]]);var Xy=Jy,Zy={class:"orangehrm-modal-header"},Ky={class:"orangehrm-text-center-align"},eV={class:"orangehrm-modal-footer"};function tV(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Zy,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.no_matching_employees")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Ky,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.no_employees_match_filters")),1)]})),_:1})]),Object(o["createElementVNode"])("div",eV,[Object(o["createVNode"])(c,{"display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var nV={name:"EntitlementNoMatchModal",components:{"oxd-dialog":K["a"]},data:function(){return{show:!1}},methods:{showDialog:function(){this.show=!0},onCancel:function(){this.show=!1}}};n("0327");const oV=C()(nV,[["render",tV],["__scopeId","data-v-46007bcc"]]);var aV=oV,rV={bulkAssign:0,employee:null,leaveType:null,leavePeriod:null,entitlement:"",subunit:null,location:null},lV={components:{"leave-type-dropdown":PC,"leave-period-dropdown":Ly,"employee-autocomplete":Ba,"entitlement-update-modal":Fy,"entitlement-bulk-update-modal":Xy,"entitlement-no-match-modal":aV},props:{locations:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");return{http:e}},data:function(){var e=this;return{isLoading:!1,leaveEntitlement:Object(R["a"])({},rV),leavePeriodDefined:!1,rules:{employee:[St],leaveType:[St],leavePeriod:[St],entitlement:[St,function(t){return/^\d+(\.\d{1,2})?$/.test(t)||e.$t("leave.should_be_a_number_with_2_decimal_places")},Tt(1e4)]},empMatchCount:0}},watch:{"leaveEntitlement.location":"fetchEmployeeCount","leaveEntitlement.subunit":"fetchEmployeeCount"},beforeMount:function(){this.fetchEmployeeCount(),this.leavePeriod&&(this.leaveEntitlement.leavePeriod=this.leavePeriod)},methods:{onCancel:function(){Y("/leave/viewLeaveEntitlements")},onSave:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,o,a,r,l,i,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=null,e.isLoading=!0,l=1==e.leaveEntitlement.bulkAssign,!l){t.next=12;break}if(0!==e.empMatchCount){t.next=7;break}return e.isLoading=!1,t.abrupt("return",e.$refs.noMatchModal.showDialog());case 7:return t.next=9,e.$refs.bulkUpdateModal.showDialog();case 9:r=t.sent,t.next=15;break;case 12:return t.next=14,e.$refs.updateModal.showDialog();case 14:r=t.sent;case 15:if("ok"===r){t.next=18;break}return e.isLoading=!1,t.abrupt("return");case 18:i={empNumber:void 0,bulkAssign:void 0,locationId:void 0,subunitId:void 0,leaveTypeId:null===(n=e.leaveEntitlement.leaveType)||void 0===n?void 0:n.id,fromDate:null===(o=e.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.startDate,toDate:null===(a=e.leaveEntitlement.leavePeriod)||void 0===a?void 0:a.endDate,entitlement:e.leaveEntitlement.entitlement},l?(i.bulkAssign=!0,i.locationId=null===(c=e.leaveEntitlement.location)||void 0===c?void 0:c.id,i.subunitId=null===(d=e.leaveEntitlement.subunit)||void 0===d?void 0:d.id):i.empNumber=null===(u=e.leaveEntitlement.employee)||void 0===u?void 0:u.id,e.http.create(i).then((function(t){var n=null,o=null,a=t.data.data;return Array.isArray(a)?n=e.$toast.success({title:e.$t("general.success"),message:e.$t("leave.entitlement_added_to_n_employees",{count:a.length})}):(o={empNumber:a.employee.empNumber,leaveTypeId:a.leaveType.id,startDate:a.fromDate,endDate:a.toDate},n=e.$toast.saveSuccess()),new Promise((function(e){n.then((function(){e(o)}))}))})).then((function(e){e?Y("/leave/viewLeaveEntitlements",void 0,e):Y("/leave/viewLeaveEntitlements")}));case 21:case"end":return t.stop()}}),t)})))()},fetchEmployeeCount:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.http.request({method:"GET",url:"api/v2/pim/employees/count",params:{locationId:null===(n=e.leaveEntitlement.location)||void 0===n?void 0:n.id,subunitId:null===(o=e.leaveEntitlement.subunit)||void 0===o?void 0:o.id}}).then((function(t){var n=t.data.data;e.empMatchCount=parseInt(n.count)}));case 1:case"end":return t.stop()}}),t)})))()}}};n("0e11");const iV=C()(lV,[["render",Ey],["__scopeId","data-v-1ce418b5"]]);var cV=iV,dV={class:"orangehrm-background-container"},uV={class:"orangehrm-card-container"};function sV(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("leave-type-dropdown"),p=Object(o["resolveComponent"])("oxd-input-field"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dV,[Object(o["createElementVNode"])("div",uV,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_leave_entitlement")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leaveEntitlement.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveEntitlement.employee=e}),disabled:"",required:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.leaveEntitlement.leaveType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveEntitlement.leaveType=e}),"eligible-only":!1,required:"",disabled:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveEntitlement.leavePeriod=e}),type:"select",label:e.$t("leave.leave_period"),options:r.leavePeriods,rules:r.rules.leavePeriod,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.entitlement,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leaveEntitlement.entitlement=e}),rules:r.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var mV={employee:null,leaveType:null,leavePeriod:null,entitlement:""},bV={components:{"leave-type-dropdown":PC,"employee-autocomplete":Ba},props:{entitlementId:{type:String,required:!0},employee:{type:Object,default:function(){return{}}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");return e.setIgnorePath("api/v2/leave/leave-entitlements/[0-9]+/validation/entitlements"),{http:e}},data:function(){var e=this;return{isLoading:!1,leaveEntitlement:Object(R["a"])({},mV),rules:{employee:[St],leaveType:[St],leavePeriod:[St],entitlement:[St,function(t){return/^\d+(\.\d{1,2})?$/.test(t)||e.$t("leave.should_be_a_number_with_2_decimal_places")},Tt(1e4),Object(Ya["a"])(this.validateEntitlement,500)]},leavePeriods:[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then((function(t){var n=t.data;return e.leavePeriods=n.data.map((function(e){return{id:"".concat(e.startDate,"_").concat(e.endDate),label:"".concat(e.startDate," - ").concat(e.endDate),startDate:e.startDate,endDate:e.endDate}})),e.http.get(e.entitlementId)})).then((function(t){var n=t.data.data;e.leaveEntitlement.employee={id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.lastName),isPastEmployee:n.employee.terminationId},e.leaveEntitlement.leaveType={id:n.leaveType.id,label:n.leaveType.name},e.leaveEntitlement.leavePeriod=e.leavePeriods.find((function(e){return e.id==="".concat(n.fromDate,"_").concat(n.toDate)})),e.leaveEntitlement.entitlement=n.entitlement})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){var e,t,n,o;Y("/leave/viewLeaveEntitlements",void 0,{empNumber:null===(e=this.leaveEntitlement.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(t=this.leaveEntitlement.leaveType)||void 0===t?void 0:t.id,startDate:null===(n=this.leaveEntitlement.leavePeriod)||void 0===n?void 0:n.startDate,endDate:null===(o=this.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.endDate})},onSave:function(){var e,t,n=this;this.isLoading=!0;var o={fromDate:null===(e=this.leaveEntitlement.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(t=this.leaveEntitlement.leavePeriod)||void 0===t?void 0:t.endDate,entitlement:this.leaveEntitlement.entitlement};this.http.update(this.entitlementId,o).then((function(){n.$toast.updateSuccess(),n.onCancel()}))},validateEntitlement:function(e){var t=this,n=parseFloat(e);return new Promise((function(e){isNaN(n)?e(!0):t.http.request({method:"GET",url:"api/v2/leave/leave-entitlements/".concat(t.entitlementId,"/validation/entitlements"),params:{entitlement:n}}).then((function(n){var o=n.data.data;return!0===o.valid?e(!0):e(t.$t("leave.used_amount_exceeds_the_current_amount"))}))}))}}};const pV=C()(bV,[["render",sV]]);var fV=pV;function hV(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("leave-type-dropdown"),u=Object(o["resolveComponent"])("leave-period-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("leave-entitlement-table");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{prefetch:!1},{default:Object(o["withCtx"])((function(t){var n=t.filters,a=t.filterItems;return[Object(o["createVNode"])(O,{"filter-title":e.$t("leave.leave_entitlements")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:a},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:n.employee,"onUpdate:modelValue":function(e){return n.employee=e},rules:r.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","onUpdate:modelValue","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:n.leaveType,"onUpdate:modelValue":function(e){return n.leaveType=e},"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:n.leavePeriod,"onUpdate:modelValue":function(e){return n.leavePeriod=e},"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"])]})),_:1})}var jV={class:"orangehrm-background-container"},OV=Object(o["createElementVNode"])("br",null,null,-1),vV={key:0,class:"orangehrm-paper-container"},gV={class:"orangehrm-header-container"},CV={class:"orangehrm-container"},yV={class:"orangehrm-bottom-container"};function VV(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jV,[Object(o["renderSlot"])(e.$slots,"default",{filters:a.filters,filterItems:l.filterItems}),OV,a.showDatatable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vV,[Object(o["createElementVNode"])("div",gV,[Object(o["createElementVNode"])("div",null,[e.$can.create("leave_entitlements")?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(d,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.totalEntitlements),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",CV,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("leave_entitlements"),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",yV,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var xV=void 0,wV=function(e){return e.map((function(e){return{id:e.id,leaveType:e.leaveType.name+"".concat(e.leaveType.deleted?xV.$t("general.deleted"):""),entitlementType:e.entitlementType.name,fromDate:e.fromDate,toDate:e.toDate,days:e.entitlement,isSelectable:e.deletable}}))},NV={name:"LeaveEntitlementTable",components:{"delete-confirmation":ut},props:{prefetch:{type:Boolean,default:!0},employee:{type:Object,required:!1,default:function(){return null}},leaveType:{type:Object,required:!1,default:function(){return null}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])({leaveType:e.leaveType?e.leaveType:null,leavePeriod:e.leavePeriod?e.leavePeriod:null,employee:e.employee?{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}:null}),n=Object(o["computed"])((function(){var e,n,o,a;return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(n=t.value.leaveType)||void 0===n?void 0:n.id,fromDate:null===(o=t.value.leavePeriod)||void 0===o?void 0:o.startDate,toDate:null===(a=t.value.leavePeriod)||void 0===a?void 0:a.endDate}})),a=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-entitlements"),r=ot(a,{query:n,normalizer:wV,prefetch:e.employee||e.prefetch}),l=r.showPaginator,i=r.currentPage,c=r.total,d=r.pages,u=r.pageSize,s=r.response,m=r.isLoading,b=r.execQuery,p=Object(o["computed"])((function(){var e,t=null!==(e=s.value.meta)&&void 0!==e&&e.sum?s.value.meta.sum:0;return"Total ".concat(parseFloat(t).toFixed(2)," Day(s)")})),f=Object(o["computed"])((function(){return void 0!==s.value.data}));return{http:a,showPaginator:l,currentPage:i,isLoading:m,total:c,pages:d,pageSize:u,execQuery:b,items:s,filters:t,totalEntitlements:p,showDatatable:f}},data:function(){return{checkedItems:[]}},computed:{headers:function(){var e=[{name:"leaveType",slot:"title",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"entitlementType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"fromDate",title:this.$t("leave.valid_from"),style:{flex:1}},{name:"toDate",title:this.$t("leave.valid_to"),style:{flex:1}},{name:"days",title:this.$t("leave.days"),style:{flex:1}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("leave_entitlements")&&(t.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("leave_entitlements")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0?e.concat([t]):e}},methods:{onClickAdd:function(){Y("/leave/addLeaveEntitlement")},onClickEdit:function(e){Y("/leave/editLeaveEntitlement/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;if(!e.isSelectable)return this.$toast.error({title:this.$t("general.error"),message:this.$t("leave.entitlements_will_not_be_deleted_since_already_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const _V=C()(NV,[["render",VV]]);var kV=_V,SV={components:{"leave-entitlement-table":kV,"employee-autocomplete":Ba,"leave-type-dropdown":PC,"leave-period-dropdown":Ly},data:function(){return{rules:{employee:[St]}}}};const DV=C()(SV,[["render",hV]]);var $V=DV;function EV(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("leave-type-dropdown"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("leave-period-dropdown"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("leave-entitlement-table");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])((function(t){var n=t.filters,a=t.filterItems;return[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.my_leave_entitlements")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:a},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:n.leaveType,"onUpdate:modelValue":function(e){return n.leaveType=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:n.leavePeriod,"onUpdate:modelValue":function(e){return n.leavePeriod=e},"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"])]})),_:1})}var TV={components:{"leave-entitlement-table":kV,"leave-type-dropdown":PC,"leave-period-dropdown":Ly}};const IV=C()(TV,[["render",EV]]);var BV=IV,LV={class:"orangehrm-background-container"},UV={class:"orangehrm-card-container"};function AV(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LV,[Object(o["createElementVNode"])("div",UV,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.work_week")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.monday,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workWeek.monday=e}),type:"select",options:n.dayTypes,rules:r.rules.monday,label:e.$t("general.monday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.tuesday,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workWeek.tuesday=e}),type:"select",options:n.dayTypes,rules:r.rules.tuesday,label:e.$t("general.tuesday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.wednesday,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workWeek.wednesday=e}),type:"select",options:n.dayTypes,rules:r.rules.wednesday,label:e.$t("general.wednesday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.thursday,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workWeek.thursday=e}),type:"select",options:n.dayTypes,rules:r.rules.thursday,label:e.$t("general.thursday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.friday,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workWeek.friday=e}),type:"select",options:n.dayTypes,rules:r.rules.friday,label:e.$t("general.friday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.saturday,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.workWeek.saturday=e}),type:"select",options:n.dayTypes,rules:r.rules.saturday,label:e.$t("general.saturday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workWeek.sunday,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.workWeek.sunday=e}),type:"select",options:n.dayTypes,rules:r.rules.sunday,label:e.$t("general.sunday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("07ac");var PV={monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null},qV={props:{dayTypes:{type:Array,default:function(){return[]}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/workweek");return{http:e}},data:function(){return{isLoading:!1,workWeek:Object(R["a"])({},PV),rules:{monday:[St],tuesday:[St],wednesday:[St],thursday:[St],friday:[St],saturday:[St],sunday:[St]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data.data;e.workWeek.monday=e.dayTypes.find((function(e){return e.id===n.monday})),e.workWeek.tuesday=e.dayTypes.find((function(e){return e.id===n.tuesday})),e.workWeek.wednesday=e.dayTypes.find((function(e){return e.id===n.wednesday})),e.workWeek.thursday=e.dayTypes.find((function(e){return e.id===n.thursday})),e.workWeek.friday=e.dayTypes.find((function(e){return e.id===n.friday})),e.workWeek.saturday=e.dayTypes.find((function(e){return e.id===n.saturday})),e.workWeek.sunday=e.dayTypes.find((function(e){return e.id===n.sunday}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this,t=Object.values(this.workWeek).find((function(e){return 8!==e.id}));if(void 0===t)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.at_least_one_day_should_be_a_working_day")});this.isLoading=!0,this.http.request({method:"PUT",data:{monday:this.workWeek.monday.id,tuesday:this.workWeek.tuesday.id,wednesday:this.workWeek.wednesday.id,thursday:this.workWeek.thursday.id,friday:this.workWeek.friday.id,saturday:this.workWeek.saturday.id,sunday:this.workWeek.sunday.id}}).then((function(){e.$toast.saveSuccess(),e.isLoading=!1}))}}};const MV=C()(qV,[["render",AV]]);var RV=MV,FV={class:"orangehrm-background-container"},zV=Object(o["createElementVNode"])("br",null,null,-1),GV={class:"orangehrm-paper-container"},QV={class:"orangehrm-header-container"},HV={class:"orangehrm-container"},WV={class:"orangehrm-bottom-container"};function YV(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("date-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",FV,[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.holidays")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),zV,Object(o["createElementVNode"])("div",GV,[Object(o["createElementVNode"])("div",QV,[Object(o["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",HV,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[2]||(t[2]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",WV,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var JV=function(e){return e.map((function(e){return{id:e.id,name:e.name,date:e.date,recurring:e.recurring?"Yes":"No",length:e.lengthName}}))},XV={components:{"delete-confirmation":ut},props:{leavePeriod:{type:Object,required:!0}},setup:function(e){var t=Object(o["ref"])({fromDate:e.leavePeriod.startDate,toDate:e.leavePeriod.endDate}),n=Object(o["computed"])((function(){return{fromDate:t.value.fromDate,toDate:t.value.toDate}})),a=new X(window.appGlobal.baseUrl,"api/v2/leave/holidays"),r=ot(a,{query:n,normalizer:JV}),l=r.showPaginator,i=r.currentPage,c=r.total,d=r.pages,u=r.pageSize,s=r.response,m=r.isLoading,b=r.execQuery;return{http:a,showPaginator:l,currentPage:i,isLoading:m,total:c,pages:d,pageSize:u,execQuery:b,items:s,filters:t}},data:function(){var e=this;return{yearArray:Object(qm["a"])(Mm(201)),rules:{fromDate:[St,$t()],toDate:[St,$t(),Pt((function(){return e.filters.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"date",title:this.$t("general.date"),style:{flex:2}},{name:"length",title:this.$t("leave.full_day_half_day"),style:{flex:2}},{name:"recurring",title:this.$t("leave.repeats_annually"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/leave/saveHolidays")},onClickEdit:function(e){Y("/leave/saveHolidays/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const ZV=C()(XV,[["render",YV]]);var KV=ZV,ex={class:"orangehrm-background-container"},tx={class:"orangehrm-card-container"};function nx(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ex,[Object(o["createElementVNode"])("div",tx,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_holiday")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.holiday.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.holiday.date=e}),label:e.$t("general.date"),rules:r.rules.date,years:r.yearArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.holiday.length=e}),type:"select",label:e.$t("leave.full_day_half_day"),options:n.holidayLengthList,rules:r.rules.length,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ox={name:"",date:"",recurring:!1,length:{id:0,label:"Full Day"}},ax={props:{holidayLengthList:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/holidays");return{http:e}},data:function(){return{yearArray:Object(qm["a"])(Mm(201)),isLoading:!1,holiday:Object(R["a"])({},ox),rules:{name:[St,Dt(200)],date:[St,$t()],length:[St]},errors:[]}},created:function(){var e=this;this.isLoading=!0;var t=new Date,n=t.getFullYear()-100+"-"+(t.getMonth()+1)+"-"+t.getDate(),o=t.getFullYear()+100+"-"+(t.getMonth()+1)+"-"+t.getDate();this.http.getAll({fromDate:n,toDate:o,limit:0}).then((function(t){var n=t.data.data;e.rules.date.push((function(t){var o=n.findIndex((function(e){return e.date==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.holiday=Object(R["a"])({},ox),e.onCancel()}))},onCancel:function(){Y("/leave/viewHolidayList")}}};n("6e79");const rx=C()(ax,[["render",nx],["__scopeId","data-v-1b6b7b05"]]);var lx=rx,ix={class:"orangehrm-background-container"},cx={class:"orangehrm-card-container"};function dx(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ix,[Object(o["createElementVNode"])("div",cx,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_holiday")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.holiday.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.holiday.date=e}),label:e.$t("general.date"),rules:r.rules.date,years:r.yearArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.holiday.length=e}),type:"select",label:e.$t("leave.full_day_half_day"),options:n.holidayLengthList,rules:r.rules.length,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(d,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ux={id:"",name:"",date:"",recurring:!1,length:0},sx={props:{holidayId:{type:Number,required:!0},holidayLengthList:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/leave/holidays");return{http:e}},data:function(){return{yearArray:Object(qm["a"])(Mm(201)),isLoading:!1,holiday:Object(R["a"])({},ux),rules:{name:[St,Dt(200)],date:[St,$t()],length:[St]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.holidayId).then((function(t){var n=t.data.data;e.holiday.id=n.id,e.holiday.name=n.name,e.holiday.date=n.date,e.holiday.recurring=n.recurring,""!==n.length&&null!==n.length&&(e.holiday.length=e.holidayLengthList.find((function(e){return e.id===n.length})));var o=new Date,a=o.getFullYear()-100+"-"+(o.getMonth()+1)+"-"+o.getDate(),r=o.getFullYear()+100+"-"+(o.getMonth()+1)+"-"+o.getDate();return e.http.getAll({fromDate:a,toDate:r,limit:0})})).then((function(t){var n=t.data.data;e.rules.date.push((function(t){var o=n.findIndex((function(e){return e.date===t}));if(o>-1){var a=n[o].id;return a==e.holidayId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.holidayId,{name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/leave/viewHolidayList")}}};n("39d2");const mx=C()(sx,[["render",dx],["__scopeId","data-v-38667a7c"]]);var bx=mx;function px(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("date-input"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("leave-type-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("oxd-text"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("leave-list-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{"leave-statuses":n.leaveStatuses},{default:Object(o["withCtx"])((function(t){var a=t.filters,r=t.filterItems,l=t.rules,y=t.onReset;return[Object(o["createVNode"])(C,{"filter-title":e.$t("leave.leave_list")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r,onReset:y},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.fromDate,"onUpdate:modelValue":function(e){return a.fromDate=e},label:e.$t("general.from_date"),rules:l.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.toDate,"onUpdate:modelValue":function(e){return a.toDate=e},label:e.$t("general.to_date"),rules:l.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.statuses,"onUpdate:modelValue":function(e){return a.statuses=e},value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:n.leaveStatuses,rules:l.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.leaveType,"onUpdate:modelValue":function(e){return a.leaveType=e},"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.employee,"onUpdate:modelValue":function(e){return a.employee=e},params:{includeEmployees:a.includePastEmps?"currentAndPast":"onlyCurrent"}},null,8,["modelValue","onUpdate:modelValue","params"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.subunit,"onUpdate:modelValue":function(e){return a.subunit=e},type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","onUpdate:modelValue","label","options"])]})),_:2},1024),Object(o["createVNode"])(c,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.include_past_employees")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:a.includePastEmps,"onUpdate:modelValue":function(e){return a.includePastEmps=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(h),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(O,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid","onReset"])]})),_:2},1032,["filter-title"])]})),_:1},8,["leave-statuses"])}var fx=function(e){return Object(o["pushScopeId"])("data-v-549b820d"),e=e(),Object(o["popScopeId"])(),e},hx={class:"orangehrm-background-container"},jx=fx((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Ox={class:"orangehrm-paper-container"},vx={class:"orangehrm-container"},gx={class:"orangehrm-bottom-container"};function Cx(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("leave-list-table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),u=Object(o["resolveComponent"])("oxd-pagination"),s=Object(o["resolveComponent"])("leave-comment-modal"),m=Object(o["resolveComponent"])("leave-bulk-action-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",hx,[Object(o["renderSlot"])(e.$slots,"default",{filters:a.filters,rules:a.rules,filterItems:l.filterItems,onReset:l.onReset},void 0,!0),jx,Object(o["createElementVNode"])("div",Ox,[Object(o["createVNode"])(c,{selected:a.checkedItems.length,total:a.total,loading:a.isLoading,"bulk-actions":a.leaveBulkActions,onOnActionClick:l.onLeaveActionBulk},null,8,["selected","total","loading","bulk-actions","onOnActionClick"]),Object(o["createElementVNode"])("div",vx,[Object(o["createVNode"])(d,{selected:a.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return a.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",gx,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,id:r.commentModalState,onClose:l.onCommentModalClose},null,8,["id","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(m,{ref:"bulkActionModal",data:r.bulkActionModalState},null,8,["data"])],64)}var yx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.length,o=void 0===n?50:n,a=t.ellipsis,r=void 0===a?"...":a;return"string"===typeof e?e.length>o?e.substr(0,o)+r:e:""},Vx={component:"oxd-button",props:{label:"Approve",displayType:"label-success",size:"medium",onClick:null}},xx={component:"oxd-button",props:{label:"Reject",displayType:"label-danger",size:"medium",onClick:null}},wx={component:"oxd-button",props:{label:"Cancel",displayType:"label-warn",size:"medium",onClick:null}},Nx={component:"oxd-table-dropdown",props:{options:[],style:{"margin-left":"auto"},onClick:null}};function _x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.primaryActions,o=void 0===n?{approve:Vx,reject:xx,cancel:wx,more:Nx}:n,a=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/leaves/".concat(t),data:{action:n}})},r=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/".concat(t),data:{action:n}})},l=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/bulk",data:{data:t.map((function(e){return{leaveRequestId:e,action:n}}))}})};return{leaveActions:o,processLeaveAction:a,processLeaveRequestAction:r,processLeaveRequestBulkAction:l}}var kx={class:"orangehrm-modal-header"},Sx={key:0,class:"orangehrm-modal-content"};function Dx(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("leave-comment"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",kx,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_request_comments")),1)]})),_:1})]),Object(o["createVNode"])(c),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Sx,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.comments,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:e.id,data:e},null,8,["data"])})),128))])),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.comment=e}),type:"textarea",placeholder:e.$t("general.comment_here"),rules:r.rules.comment},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var $x={class:"orangehrm-comment"},Ex={class:"orangehrm-comment-profile"},Tx={class:"orangehrm-comment-profile-image-wrapper"},Ix=["src"],Bx={class:"orangehrm-comment-body"},Lx={class:"orangehrm-comment-profile-name"},Ux={class:"orangehrm-comment-message"},Ax={class:"orangehrm-comment-timestamp"};function Px(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$x,[Object(o["createElementVNode"])("div",Ex,[Object(o["createElementVNode"])("div",Tx,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"orangehrm-comment-profile-image",src:a.imgSrc},null,8,Ix)])]),Object(o["createElementVNode"])("div",Bx,[Object(o["createElementVNode"])("div",Lx,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.fullName),1)]})),_:1})]),Object(o["createElementVNode"])("div",Ux,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.comment),1)]})),_:1})]),Object(o["createElementVNode"])("div",Ax,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.date)+" - "+Object(o["toDisplayString"])(n.data.time),1)]})),_:1})])])])}var qx="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),Mx={name:"LeaveComment",props:{data:{type:Object,required:!0}},setup:function(e){var t=Object(o["computed"])((function(){var t=e.data.createdByEmployee;return t?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(t.empNumber):qx})),n=Object(o["computed"])((function(){var t=e.data.createdByEmployee;return t&&"".concat(t.firstName," ").concat(t.lastName)}));return{imgSrc:t,fullName:n}}};n("c5e2");const Rx=C()(Mx,[["render",Px],["__scopeId","data-v-44543806"]]);var Fx=Rx,zx={name:"LeaveCommentModal",components:{"oxd-dialog":K["a"],"leave-comment":Fx},props:{id:{type:Number,required:!1,default:null},leaveRequest:{type:Boolean,default:!0}},emits:["close"],setup:function(e){var t=e.leaveRequest?"leave-requests":"leaves",n=new X(window.appGlobal.baseUrl,"api/v2/leave/".concat(t,"/").concat(e.id,"/leave-comments"));return{http:n}},data:function(){return{isLoading:!1,comment:null,rules:{comment:[St,Dt(255)]},comments:[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.comments=n})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({comment:this.comment}).then((function(){e.$toast.saveSuccess(),e.onCancel()}))},onCancel:function(){this.comment=null,this.$emit("close",!0)}}};n("5af1");const Gx=C()(zx,[["render",Dx],["__scopeId","data-v-77a0def6"]]);var Qx=Gx,Hx={class:"orangehrm-modal-header"},Wx={class:"orangehrm-text-center-align"},Yx={class:"orangehrm-modal-footer"};function Jx(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Hx,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_action",{action:l.action})),1)]})),_:1})]),Object(o["createElementVNode"])("div",Wx,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_one",{action:l.action,count:l.count}))+" "+Object(o["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_two")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Yx,[Object(o["createVNode"])(c,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{label:e.$t("leave.yes_confirm"),"display-type":"secondary",onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var Xx={name:"LeaveBulkActionModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return null}}},data:function(){return{show:!1,reject:null,resolve:null}},computed:{count:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.count?this.data.count:0},action:function(){var e,t;return"APPROVE"===(null===(e=this.data)||void 0===e?void 0:e.action)?"Approve":"REJECT"===(null===(t=this.data)||void 0===t?void 0:t.action)?"Reject":"Cancel"}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")}}};n("beb1");const Zx=C()(Xx,[["render",Jx],["__scopeId","data-v-388a1437"]]);var Kx=Zx,ew={class:"orangehrm-header-container"},tw={key:0,class:"actions"};function nw(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ew,[n.bulkActions&&n.selected>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tw,[Object(o["createVNode"])(i,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_selected",{count:n.selected})),1)]})),_:1}),n.bulkActions.APPROVE?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,label:e.$t("general.approve"),"display-type":"label-success",onClick:t[0]||(t[0]=function(t){return e.$emit("onActionClick","APPROVE")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),n.bulkActions.REJECT?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,label:e.$t("general.reject"),"display-type":"label-danger",onClick:t[1]||(t[1]=function(t){return e.$emit("onActionClick","REJECT")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),n.bulkActions.CANCEL?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:2,label:e.$t("general.cancel"),"display-type":"label-warn",onClick:t[2]||(t[2]=function(t){return e.$emit("onActionClick","CANCEL")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)])):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:n.total})),1)]})),_:1}))])}var ow={name:"LeaveListTableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},bulkActions:{type:Object,required:!1,default:function(){return{}}}},emits:["onActionClick"]};n("22e3");const aw=C()(ow,[["render",nw],["__scopeId","data-v-78ad5c40"]]);var rw=aw,lw=function(e){return e.map((function(e){var t,n,o,a,r,l,i,c,d,u,s,m="",b=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;if(e.dates.fromDate&&(u=e.dates.fromDate),e.dates.toDate&&(u+=" to ".concat(e.dates.toDate)),e.dates.startTime&&e.dates.endTime&&(u+=" (".concat(e.dates.startTime," - ").concat(e.dates.endTime,")")),"half_day_morning"!==b&&"half_day_afternoon"!==b||(u+=" Half Day"),Array.isArray(e.leaveBreakdown)&&(s=e.leaveBreakdown.map((function(e){return"".concat(e.name," (").concat(parseFloat(e.lengthDays).toFixed(2),")")})).join(", ")),Array.isArray(e.leaveBalances))if(e.leaveBalances.length>1)m=e.leaveBalances.map((function(e){var t=e.period,n=e.balance;return"".concat(parseFloat(n.balance).toFixed(2),"\n         (").concat(t.startDate," - ").concat(t.endDate,")")})).join(", ");else{var p,f=null===(p=e.leaveBalances[0])||void 0===p?void 0:p.balance.balance;m=f?parseFloat(f).toFixed(2):"0.00"}var h="".concat(null===(n=e.employee)||void 0===n?void 0:n.firstName," ").concat(null===(o=e.employee)||void 0===o?void 0:o.middleName," ").concat(null===(a=e.employee)||void 0===a?void 0:a.lastName);return{id:e.id,empNumber:null===(r=e.employee)||void 0===r?void 0:r.empNumber,date:u,employeeName:"".concat(h," ").concat(null!==(l=e.employee)&&void 0!==l&&l.terminationId?" (past_employee)":""),leaveType:(null===(i=e.leaveType)||void 0===i?void 0:i.name)+"".concat(null!==(c=e.leaveType)&&void 0!==c&&c.deleted?"deleted":""),leaveBalance:m,days:parseFloat(e.noOfDays).toFixed(2),status:s,comment:yx(null===(d=e.lastComment)||void 0===d?void 0:d.comment),actions:e.allowedActions}}))},iw={employee:null,fromDate:null,toDate:null,statuses:[],subunit:null,includePastEmps:!1,leaveType:null},cw={name:"LeaveListTable",components:{"leave-list-table-header":rw,"leave-comment-modal":Qx,"leave-bulk-action-modal":Kx},props:{myLeaveList:{type:Boolean,default:!1},leaveStatuses:{type:Array,default:function(){return[]}},employee:{type:Object,required:!1,default:function(){return null}},leaveType:{type:Object,required:!1,default:function(){return null}},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},leaveStatus:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])({},iw),e.leaveType&&{leaveType:e.leaveType}),e.fromDate&&{fromDate:e.fromDate}),e.toDate&&{toDate:e.toDate}),e.leaveStatus&&{statuses:[e.leaveStatus]}),e.employee&&{employee:{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}})),n=Object(o["ref"])([]),a=Wh(),r=a.$t,l={fromDate:[St],toDate:[St,$t(),Pt((function(){return t.value.fromDate}),r("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],statuses:[St]},i=Object(o["computed"])((function(){var e,n,o,a=Array.isArray(t.value.statuses)?t.value.statuses:[];return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,subunitId:null===(n=t.value.subunit)||void 0===n?void 0:n.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent",statuses:a.map((function(e){return e.id})),leaveTypeId:null===(o=t.value.leaveType)||void 0===o?void 0:o.id}})),c=new X(window.appGlobal.baseUrl,"api/v2/leave/".concat(e.myLeaveList?"leave-requests":"employees/leave-requests")),d=_x(c),u=d.leaveActions,s=d.processLeaveRequestAction,m=d.processLeaveRequestBulkAction,b=ot(c,{query:i,normalizer:lw}),p=b.showPaginator,f=b.currentPage,h=b.total,j=b.pages,O=b.pageSize,v=b.response,g=b.isLoading,C=b.execQuery,y=Object(o["computed"])((function(){if(n.value.length>0&&v.value.data){var e=n.value.map((function(e){return v.value.data[e].actions}));return{APPROVE:e.reduce((function(e,t){return e&&t.find((function(e){return"APPROVE"===e.action}))}),!0),REJECT:e.reduce((function(e,t){return e&&t.find((function(e){return"REJECT"===e.action}))}),!0),CANCEL:e.reduce((function(e,t){return e&&t.find((function(e){return"CANCEL"===e.action}))}),!0)}}return null}));return{http:c,showPaginator:p,currentPage:f,isLoading:g,total:h,pages:j,pageSize:O,execQuery:C,items:v,rules:l,filters:t,checkedItems:n,leaveActions:u,leaveBulkActions:y,processLeaveRequestAction:s,processLeaveRequestBulkAction:m}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"employeeName",title:this.$t("general.employee_name"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"days",title:this.$t("leave.number_of_days"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"5%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:this.myLeaveList?"10%":"20%"}}],showCommentModal:!1,commentModalState:null,bulkActionModalState:null}},beforeMount:function(){var e=this;this.isLoading=!0,0===this.filters.statuses.length&&(this.filters.statuses=this.myLeaveList?this.leaveStatuses:this.leaveStatuses.filter((function(e){return 1===e.id}))),this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then((function(t){var n,o,a,r,l,i,c=t.data,d=c.data,u=c.meta;u.leavePeriodDefined?(e.filters.fromDate=null!==(n=e.filters.fromDate)&&void 0!==n?n:null===u||void 0===u?void 0:u.currentLeavePeriod.startDate,e.filters.toDate=null!==(o=e.filters.toDate)&&void 0!==o?o:null===u||void 0===u?void 0:u.currentLeavePeriod.endDate):(e.filters.fromDate=null!==(a=e.filters.fromDate)&&void 0!==a?a:null===(r=d[0])||void 0===r?void 0:r.startDate,e.filters.toDate=null!==(l=e.filters.toDate)&&void 0!==l?l:null===(i=d[0])||void 0===i?void 0:i.endDate)})).finally((function(){e.isLoading=!1,Object.assign(iw,e.filters)}))},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[3],r={},l=this.leaveActions,i=l.approve,c=l.reject,d=l.cancel,u=l.more,s=[{label:this.$t("general.add_comment"),context:"add_comment"},{label:this.$t("leave.view_leave_details"),context:"leave_details"},{label:this.$t("leave.view_pim_info"),context:"pim_details"}];return a.actions.map((function(t){"APPROVE"===t.action&&(i.props.label=e.$t("general.approve"),i.props.onClick=function(){return e.onLeaveAction(a.id,"APPROVE")},r.approve=i),"REJECT"===t.action&&(c.props.label=e.$t("general.reject"),c.props.onClick=function(){return e.onLeaveAction(a.id,"REJECT")},r.reject=c),"CANCEL"===t.action&&(e.myLeaveList?(d.props.label=e.$t("general.cancel"),d.props.onClick=function(){return e.onLeaveAction(a.id,"CANCEL")},r.reject=d):s.push({label:e.$t("leave.cancel_leave"),context:"cancel_leave"}))})),u.props.options=s,u.props.onClick=function(t){return e.onLeaveDropdownAction(t,a)},r.more=u,{props:{header:{cellConfig:r}}}},onLeaveDropdownAction:function(e,t){switch(e.context){case"add_comment":this.commentModalState=t.id,this.showCommentModal=!0;break;case"cancel_leave":this.onLeaveAction(t.id,"CANCEL");break;case"pim_details":Y("/pim/viewPersonalDetails/empNumber/{id}",{id:t.empNumber});break;default:Y("/leave/viewLeaveRequest/{id}",{id:t.id},this.myLeaveList&&{mode:"my-leave"})}},onLeaveAction:function(e,t){var n=this;this.isLoading=!0,this.processLeaveRequestAction(e,t).then((function(){n.$toast.updateSuccess()})).finally(this.resetDataTable)},onLeaveActionBulk:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){var o,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,t.bulkActionModalState={count:t.checkedItems.length,action:e},o="APPROVE"===e?"Approved":"REJECT"===e?"Rejected":"Cancelled",a=t.checkedItems.map((function(e){return t.items.data[e].id})),n.next=6,t.$refs.bulkActionModal.showDialog();case 6:if(r=n.sent,"ok"===r){n.next=10;break}return t.isLoading=!1,n.abrupt("return");case 10:t.processLeaveRequestBulkAction(a,e).then((function(e){var n=e.data.data;Array.isArray(n)&&t.$toast.success({title:t.$t("general.success"),message:t.$t("leave.leave_requests_action",{action:o,count:n.length})})})).finally((function(){t.bulkActionModalState=null,t.resetDataTable()}));case 11:case"end":return n.stop()}}),n)})))()},onCommentModalClose:function(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onReset:function(){this.filters=Object(R["a"])({},iw),this.resetDataTable()}}};n("de2f");const dw=C()(cw,[["render",Cx],["__scopeId","data-v-549b820d"]]);var uw=dw,sw={components:{"leave-list-table":uw,"employee-autocomplete":Ba,"oxd-switch-input":Or["a"],"leave-type-dropdown":PC},props:{subunits:{type:Array,default:function(){return[]}},leaveStatuses:{type:Array,default:function(){return[]}}}};n("abfe");const mw=C()(sw,[["render",px],["__scopeId","data-v-71f4bb9e"]]);var bw=mw,pw={class:"orangehrm-background-container"},fw={class:"orangehrm-paper-container"},hw={class:"orangehrm-header-container"},jw={class:"orangehrm-horizontal-padding"},Ow={class:"orangehrm-container"},vw={class:"orangehrm-bottom-container"};function gw(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("table-header"),b=Object(o["resolveComponent"])("oxd-card-table"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-pagination"),h=Object(o["resolveComponent"])("leave-comment-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",pw,[Object(o["createElementVNode"])("div",fw,[Object(o["createElementVNode"])("div",hw,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.myLeaveRequest?e.$t("leave.my_leave_request_details"):e.$t("leave.leave_request_details")),1)]})),_:1})]),Object(o["createVNode"])(c,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",jw,[Object(o["createVNode"])(s,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("leave.requested_for")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leavePeriod),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]),Object(o["createVNode"])(m,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",Ow,[Object(o["createVNode"])(b,{headers:r.headers,items:a.response&&a.response.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",vw,[Object(o["createElementVNode"])("span",null,[Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.back"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary","icon-name":"chat-right-text-fill",label:e.$t("general.comments"),onClick:l.onClickComments},null,8,["label","onClick"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,id:r.commentModalState,"leave-request":r.isLeaveRequest,onClose:l.onCommentModalClose},null,8,["id","leave-request","onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var Cw=function(e){return e.map((function(e){var t,n,o,a,r,l,i,c,d="",u=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;return e.dates.fromDate&&(d=e.dates.fromDate),e.dates.startTime&&e.dates.endTime&&(d+=" (".concat(e.dates.startTime," - ").concat(e.dates.endTime,")")),"half_day_morning"!==u&&"half_day_afternoon"!==u||(d+=" Half Day"),{id:e.id,date:d,leaveType:(null===(n=e.leaveType)||void 0===n?void 0:n.name)+"".concat(null!==(o=e.leaveType)&&void 0!==o&&o.deleted?" (Deleted)":""),leaveBalance:null!==(a=e.leaveBalance)&&void 0!==a&&a.balance.balance?parseFloat(e.leaveBalance.balance.balance).toFixed(2):void 0,duration:parseFloat(e.lengthHours).toFixed(2),status:null===(r=e.leaveStatus)||void 0===r?void 0:r.name,comment:yx(null===(l=e.lastComment)||void 0===l?void 0:l.comment),actions:e.allowedActions,canComment:!(5===(null===(i=e.leaveStatus)||void 0===i?void 0:i.id)||4===(null===(c=e.leaveStatus)||void 0===c?void 0:c.id))}}))},yw={name:"LeaveViewRequest",components:{"leave-comment-modal":Qx},props:{leaveRequestId:{type:String,required:!0},myLeaveRequest:{type:Boolean,default:!1}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/leave/leave-requests/".concat(e.leaveRequestId,"/leaves")),n=_x(t),o=n.leaveActions,a=n.processLeaveAction,r=ot(t,{normalizer:Cw}),l=r.showPaginator,i=r.currentPage,c=r.total,d=r.pages,u=r.pageSize,s=r.response,m=r.isLoading,b=r.execQuery;return{http:t,showPaginator:l,currentPage:i,isLoading:m,total:c,pages:d,pageSize:u,execQuery:b,response:s,leaveActions:o,processLeaveAction:a}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"duration",title:this.$t("attendance.duration_hours"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"10%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:"20%"}}],showCommentModal:!1,commentModalState:null,isLeaveRequest:!1}},computed:{employeeName:function(){var e,t,n=null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.employee;if(n){var o="".concat(n.firstName," ").concat(n.middleName,"\n        ").concat(n.lastName);return"".concat(o," ").concat(n.terminationId?"(Past Employee)":"")}return""},leavePeriod:function(){var e,t,n,o,a=null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.startDate,r=null===(n=this.response)||void 0===n||null===(o=n.meta)||void 0===o?void 0:o.endDate;return a===r?a:"".concat(a," - ").concat(r)}},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[3],r={},l=[],i=this.leaveActions,c=i.approve,d=i.reject,u=i.cancel,s=i.more;return a.canComment&&l.push({label:"Add Comment",context:"add_comment"}),a.actions.map((function(t){"APPROVE"===t.action&&(c.props.label=e.$t("general.approve"),c.props.onClick=function(){return e.onLeaveAction(a.id,"APPROVE")},r.approve=c),"REJECT"===t.action&&(d.props.label=e.$t("general.reject"),d.props.onClick=function(){return e.onLeaveAction(a.id,"REJECT")},r.reject=d),"CANCEL"===t.action&&(e.myLeaveRequest?(u.props.label=e.$t("general.cancel"),u.props.onClick=function(){return e.onLeaveAction(a.id,"CANCEL")},r.cancel=u):l.push({label:"Cancel Leave",context:"cancel_leave"}))})),l.length>0&&(s.props.options=l,s.props.onClick=function(t){return e.onLeaveDropdownAction(t,a)},r.more=s),{props:{header:{cellConfig:r}}}},onClickComments:function(){this.commentModalState=this.leaveRequestId,this.isLeaveRequest=!0,this.showCommentModal=!0},onCommentModalClose:function(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},onLeaveDropdownAction:function(e,t){"cancel_leave"===e.context?this.onLeaveAction(t.id,"CANCEL"):(this.commentModalState=t.id,this.isLeaveRequest=!1,this.showCommentModal=!0)},onLeaveAction:function(e,t){var n=this;this.isLoading=!0,this.processLeaveAction(e,t).then((function(){n.$toast.updateSuccess()})).finally(this.resetDataTable)},onClickBack:function(){this.myLeaveRequest?Y("/leave/viewMyLeaveList"):Y("/leave/viewLeaveList")},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("e143");const Vw=C()(yw,[["render",gw],["__scopeId","data-v-350cc782"]]);var xw=Vw;function ww(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("date-input"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("leave-type-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("leave-list-table");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{"leave-statuses":n.leaveStatuses,"my-leave-list":!0},{default:Object(o["withCtx"])((function(t){var a=t.filters,r=t.filterItems,l=t.rules,v=t.onReset;return[Object(o["createVNode"])(O,{"filter-title":e.$t("leave.my_leave_list")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:r,onReset:v},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.fromDate,"onUpdate:modelValue":function(e){return a.fromDate=e},label:e.$t("general.from_date"),rules:l.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.toDate,"onUpdate:modelValue":function(e){return a.toDate=e},label:e.$t("general.to_date"),rules:l.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.statuses,"onUpdate:modelValue":function(e){return a.statuses=e},value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:n.leaveStatuses,rules:l.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]})),_:2},1024),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.leaveType,"onUpdate:modelValue":function(e){return a.leaveType=e},"eligible-only":!0,"include-allocated":!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(f,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid","onReset"])]})),_:2},1032,["filter-title"])]})),_:1},8,["leave-statuses"])}var Nw={components:{"leave-list-table":uw,"leave-type-dropdown":PC},props:{leaveStatuses:{type:Array,default:function(){return[]}}}};const _w=C()(Nw,[["render",ww]]);var kw=_w,Sw=function(e){return Object(o["pushScopeId"])("data-v-f3b5e01a"),e=e(),Object(o["popScopeId"])(),e},Dw=Sw((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function $w(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field"),c=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("leave-type-dropdown"),b=Object(o["resolveComponent"])("leave-period-dropdown"),p=Object(o["resolveComponent"])("jobtitle-dropdown"),f=Object(o["resolveComponent"])("oxd-text"),h=Object(o["resolveComponent"])("oxd-switch-input"),j=Object(o["resolveComponent"])("employee-autocomplete"),O=Object(o["resolveComponent"])("oxd-divider"),v=Object(o["resolveComponent"])("required-text"),g=Object(o["resolveComponent"])("oxd-button"),C=Object(o["resolveComponent"])("oxd-form-actions"),y=Object(o["resolveComponent"])("oxd-form"),V=Object(o["resolveComponent"])("oxd-table-filter"),x=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(x,{module:"leave",name:a.filters.type,filters:a.serializedFilters,"column-count":6},{default:Object(o["withCtx"])((function(r){var l=r.generateReport;return[Object(o["createVNode"])(V,{"filter-title":e.$t("leave.leave_entitlement_and_usage_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{onSubmitValid:l},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("leave.generate_for"),classes:{wrapper:"--grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.type=e}),type:"radio","option-label":e.$t("leave.leave_type"),value:"leave_type_leave_entitlements_and_usage"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(i,{modelValue:a.filters.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.type=e}),type:"radio","option-label":e.$t("general.employee"),value:"employee_leave_entitlements_and_usage"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),"leave_type_leave_entitlements_and_usage"===a.filters.type?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.leaveType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.leaveType=e}),"empty-text":e.$t("leave.no_leave_types_defined"),"eligible-only":!1,"show-empty-selector":!1,rules:a.rules.leaveType},null,8,["modelValue","empty-text","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.location,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.location=e}),type:"select",label:e.$t("general.location"),options:n.locations},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.subunit,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.include_past_employees")),1)]})),_:1}),Object(o["createVNode"])(h,{modelValue:a.filters.includePastEmps,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.filters.includePastEmps=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:a.filters.employee,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})),Object(o["createVNode"])(O),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v),Object(o["createVNode"])(g,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),Dw]})),_:1},8,["name","filters"])}var Ew={type:"leave_type_leave_entitlements_and_usage",employee:null,leavePeriod:null,leaveType:null,subunit:null,location:null,jobTitle:null,includePastEmps:!1},Tw={components:{"reports-table":kj,"oxd-switch-input":Or["a"],"jobtitle-dropdown":Gi,"leave-type-dropdown":PC,"leave-period-dropdown":Ly,"employee-autocomplete":Ba},props:{locations:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])(Object(R["a"])(Object(R["a"])({},Ew),e.leavePeriod&&{leavePeriod:e.leavePeriod})),n=Object(o["ref"])({employee:[St],leavePeriod:[St],leaveType:[St]}),a=Object(o["computed"])((function(){var e,n,o,a,r,l,i,c,d;return"leave_type_leave_entitlements_and_usage"===t.value.type?{name:t.value.type,fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(n=t.value.leavePeriod)||void 0===n?void 0:n.endDate,subunitId:null===(o=t.value.subunit)||void 0===o?void 0:o.id,leaveTypeId:null===(a=t.value.leaveType)||void 0===a?void 0:a.id,locationId:null===(r=t.value.location)||void 0===r?void 0:r.id,jobTitleId:null===(l=t.value.jobTitle)||void 0===l?void 0:l.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent"}:{name:t.value.type,empNumber:null===(i=t.value.employee)||void 0===i?void 0:i.id,fromDate:null===(c=t.value.leavePeriod)||void 0===c?void 0:c.startDate,toDate:null===(d=t.value.leavePeriod)||void 0===d?void 0:d.endDate}}));return{rules:n,filters:t,serializedFilters:a}}};n("854f");const Iw=C()(Tw,[["render",$w],["__scopeId","data-v-f3b5e01a"]]);var Bw=Iw,Lw=Object(o["createElementVNode"])("br",null,null,-1);function Uw(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("leave-period-dropdown"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{module:"leave",name:"my_leave_entitlements_and_usage",prefetch:!0,filters:a.serializedFilters,"column-count":6},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.my_leave_entitlement_and_usage_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),Lw]})),_:1},8,["filters"])}var Aw={components:{"reports-table":kj,"leave-period-dropdown":Ly},props:{leavePeriod:{type:Object,required:!1,default:function(){return{}}}},setup:function(e){var t=Object(o["ref"])({leavePeriod:e.leavePeriod?e.leavePeriod:null}),n=Object(o["ref"])({leavePeriod:[St]}),a=Object(o["computed"])((function(){var e,n;return{fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(n=t.value.leavePeriod)||void 0===n?void 0:n.endDate}}));return{rules:n,filters:t,serializedFilters:a}}};const Pw=C()(Aw,[["render",Uw]]);var qw=Pw,Mw={"leave-period":Ug,"leave-apply":DC,"leave-assign":XC,"leave-type-edit":Cy,"leave-type-list":ly,"leave-type-save":Sy,"leave-add-entitlement":cV,"leave-edit-entitlement":fV,"leave-view-entitlement":$V,"leave-view-my-entitlement":BV,"work-week":RV,"holiday-list":KV,"holiday-save":lx,"holiday-edit":bx,"leave-list":bw,"leave-view-request":xw,"my-leave-list":kw,"leave-entitlement-report":Bw,"my-leave-entitlement-report":qw},Rw={class:"orangehrm-background-container"},Fw=Object(o["createElementVNode"])("br",null,null,-1),zw={class:"orangehrm-paper-container"},Gw={class:"orangehrm-header-container"},Qw={class:"orangehrm-container"},Hw={class:"orangehrm-bottom-container"};function Ww(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rw,[Object(o["createVNode"])(h,{"filter-title":e.$t("admin.locations")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.name=e}),label:e.$t("general.name")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.city=e}),label:e.$t("general.city")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.countryCode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.countryCode=e}),type:"select",label:e.$t("general.country"),clear:!1,options:n.countries},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),Fw,Object(o["createElementVNode"])("div",zw,[Object(o["createElementVNode"])("div",Gw,[Object(o["createElementVNode"])("div",null,[e.$can.create("locations")?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Qw,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[3]||(t[3]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[4]||(t[4]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("locations"),disabled:!(e.$can.delete("locations")&&e.$can.update("locations")),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","selectable","disabled","loading"])]),Object(o["createElementVNode"])("div",Hw,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[5]||(t[5]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var Yw={name:"",city:"",countryCode:{}},Jw={"location.name":"ASC","location.city":"DEFAULT","country.countryName":"DEFAULT","location.phone":"DEFAULT",noOfEmployees:"DEFAULT"},Xw=function(e){return e.map((function(e){return{id:e.id,name:e.name,city:e.city,country:e.country.countryName,phone:e.phone,noOfEmployees:e.noOfEmployees?e.noOfEmployees:0}}))},Zw={components:{"delete-confirmation":ut},props:{countries:{type:Array,default:function(){return[]}}},setup:function(){var e=st({sortDefinition:Jw}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["ref"])(Object(R["a"])({},Yw)),i=Object(o["computed"])((function(){var e;return{name:l.value.name,city:l.value.city,countryCode:null===(e=l.value.countryCode)||void 0===e?void 0:e.id,sortField:n.value,sortOrder:a.value}})),c=new X(window.appGlobal.baseUrl,"/api/v2/admin/locations"),d=ot(c,{query:i,normalizer:Xw}),u=d.showPaginator,s=d.currentPage,m=d.total,b=d.pages,p=d.pageSize,f=d.response,h=d.isLoading,j=d.execQuery;return r(j),{http:c,showPaginator:u,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:l,sortDefinition:t}},data:function(){var e={delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}};return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1},sortField:"location.name"},{name:"city",title:this.$t("general.city"),style:{flex:1},sortField:"location.city"},{name:"country",title:this.$t("general.country"),style:{flex:1},sortField:"country.countryName"},{name:"phone",title:this.$t("general.phone"),style:{flex:1},sortField:"location.phone"},{name:"noOfEmployees",title:this.$t("admin.number_of_employees"),style:{flex:1},sortField:"noOfEmployees"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:e}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveLocation")},onClickEdit:function(e){Y("/admin/saveLocation/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(R["a"])({},Yw),this.filterItems()}}};const Kw=C()(Zw,[["render",Ww]]);var eN=Kw,tN={class:"orangehrm-background-container"},nN={class:"orangehrm-card-container"};function oN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tN,[Object(o["createElementVNode"])("div",nN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_location")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.location.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:"",disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.location.city=e}),label:e.$t("general.city"),rules:r.rules.city,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.province,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.location.province=e}),label:e.$t("general.state_province"),rules:r.rules.province,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.location.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.location.countryCode=e}),type:"select",label:e.$t("general.country"),rules:r.rules.countryCode,clear:!1,options:n.countries,required:"",disabled:!l.hasCreatePermissions},null,8,["modelValue","label","rules","options","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.location.phone=e}),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:r.rules.phone,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.fax,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.location.fax=e}),label:e.$t("general.fax"),rules:r.rules.fax,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.address,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.location.address=e}),type:"textarea",label:e.$t("admin.address"),rules:r.rules.address,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.note,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.location.note=e}),type:"textarea",label:e.$t("general.notes"),rules:r.rules.note,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),l.hasCreatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var aN={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""},rN={props:{countries:{type:Array,default:function(){return[]}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data:function(){return{isLoading:!1,location:Object(R["a"])({},aN),rules:{name:[St,Dt(100)],countryCode:[St],province:[Dt(50)],city:[Dt(50)],address:[Dt(250)],zipCode:[Dt(30)],phone:[Dt(30),Ht],fax:[Dt(30),Ht],note:[Dt(250)]}}},computed:{hasCreatePermissions:function(){return this.$can.create("locations")}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/viewLocations")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.location),{},{countryCode:this.location.countryCode.id})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};const lN=C()(rN,[["render",oN]]);var iN=lN,cN={class:"orangehrm-background-container"},dN={class:"orangehrm-card-container"};function uN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cN,[Object(o["createElementVNode"])("div",dN,[Object(o["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_location")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,novalidate:"true",onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.location.name=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.name,label:e.$t("general.name"),required:""},null,8,["modelValue","disabled","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.location.city=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.city,label:e.$t("general.city")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.province,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.location.province=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.province,label:e.$t("general.state_province")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.location.zipCode=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.zipCode,label:e.$t("general.zip_postal_code")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.location.countryCode=e}),clear:!1,disabled:!l.hasUpdatePermissions,options:n.countries,rules:r.rules.countryCode,label:e.$t("general.country"),required:"",type:"select"},null,8,["modelValue","disabled","options","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.location.phone=e}),modelModifiers:{trim:!0},disabled:!l.hasUpdatePermissions,rules:r.rules.phone,label:e.$t("general.phone")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.fax,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.location.fax=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.fax,label:e.$t("general.fax")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.address,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.location.address=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.address,label:e.$t("admin.address"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.location.note,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.location.note=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.note,label:e.$t("general.note"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var sN={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""},mN={props:{locationId:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data:function(){return{isLoading:!1,location:Object(R["a"])({},sN),rules:{name:[St,Dt(100)],countryCode:[St],province:[Dt(50)],city:[Dt(50)],address:[Dt(250)],zipCode:[Dt(30)],phone:[Dt(30),Ht],fax:[Dt(30),Ht],note:[Dt(250)]}}},computed:{hasUpdatePermissions:function(){return this.$can.update("locations")}},created:function(){var e=this;this.isLoading=!0,this.http.get(parseInt(this.locationId,10)).then((function(t){var n=t.data.data;return e.location.name=n.name,e.location.countryCode=e.countries.find((function(e){return e.id===n.country.countryCode})),e.location.province=n.province,e.location.city=n.city,e.location.address=n.address,e.location.zipCode=n.zipCode,e.location.phone=n.phone,e.location.fax=n.fax,e.location.note=n.note,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return parseInt(a,10)===parseInt(e.locationId,10)||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Y("/admin/viewLocations")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.locationId,{name:this.location.name,countryCode:this.location.countryCode.id,province:this.location.province,city:this.location.city,address:this.location.address,zipCode:this.location.zipCode,phone:this.location.phone,fax:this.location.fax,note:this.location.note}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};const bN=C()(mN,[["render",uN]]);var pN=bN,fN={class:"orangehrm-background-container"},hN={class:"orangehrm-paper-container"},jN={class:"orangehrm-header-container"},ON={class:"orangehrm-container"},vN={class:"orangehrm-bottom-container"};function gN(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fN,[Object(o["createElementVNode"])("div",hN,[Object(o["createElementVNode"])("div",jN,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.pay_grades")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",ON,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",vN,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var CN=function(e){return e.map((function(e){var t=e.currencies.map((function(e){return e.name}));return{id:e.id,name:e.name,currency:t.join(",")}}))},yN={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades"),t=ot(e,{normalizer:CN}),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"40%"}},{name:"currency",title:this.$t("general.currency"),style:{"flex-basis":"40%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/payGrade")},onClickEdit:function(e){Y("/admin/payGrade/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const VN=C()(yN,[["render",gN]]);var xN=VN,wN={class:"orangehrm-background-container"},NN={class:"orangehrm-card-container"};function _N(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wN,[Object(o["createElementVNode"])("div",NN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_pay_grade")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.grade.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.grade.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var kN={setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data:function(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[St,Dt(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.grade.name}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),Y("/admin/payGrade/{id}",{id:n.id})}))},onCancel:function(){Y("/admin/viewPayGrades")}}};const SN=C()(kN,[["render",_N]]);var DN=SN,$N={class:"orangehrm-background-container"},EN={class:"orangehrm-card-container"};function TN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("pay-grade-currency");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",$N,[Object(o["createElementVNode"])("div",EN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_pay_grade")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.grade.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.grade.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]),Object(o["createVNode"])(O,{"pay-grade-id":n.payGradeId},null,8,["pay-grade-id"])],64)}var IN={class:"orangehrm-background-container"},BN={class:"orangehrm-paper-container"},LN={class:"orangehrm-header-container"},UN={class:"orangehrm-container"},AN={class:"orangehrm-bottom-container"};function PN(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("save-pay-currency"),d=Object(o["resolveComponent"])("edit-pay-currency"),u=Object(o["resolveComponent"])("inline-action-button"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,"pay-grade-id":n.payGradeId,onClose:l.onSaveModalClose},null,8,["pay-grade-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,data:r.editModalState,"pay-grade-id":n.payGradeId,onClose:l.onEditModalClose},null,8,["data","pay-grade-id","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",IN,[Object(o["createElementVNode"])("div",BN,[Object(o["createElementVNode"])("div",LN,[Object(o["createVNode"])(u,{"display-type":"secondary",onClick:l.onclickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.currencies")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",UN,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:l.selectable,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",AN,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])])],64)}var qN={class:"orangehrm-action-header"};function MN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3}),Object(o["createVNode"])(c,Object(o["mergeProps"])({label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])])}var RN={name:"InlineActionButton",inheritAttrs:!1};n("39f7");const FN=C()(RN,[["render",MN],["__scopeId","data-v-6526a07f"]]);var zN=FN,GN={class:"orangehrm-card-container"};function QN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",GN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_currency")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.currencyId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.payCurrency.currencyId=e}),type:"select",label:e.$t("general.currency"),options:r.currencies,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.payCurrency.minSalary=e}),label:e.$t("admin.minimum_salary"),rules:r.rules.minSalary},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.payCurrency.maxSalary=e}),label:e.$t("admin.maximum_salary"),rules:r.rules.maxSalary},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var HN={currencyId:null,minSalary:"",maxSalary:""},WN={name:"SavePayCurrency",props:{payGradeId:{type:String,required:!0}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies"));return{http:t}},data:function(){var e=this;return{isLoading:!1,payCurrency:Object(R["a"])({},HN),currencies:[],rules:{currencyId:[St],minSalary:[Yt(1e9),It],maxSalary:[Yt(1e9),It,Zt((function(){return e.payCurrency.minSalary}),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/admin/pay-grades/".concat(this.payGradeId,"/currencies/allowed?limit=0"),params:{limit:0}}).then((function(t){var n=t.data.data;e.currencies=n.map((function(e){return{id:e.id,label:e.id+" - "+e.name}}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])(Object(R["a"])({},this.payCurrency),{},{currencyId:this.payCurrency.currencyId.id})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const YN=C()(WN,[["render",QN]]);var JN=YN,XN={class:"orangehrm-card-container"};function ZN(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",XN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_currency")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.payCurrency.name=e}),label:e.$t("general.currency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.payCurrency.minSalary=e}),label:e.$t("admin.minimum_salary"),rules:r.rules.minSalary},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.payCurrency.maxSalary=e}),label:e.$t("admin.maximum_salary"),rules:r.rules.maxSalary},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var KN={currencyId:null,minSalary:"",maxSalary:""},e_={name:"EditPayCurrency",props:{payGradeId:{type:String,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies"));return{http:t}},data:function(){var e=this;return{isLoading:!1,payCurrency:Object(R["a"])({},KN),rules:{currencyId:[St],minSalary:[Yt(1e9),It],maxSalary:[Yt(1e9),It,Zt((function(){return e.payCurrency.minSalary}),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.payCurrency.name=n.currencyType.name,e.payCurrency.minSalary=n.minSalary?n.minSalary:"0",e.payCurrency.maxSalary=n.maxSalary?n.maxSalary:"0"})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{minSalary:this.payCurrency.minSalary,maxSalary:this.payCurrency.maxSalary}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const t_=C()(e_,[["render",ZN]]);var n_=t_,o_=function(e){return e.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,maxSalary:e.maxSalary?parseFloat(e.maxSalary).toFixed(2):"0.00",minSalary:e.minSalary?parseFloat(e.minSalary).toFixed(2):"0.00"}}))},a_={name:"PayGradeCurrency",components:{"inline-action-button":zN,"save-pay-currency":JN,"edit-pay-currency":n_,"delete-confirmation":ut},props:{payGradeId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies")),n="api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies/allowed?limit=0"),o=ot(t,{normalizer:o_}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d,currencyEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.currency"),style:{flex:2}},{name:"minSalary",title:this.$t("admin.minimum_salary"),style:{flex:1}},{name:"maxSalary",title:this.$t("admin.maximum_salary"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{selectable:function(){return!(this.showSaveModal||this.showEditModal)}},methods:{onclickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickDelete:function(e){var t=this;this.selectable&&this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},onClickDeleteSelected:function(){var e=this;if(this.selectable){var t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))}},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const r_=C()(a_,[["render",PN]]);var l_=r_,i_={components:{"pay-grade-currency":l_},props:{payGradeId:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data:function(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[St,Dt(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.payGradeId).then((function(t){var n=t.data.data;return e.grade.id=n.id,e.grade.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.grade.id||e.$t("general.already_exists")}return!0})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.payGradeId,{name:this.grade.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){J()}))},onCancel:function(){Y("/admin/viewPayGrades")}}};const c_=C()(i_,[["render",TN]]);var d_=c_,u_={class:"orangehrm-background-container"},s_={class:"orangehrm-card-container"},m_={class:"orangehrm-module-field-row"},b_={class:"orangehrm-module-field-row"},p_={class:"orangehrm-module-field-row"},f_={class:"orangehrm-module-field-row"},h_={class:"orangehrm-module-field-row"},j_={class:"orangehrm-module-field-row"},O_={class:"orangehrm-module-field-row"},v_={class:"orangehrm-module-field-row"};function g_(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u_,[Object(o["createElementVNode"])("div",s_,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.module_configuration")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",m_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.admin_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.admin,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.modules.admin=e}),disabled:!0},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",b_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.pim_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.pim,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.modules.pim=e}),disabled:!0},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",p_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.leave_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.leave,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.modules.leave=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",f_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.time_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.time,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.modules.time=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",h_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.recruitment_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.recruitment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.modules.recruitment=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",j_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.performance_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.performance,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.modules.performance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",O_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.maintenance_module")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.modules.maintenance,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.modules.maintenance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",v_,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.mobile")),1)]})),_:1}),Object(o["createVNode"])(d,{disabled:""})])]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var C_={admin:!1,pim:!1,leave:!1,time:!1,recruitment:!1,performance:!1,maintenance:!1,mobile:!1},y_={components:{"oxd-switch-input":Or["a"]},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/modules");return{http:e}},data:function(){return{modules:Object(R["a"])({},C_),isLoading:!1}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.modules.admin=n.admin,e.modules.pim=n.pim,e.modules.leave=n.leave,e.modules.time=n.time,e.modules.recruitment=n.recruitment,e.modules.performance=n.performance,e.modules.maintenance=n.maintenance,e.modules.mobile=n.mobile})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={admin:!0,pim:!0,leave:this.modules.leave,time:this.modules.time,recruitment:this.modules.recruitment,performance:this.modules.performance,maintenance:this.modules.maintenance,mobile:this.modules.mobile};this.http.request({method:"PUT",data:t}).then((function(t){var n=t.data.data;return e.modules=n,e.$toast.saveSuccess()})).finally((function(){e.isLoading=!1,J()}))}}};n("6fa6");const V_=C()(y_,[["render",g_],["__scopeId","data-v-84089848"]]);var x_=V_,w_={class:"orangehrm-background-container"},N_={class:"orangehrm-paper-container"},__={class:"orangehrm-header-container"},k_={class:"orangehrm-container"},S_={class:"orangehrm-bottom-container"};function D_(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w_,[Object(o["createElementVNode"])("div",N_,[Object(o["createElementVNode"])("div",__,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.work_shifts")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",k_,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",S_,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var $_=function(e){return e.map((function(e){return{id:e.id,name:e.name,startTime:e.startTime,endTime:e.endTime,hoursPerDay:parseFloat(e.hoursPerDay).toFixed(2)}}))},E_={components:{"delete-confirmation":ut},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts"),t=ot(e,{normalizer:$_}),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"startTime",title:this.$t("general.from"),style:{flex:1}},{name:"endTime",title:this.$t("general.to"),style:{flex:1}},{name:"hoursPerDay",title:this.$t("admin.hours_per_day"),style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/admin/saveWorkShifts")},onClickEdit:function(e){Y("/admin/saveWorkShifts/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const T_=C()(E_,[["render",D_]]);var I_=T_,B_={class:"orangehrm-background-container"},L_={class:"orangehrm-card-container"};function U_(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("time-input"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("work-shift-employee-autocomplete"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B_,[Object(o["createElementVNode"])("div",L_,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_work_shift")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workShift.name=e}),label:e.$t("admin.shift_name"),rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.working_hours"))+" *",1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workShift.startTime=e}),rules:r.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workShift.endTime=e}),rules:r.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workShift.empNumbers=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function A_(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{label:e.$t("admin.assigned_employees"),multiple:!0,clear:!1,"create-options":l.loadEmployees},null,8,["label","create-options"])}var P_={name:"WorkShiftEmployeeAutocomplete",components:{"employee-autocomplete":Ba},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/work-shifts/employees");return{http:e}},methods:{loadEmployees:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({nameOrId:e.trim()}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const q_=C()(P_,[["render",A_]]);var M_=q_,R_={id:"",name:"",hoursPerDay:"",startTime:"",endTime:"",empNumbers:[]},F_={components:{"work-shift-employee-autocomplete":M_},props:{workShiftConfig:{type:Object,required:!0,default:function(){return{}}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data:function(){var e=this;return{isLoading:!1,workShift:Object(R["a"])({},R_),rules:{name:[St,Dt(50)],fromTime:[St,Et],endTime:[St,Et,Ft((function(){return e.workShift.startTime}),this.$t("general.to_time_should_be_after_from_time"))]}}},computed:{selectedTimeDuration:function(){return parseFloat(ke(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.workShift.startTime=this.workShiftConfig.startTime,this.workShift.endTime=this.workShiftConfig.endTime,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((function(e){return e.id}))};this.http.create(t).then((function(){return e.$toast.saveSuccess()})).then((function(){e.workShift=Object(R["a"])({},R_),e.onCancel()}))},onCancel:function(){Y("/admin/workShift")}}};n("2ecc");const z_=C()(F_,[["render",U_],["__scopeId","data-v-0bcdc1fd"]]);var G_=z_,Q_={class:"orangehrm-background-container"},H_={class:"orangehrm-card-container"},W_=Object(o["createTextVNode"])("Working Hours*");function Y_(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("time-input"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("work-shift-employee-autocomplete"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q_,[Object(o["createElementVNode"])("div",H_,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_work_shift")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workShift.name=e}),label:e.$t("admin.shift_name"),rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[W_]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workShift.startTime=e}),rules:r.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workShift.endTime=e}),rules:r.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workShift.empNumbers=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var J_={id:"",name:"",hoursPerDay:"",startTime:null,endTime:null,empNumbers:[]},X_={components:{"work-shift-employee-autocomplete":M_},props:{workShiftId:{type:Number,required:!0,default:null}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data:function(){var e=this;return{isLoading:!1,workShift:Object(R["a"])({},J_),rules:{name:[St,Dt(50)],fromTime:[Et],endTime:[Et,Ft((function(){return e.workShift.startTime}),"To time should be after from time")]}}},computed:{selectedTimeDuration:function(){return parseFloat(ke(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.workShiftId).then((function(t){var n=t.data.data;return e.workShift.id=n.id,e.workShift.name=n.name,e.workShift.hoursPerDay=n.hoursPerDay,e.workShift.startTime=n.startTime,e.workShift.endTime=n.endTime,e.workShift.empNumbers=n.employees.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})),e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.workShift.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((function(e){return e.id}))};this.http.update(this.workShiftId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/admin/workShift")}}};n("c86a");const Z_=C()(X_,[["render",Y_],["__scopeId","data-v-35529038"]]);var K_=Z_,ek={class:"orangehrm-background-container"},tk={class:"orangehrm-paper-container"},nk={class:"orangehrm-header-container"},ok={class:"orangehrm-container"},ak=Object(o["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1);function rk(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("table-header"),u=Object(o["resolveComponent"])("oxd-card-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ek,[Object(o["createElementVNode"])("div",tk,[Object(o["createElementVNode"])("div",nk,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.email_subscriptions")),1)]})),_:1})]),Object(o["createVNode"])(d,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",ok,[Object(o["createVNode"])(u,{loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["loading","headers","items"])]),ak])])}n("fb6a");var lk=function(e){return e.map((function(e){var t=Array.isArray(e.subscribers)?e.subscribers.slice(0,10):[];return{id:e.id,type:e.name,subscribers:t.map((function(e){return"".concat(e.name," <").concat(e.email,">")})).join(", "),enabled:e.isEnabled,_loading:!1}}))},ik={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions"),t=ot(e,{normalizer:lk}),n=t.total,o=t.response,a=t.isLoading;return{http:e,isLoading:a,total:n,items:o}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("admin.notification_type"),style:{flex:"20%"}},{name:"subscribers",title:this.$t("admin.subscribers"),style:{flex:"65%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[0],r=n[3],l={component:"oxd-icon-button",props:{name:"person-plus-fill",onClick:function(){Y("/admin/saveSubscriber/{id}",{id:r.id})}}},i={component:Or["a"],props:{modelValue:r.enabled,"onUpdate:modelValue":function(t){e.items.data[a]._loading=!0,e.http.update(r.id,{enabled:t}).then((function(t){var n=t.data.data;e.items.data[a].enabled=n.isEnabled,e.$toast.updateSuccess()})).finally((function(){e.items.data[a]._loading=!1}))},style:{"margin-left":"1rem","text-align":"left"}}},c={component:Z["a"],props:{withContainer:!1}};return{props:{header:{cellConfig:Object(R["a"])({},r._loading?{loader:c}:{addSubscriber:l,switchSubscription:i})}}}}}};const ck=C()(ik,[["render",rk]]);var dk=ck,uk={class:"orangehrm-background-container"},sk={class:"orangehrm-paper-container"},mk={class:"orangehrm-header-container"},bk={class:"orangehrm-container"},pk={class:"orangehrm-bottom-container"};function fk(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("save-subscriber"),f=Object(o["resolveComponent"])("edit-subscriber");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uk,[Object(o["createElementVNode"])("div",sk,[Object(o["createElementVNode"])("div",mk,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.subscribers"))+": "+Object(o["toDisplayString"])(l.title),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",bk,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",pk,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,data:{subscriptionId:n.subscriptionId},onClose:l.onSaveModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,data:r.editModalState,onClose:l.onEditModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0)])}var hk={class:"orangehrm-modal-header"};function jk(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",hk,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_subscriber")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.subscriber.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.subscriber.email=e}),label:e.$t("general.email"),rules:r.rules.email,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Ok={name:"",email:""},vk={name:"SaveSubscriber",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/email-subscriptions/".concat(e.data.subscriptionId,"/subscribers"));return{http:t}},data:function(){return{isLoading:!1,subscriber:Object(R["a"])({},Ok),rules:{name:[St,Dt(100)],email:[St,Qt,Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;n&&e.rules.email.push((function(t){var o=n.findIndex((function(e){return e.email==t}));return!(o>-1)||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(R["a"])({},this.subscriber)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.subscriber=Object(R["a"])({},Ok),this.$emit("close",!0)}}};n("0793");const gk=C()(vk,[["render",jk],["__scopeId","data-v-5ed4892b"]]);var Ck=gk,yk={class:"orangehrm-modal-header"};function Vk(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",yk,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_subscriber")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.subscriber.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.subscriber.email=e}),label:e.$t("general.email"),rules:r.rules.email,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var xk={name:"",email:""},wk={name:"EditSubscriber",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"api/v2/admin/email-subscriptions/".concat(e.data.subscriptionId,"/subscribers"));return{http:t}},data:function(){return{isLoading:!1,subscriber:Object(R["a"])({},xk),rules:{name:[St,Dt(100)],email:[St,Qt,Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;return e.subscriber.name=n.name,e.subscriber.email=n.email,e.http.getAll()})).then((function(t){var n=t.data.data;n&&e.rules.email.push((function(t){var o=n.findIndex((function(e){return e.email==t}));if(o>-1){var a=n[o].id;return a==e.data.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(R["a"])({},this.subscriber)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.subscriber=Object(R["a"])({},xk),this.$emit("close",!0)}}};n("5abb");const Nk=C()(wk,[["render",Vk],["__scopeId","data-v-a90f94e0"]]);var _k=Nk,kk={components:{"save-subscriber":Ck,"edit-subscriber":_k,"delete-confirmation":ut},props:{subscriptionId:{type:String,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions/".concat(e.subscriptionId,"/subscribers")),n=ot(t),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"30%"}},{name:"email",title:this.$t("general.email"),style:{flex:"55%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{title:function(){var e;return this.items.meta?null===(e=this.items.meta)||void 0===e?void 0:e.name:""}},methods:{onClickAdd:function(){this.showSaveModal=!0},onClickEdit:function(e){this.editModalState=Object(R["a"])(Object(R["a"])({},e),{},{subscriptionId:this.subscriptionId}),this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.editModalState=null,this.showEditModal=!1,this.resetDataTable()},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Sk=C()(kk,[["render",fk]]);var Dk=Sk,$k={class:"orangehrm-background-container"},Ek={class:"orangehrm-card-container"},Tk={class:"orangehrm-header-container"};function Ik(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$k,[Object(o["createElementVNode"])("div",Ek,[Object(o["createElementVNode"])("div",Tk,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.localization")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.language,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.configuration.language=e}),label:e.$t("general.language"),type:"select","show-empty-selector":!1,options:n.languageList},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.dateFormat,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.configuration.dateFormat=e}),label:e.$t("admin.date_format"),type:"select","show-empty-selector":!1,disabled:!0,options:n.dateFormatList},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Bk={props:{dateFormatList:{type:Array,required:!0},languageList:{type:Array,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/admin/localization");return{http:e}},data:function(){return{isLoading:!1,configuration:{language:null,dateFormat:null},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.http.get("api/v2/admin/localization").then((function(t){var n=t.data.data;e.configuration.language=e.languageList.find((function(e){return e.id===n.language})),e.configuration.dateFormat=e.dateFormatList.find((function(e){return"Y-m-d"===e.id}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.http.put("api/v2/admin/localization",{language:null===(e=this.configuration.language)||void 0===e?void 0:e.id,dateFormat:null===(t=this.configuration.dateFormat)||void 0===t?void 0:t.id}).then((function(){J(),n.$toast.updateSuccess()}))}}};n("f47e");const Lk=C()(Bk,[["render",Ik],["__scopeId","data-v-63bfd24d"]]);var Uk=Lk,Ak=function(e){return Object(o["pushScopeId"])("data-v-67db235c"),e=e(),Object(o["popScopeId"])(),e},Pk={class:"orangehrm-background-container"},qk={class:"orangehrm-card-container"},Mk=Ak((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Rk={class:"orangehrm-support"},Fk=["src"],zk=Ak((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-support-link",href:"mailto:ossuport@orangehrm.com"},"ossuport@orangehrm.com ",-1)}));function Gk(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-grid");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pk,[Object(o["createElementVNode"])("div",qk,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_1")),1)]})),_:1}),Mk,Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_2")),1)]})),_:1}),Object(o["createElementVNode"])("div",Rk,[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-support-channel --mail"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("img",{src:r.helpImgSrc,alt:"help image"},null,8,Fk),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(i,{class:"orangehrm-sub-title",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.customer_support")),1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.contact_us_on_message"))+" ",1),zk,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("help.we_will_be_delighted_to_help")),1)]})),_:1})])]})),_:1})])])])}var Qk={data:function(){return{helpImgSrc:"".concat(window.appGlobal.baseUrl,"/../images/help.png")}}};n("aca7");const Hk=C()(Qk,[["render",Gk],["__scopeId","data-v-67db235c"]]);var Wk=Hk,Yk={"view-support":Wk},Jk={class:"orangehrm-background-container"},Xk={class:"orangehrm-card-container"};function Zk(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Jk,[Object(o["createElementVNode"])("div",Xk,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period_config")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.timeSheetPeriod.startDay,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.timeSheetPeriod.startDay=e}),type:"select",label:e.$t("time.add_timesheet_period_config"),options:l.days,rules:r.rules.startDay,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Kk={startDay:null},eS={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/time/time-sheet-period");return{http:e}},data:function(){return{isLoading:!1,timeSheetPeriod:Object(R["a"])({},Kk),rules:{startDay:[St]}}},computed:{days:function(){return Array(7).fill("").map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[1];return{id:0===o?7:o,label:Tg["a"].localize.day(o,{width:"wide"})}}))}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data.data;e.updateTimeSheetPeriodModel(parseInt(n.startDay))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"PUT",data:{startDay:null===(e=this.timeSheetPeriod.startDay)||void 0===e?void 0:e.id}}).then((function(){return t.$toast.saveSuccess()})).then((function(){Y("/time/viewEmployeeTimesheet")}))},updateTimeSheetPeriodModel:function(e){this.timeSheetPeriod.startDay=this.days.find((function(t){return t.id===e}))}}};const tS=C()(eS,[["render",Zk]]);var nS=tS,oS={class:"orangehrm-background-container"},aS={class:"orangehrm-paper-container"},rS={class:"orangehrm-header-container"},lS={class:"orangehrm-container"},iS={class:"orangehrm-bottom-container"};function cS(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oS,[Object(o["createElementVNode"])("div",aS,[Object(o["createElementVNode"])("div",rS,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.customers")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",lS,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[1]||(t[1]=function(e){return a.sortDefinition=e}),loading:a.isLoading,headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","loading","headers","items"])]),Object(o["createElementVNode"])("div",iS,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var dS={"customer.name":"ASC"},uS={components:{"delete-confirmation":ut},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,description:t.description,isSelectable:-1===n}}))},n=st({sortDefinition:dS}),a=n.sortDefinition,r=n.sortField,l=n.sortOrder,i=n.onSort,c=Object(o["computed"])((function(){return{sortField:r.value,sortOrder:l.value}})),d=new X(window.appGlobal.baseUrl,"/api/v2/time/customers"),u=ot(d,{query:c,normalizer:t}),s=u.showPaginator,m=u.currentPage,b=u.total,p=u.pages,f=u.pageSize,h=u.response,j=u.isLoading,O=u.execQuery;return i(O),{http:d,showPaginator:s,currentPage:m,isLoading:j,total:b,pages:p,pageSize:f,execQuery:O,items:h,sortDefinition:a}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),sortField:"customer.name",style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Y("/time/addCustomer")},onClickEdit:function(e){Y("/time/addCustomer/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_customer_who_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const sS=C()(uS,[["render",cS]]);var mS=sS,bS={class:"orangehrm-background-container"},pS={class:"orangehrm-card-container"};function fS(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bS,[Object(o["createElementVNode"])("div",pS,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_customer")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:r.rules.description},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var hS={id:"",name:"",description:""},jS={setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(R["a"])({},hS),rules:{name:[St,Dt(50),Object(Ya["a"])(this.validateCustomerName,500)],description:[Dt(255)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/time/viewCustomers")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const OS=C()(jS,[["render",fS]]);var vS=OS,gS={class:"orangehrm-background-container"},CS={class:"orangehrm-card-container"};function yS(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gS,[Object(o["createElementVNode"])("div",CS,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_customer")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var VS={id:"",name:"",description:""},xS={props:{customerId:{type:String,required:!0}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(R["a"])({},VS),rules:{name:[St,Dt(50),Object(Ya["a"])(this.validateCustomerName,500)],description:[Dt(255)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.customerId).then((function(t){var n=t.data.data;e.customer.id=n.id,e.customer.name=n.name,e.customer.description=n.description})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.customerId,{name:this.customer.name,description:this.customer.description}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Y("/time/viewCustomers")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim(),customerId:t.customerId}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const wS=C()(xS,[["render",yS]]);var NS=wS,_S={class:"orangehrm-background-container"},kS=Object(o["createElementVNode"])("br",null,null,-1);function SS(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("timesheet-period"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("timesheet"),s=Object(o["resolveComponent"])("timesheet-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_S,[Object(o["createVNode"])(u,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.my_timesheet")),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),value:a.timesheetPeriod,onPrevious:a.onClickPrevious,onNext:a.onClickNext},null,8,["modelValue","value","onPrevious","onNext"])]})),"footer-title":Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status"))+": "+Object(o["toDisplayString"])(e.timesheetStatus),1)]})),_:1},512),[[o["vShow"],e.timesheetStatus]])]})),"footer-options":Object(o["withCtx"])((function(){return[a.showCreateTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"display-type":"secondary",disabled:a.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:a.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canEditTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:a.onClickEdit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canSubmitTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:2,"display-type":"secondary",label:e.$t("general.submit"),onClick:a.onClickSubmit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),kS,e.timesheetId?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(o["createCommentVNode"])("",!0)])}var DS=function(e){return Object(o["pushScopeId"])("data-v-2ab2a94e"),e=e(),Object(o["popScopeId"])(),e},$S={class:"orangehrm-timesheet-header"},ES={class:"orangehrm-timesheet-header--title"},TS={class:"orangehrm-timesheet-header--options"},IS={key:0,class:"orangehrm-timesheet-loader"},BS={key:1,class:"orangehrm-timesheet-body-message"},LS={key:2,class:"orangehrm-timesheet-body"},US={class:"orangehrm-timesheet-table-header"},AS={class:"orangehrm-timesheet-table-header-row"},PS={class:"orangehrm-timesheet-table-header-cell"},qS={class:"--day"},MS={key:0,class:"orangehrm-timesheet-table-header-cell --center --freeze-right"},RS={class:"orangehrm-timesheet-table-body"},FS={key:1},zS={class:"orangehrm-timesheet-table-body-cell"},GS={key:1},QS={key:1},HS={key:0,class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight"},WS={key:1,class:"orangehrm-timesheet-table-body-cell --flex"},YS={key:0,class:"orangehrm-timesheet-table-body-row --total"},JS={class:"orangehrm-timesheet-table-body-cell --freeze-left --highlight"},XS=DS((function(){return Object(o["createElementVNode"])("td",null,null,-1)})),ZS={class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight-2"},KS={key:1,class:"orangehrm-timesheet-table-body-row"},eD={class:"orangehrm-timesheet-table-body-cell --flex"},tD={key:2,class:"orangehrm-timesheet-table-body-row"},nD={colspan:"9",class:"orangehrm-timesheet-table-body-cell"},oD={class:"orangehrm-timesheet-footer"},aD={class:"orangehrm-timesheet-footer--title"},rD={class:"orangehrm-timesheet-footer--options"};function lD(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-loading-spinner"),c=Object(o["resolveComponent"])("oxd-alert"),d=Object(o["resolveComponent"])("project-autocomplete"),u=Object(o["resolveComponent"])("activity-dropdown"),s=Object(o["resolveComponent"])("oxd-icon-button"),m=Object(o["resolveComponent"])("oxd-input-field"),b=Object(o["resolveComponent"])("oxd-text"),p=Object(o["resolveComponent"])("timesheet-comment-modal"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{class:"orangehrm-paper-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",$S,[Object(o["createElementVNode"])("div",ES,[Object(o["renderSlot"])(e.$slots,"header-title",{},void 0,!0)]),Object(o["createElementVNode"])("div",TS,[Object(o["renderSlot"])(e.$slots,"header-options",{},void 0,!0)])]),n.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",IS,[Object(o["createVNode"])(i)])):n.loading||n.columns?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LS,[Object(o["createElementVNode"])("table",{class:Object(o["normalizeClass"])(l.tableClasses)},[Object(o["createElementVNode"])("thead",US,[Object(o["createElementVNode"])("tr",AS,[Object(o["createElementVNode"])("th",{class:Object(o["normalizeClass"])(l.fixedColumnClasses)},Object(o["toDisplayString"])(e.$t("time.project")),3),Object(o["createElementVNode"])("th",PS,Object(o["toDisplayString"])(e.$t("time.activity")),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.daysOfWeek,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("th",{key:e.id,class:"orangehrm-timesheet-table-header-cell --center"},[Object(o["createElementVNode"])("span",qS,Object(o["toDisplayString"])(e.day),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.title),1)])})),128)),n.editable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("th",MS,Object(o["toDisplayString"])(e.$t("general.total")),1))])]),Object(o["createElementVNode"])("tbody",RS,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.records,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e,class:"orangehrm-timesheet-table-body-row"},[Object(o["createElementVNode"])("td",{class:Object(o["normalizeClass"])(l.fixedCellClasses)},[n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"only-allowed":!1,rules:r.rules.project,"model-value":l.getProject(e),"onUpdate:modelValue":function(e){return l.updateProject(e,t)}},null,8,["rules","model-value","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",FS,Object(o["toDisplayString"])(e.project?"".concat(e.customer.name," - ").concat(e.project.name):""),1))],2),Object(o["createElementVNode"])("td",zS,[n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,rules:r.rules.activity,"project-id":e.project&&e.project.id,"model-value":l.getActivity(e.activity),"onUpdate:modelValue":function(e){return l.updateActivity(e,t)}},null,8,["rules","project-id","model-value","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",GS,Object(o["toDisplayString"])(e.activity&&e.activity.name),1))]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.columns,(function(a,r){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"".concat(e.project,"_").concat(e.activity,"_").concat(r),class:Object(o["normalizeClass"])({"orangehrm-timesheet-table-body-cell":!0,"--center":!0,"--duration-input":n.editable,"--highlight-3":!n.editable&&a.workday})},[Object(o["withDirectives"])(Object(o["createVNode"])(s,{"display-type":"secondary",class:"orangehrm-timesheet-icon-comment",name:l.getCommentIcon(e.dates[r]),onMousedown:function(n){return l.viewComment(e,e.dates[r],t,r)}},null,8,["name","onMousedown"]),[[o["vShow"],l.isCommentVisible(e.dates[r],t,r)]]),n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,autocomplete:"off",rules:l.validateDuration(r),"model-value":l.getDuration(e.dates[r]),onBlur:l.onDurationBlur,onFocus:function(e){return l.onDurationFocus(t,r)},"onUpdate:modelValue":function(e){return l.updateTime(e,t,r)}},null,8,["rules","model-value","onBlur","onFocus","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",QS,Object(o["toDisplayString"])(null!==(i=l.getDuration(e.dates[r]))&&void 0!==i?i:"00:00"),1))],2)})),128)),n.editable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",HS,Object(o["toDisplayString"])(e.total.label),1)),n.editable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",WS,[Object(o["createVNode"])(s,{name:"trash",class:"orangehrm-timesheet-icon",onClick:function(e){return l.deleteRow(t)}},null,8,["onClick"])])):Object(o["createCommentVNode"])("",!0)])})),128)),!n.editable&&n.records.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",YS,[Object(o["createElementVNode"])("td",JS,Object(o["toDisplayString"])(e.$t("general.total")),1),XS,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.columns,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"total-".concat(e),class:"orangehrm-timesheet-table-body-cell --center"},Object(o["toDisplayString"])(e.total.label),1)})),128)),Object(o["createElementVNode"])("td",ZS,Object(o["toDisplayString"])(n.subtotal),1)])):Object(o["createCommentVNode"])("",!0),n.editable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",KS,[Object(o["createElementVNode"])("td",eD,[Object(o["createVNode"])(s,{name:"plus",class:"orangehrm-timesheet-icon",onClick:l.addRow},null,8,["onClick"]),Object(o["createVNode"])(b,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_row")),1)]})),_:1})])])):Object(o["createCommentVNode"])("",!0),0===n.records.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",tD,[Object(o["createElementVNode"])("td",nD,Object(o["toDisplayString"])(e.$t("general.no_records_found")),1)])):Object(o["createCommentVNode"])("",!0)])],2)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",BS,[Object(o["createVNode"])(c,{type:"warn",show:!0,message:e.$t("time.no_timesheets_found")},null,8,["message"])])),Object(o["createElementVNode"])("div",oD,[Object(o["createElementVNode"])("div",aD,[Object(o["renderSlot"])(e.$slots,"footer-title",{},void 0,!0)]),Object(o["createElementVNode"])("div",rD,[Object(o["renderSlot"])(e.$slots,"footer-options",{},void 0,!0)])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:3,editable:n.editable,data:r.commentModalState,"timesheet-id":n.timesheetId,onClose:l.onCommentModalClose},null,8,["editable","data","timesheet-id","onClose"])):Object(o["createCommentVNode"])("",!0)]})),_:3})}function iD(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",options:a.options},null,8,["options"])}var cD={name:"ActivityDropdown",props:{projectId:{type:Number,required:!1,default:null}},setup:function(e){var t=Object(o["ref"])([]),n=new X(window.appGlobal.baseUrl,"");return Object(o["watchEffect"])(Object(ce["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e.projectId?n.request({method:"GET",url:"/api/v2/time/project/".concat(e.projectId,"/activities")}).then((function(e){var n=e.data;t.value=n.data.map((function(e){return{id:e.id,label:e.name,isDeleted:e.deleted}}))})):t.value=[];case 1:case"end":return o.stop()}}),o)})))),{options:t}}};n("cff8");const dD=C()(cD,[["render",iD],["__scopeId","data-v-09c78718"]]);var uD=dD;function sD(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"autocomplete",clear:!1,label:e.$t("time.project"),"create-options":l.loadProjects},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var mD={name:"ProjectAutocomplete",props:{onlyAllowed:{type:Boolean,required:!1,default:!0},excludeProjectIds:{type:Array,required:!1,default:function(){return[]}},excludeCustomerName:{type:Boolean,default:!1}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/time/projects");return{http:e}},methods:{loadProjects:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){if(e.trim()){var o={name:t.excludeCustomerName?e.trim():void 0,onlyAllowed:t.onlyAllowed,model:"detailed",excludeProjectIds:t.excludeProjectIds.length>0?t.excludeProjectIds:void 0,customerOrProjectName:t.excludeCustomerName?void 0:e.trim()};t.http.getAll(o).then((function(e){var o=e.data;n(o.data.map((function(e){var n;return{id:e.id,label:t.excludeCustomerName?e.name:"".concat(null===(n=e.customer)||void 0===n?void 0:n.name," - ").concat(e.name),_customer:e.customer}})))}))}else n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};n("8dc6");const bD=C()(mD,[["render",sD],["__scopeId","data-v-3fd08964"]]);var pD=bD,fD={class:"orangehrm-modal-header"};function hD(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-grid"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",fD,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.comment")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-timesheet-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.project"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.projectName),1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.activity"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.activity.name),1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.date"))+": ",1)]})),_:1}),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.date),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.comment=e}),type:"textarea",placeholder:e.$t("general.comment_here"),rules:r.rules.comment,disabled:!n.editable},null,8,["modelValue","placeholder","rules","disabled"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["withDirectives"])(Object(o["createVNode"])(b,null,null,512),[[o["vShow"],n.editable]])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var jD={name:"TimesheetCommentModal",components:{"oxd-dialog":K["a"]},props:{data:{type:Object,required:!0},editable:{type:Boolean,required:!0},timesheetId:{type:Number,required:!0}},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/time/timesheets");return{http:e}},data:function(){return{isLoading:!1,comment:null,rules:{comment:[Dt(2e3)]}}},computed:{projectName:function(){var e=this.data,t=e.project,n=e.customer;return null!==t&&void 0!==t&&t.label?t.label:"".concat(null===n||void 0===n?void 0:n.name," - ").concat(null===t||void 0===t?void 0:t.name)}},beforeMount:function(){var e,t=this;null!==(e=this.data)&&void 0!==e&&e.id&&(this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/time/timesheets/".concat(this.timesheetId,"/entries/").concat(this.data.id,"/comment")}).then((function(e){var n=e.data.data;t.comment=null===n||void 0===n?void 0:n.comment})).finally((function(){t.isLoading=!1})))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/time/timesheets/".concat(this.timesheetId,"/entries/comment"),data:{date:this.data.date,comment:this.comment,projectId:this.data.project.id,activityId:this.data.activity.id}}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),e.$emit("close",n)}))},onCancel:function(){this.comment=null,this.$emit("close")}}};n("74a0");const OD=C()(jD,[["render",hD],["__scopeId","data-v-c6c1e77c"]]);var vD=OD,gD={name:"Timesheet",components:{"oxd-alert":bo["a"],"oxd-loading-spinner":Z["a"],"activity-dropdown":uD,"project-autocomplete":pD,"timesheet-comment-modal":vD},props:{records:{type:Array,default:function(){return[]}},columns:{type:Object,required:!1,default:function(){return null}},subtotal:{type:String,required:!1,default:null},editable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},timesheetId:{type:Number,default:null}},emits:["update:records"],data:function(){var e=this;return{focusedField:null,showCommentModal:!1,commentModalState:null,rules:{project:[function(t){return null!==t||e.$t("time.select_a_project")}],activity:[function(t){return null!==t||e.$t("time.select_an_activity")},function(t){return e.records.filter((function(e){var n;return(null===(n=e.activity)||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("time.duplicate_record")}]}}},computed:{days:function(){return this.columns?Object.keys(this.columns):[]},dailyTotals:function(){var e=this,t={},n=function(n){t[n]=e.records.reduce((function(e,t){var o,a=De(null===(o=t.dates[n])||void 0===o?void 0:o.duration);return a>0?e+a:e}),0)};for(var o in this.columns)n(o);return t},daysOfWeek:function(){var e=[this.$t("general.sun"),this.$t("general.mon"),this.$t("general.tue"),this.$t("general.wed"),this.$t("general.thu"),this.$t("general.fri"),this.$t("general.sat")];return this.days.map((function(t){var n=ge(t,"yyyy-MM-dd");return{id:n.valueOf(),day:n.getDate(),title:e[n.getDay()]}}))},tableClasses:function(){return{"orangehrm-timesheet-table":!0,"--editable":this.editable}},fixedColumnClasses:function(){return{"orangehrm-timesheet-table-header-cell":!0,"--freeze-left":!this.editable}},fixedCellClasses:function(){return{"orangehrm-timesheet-table-body-cell":!0,"--freeze-left":!this.editable}}},methods:{deleteRow:function(e){var t=this,n=this.records.filter((function(t,n){return n!==e}));this.syncRecords(n),this.$nextTick().then((function(){0===n.length&&t.addRow()}))},addRow:function(){var e=[].concat(Object(qm["a"])(this.records),[{project:null,activity:null,dates:{}}]);this.syncRecords(e)},updateTime:function(e,t,n){var o=this.records.map((function(o,a){if(a===t){var r,l,i=Object(mh["a"])({},n,{date:n,duration:e,id:null===(r=o.dates[n])||void 0===r?void 0:r.id,comment:null===(l=o.dates[n])||void 0===l?void 0:l.comment});o.dates=Object(R["a"])(Object(R["a"])({},o.dates),i)}return o}));this.syncRecords(o)},updateComment:function(e,t,n,o){var a=this.records.map((function(a,r){if(r===n){var l,i=Object(mh["a"])({},o,{id:e,date:o,comment:t,duration:null===(l=a.dates[o])||void 0===l?void 0:l.duration});a.dates=Object(R["a"])(Object(R["a"])({},a.dates),i)}return a}));this.syncRecords(a)},updateProject:function(e,t){var n=this.records.map((function(n,o){return o===t&&(n.project=e||null,n.customer=null!==e&&void 0!==e&&e._customer?e._customer:null),n}));this.updateActivity(null,t),this.syncRecords(n)},updateActivity:function(e,t){var n=this.records.map((function(n,o){return o===t&&(n.activity=e?{id:e.id,name:e.label}:null),n}));this.syncRecords(n)},syncRecords:function(e){this.editable&&this.$emit("update:records",e)},viewComment:function(e,t,n,o){var a,r;null!==(a=e.project)&&void 0!==a&&a.id&&null!==(r=e.activity)&&void 0!==r&&r.id?(this.commentModalState={date:o,index:n,id:null===t||void 0===t?void 0:t.id,project:e.project,activity:e.activity,customer:e.customer},this.showCommentModal=!0):this.$toast.warn({title:this.$t("general.warning"),message:this.$t("time.select_a_project_and_an_activity")})},onCommentModalClose:function(e){if(e){var t=e.id,n=e.comment,o=this.commentModalState,a=o.index,r=o.date;this.updateComment(t,n,a,r)}this.showCommentModal=!1,this.commentModalState=null},getProject:function(e){var t=e.project,n=e.customer;return t&&t.label?t:t&&n?{id:t.id,label:"".concat(n.name," - ").concat(t.name)}:null},getActivity:function(e){return e?{id:e.id,label:e.name}:null},getDuration:function(e){return null!==e&&void 0!==e&&e.duration?e.duration:null},getCommentIcon:function(e){return null!==e&&void 0!==e&&e.comment?"chat-dots-fill":"chat-dots"},isCommentVisible:function(e,t,n){return!(null===e||void 0===e||!e.comment)||!!this.editable&&(this.focusedField&&this.focusedField.index===t&&this.focusedField.date===n)},onDurationFocus:function(e,t){this.focusedField={index:e,date:t}},onDurationBlur:function(){this.focusedField=null},validateDuration:function(e){var t=this,n=function(e){return""===e||null===e||De(e)>=0||t.$t("time.should_be_less_than_24_and_in_hh_mm_or_decimal_format")},o=function(){return!(t.dailyTotals[e]>86400)||t.$t("time.total_should_be_less_than_24_hours")};return[n,o]}}};n("905f");const CD=C()(gD,[["render",lD],["__scopeId","data-v-2ab2a94e"]]);var yD=CD;function VD(e){var t=Object(o["reactive"])({isLoading:!1,employee:null,timesheet:null,timesheetId:null,timesheetRecords:[],timesheetStatus:null,timesheetColumns:null,timesheetSubtotal:null,timesheetAllowedActions:[],date:null}),n=function(t,n){return e.request({method:"GET",url:"/api/v2/time/timesheets/default",params:{date:t,empNumber:n}})},a=function(t,n,o,a){return e.request({method:"PUT",url:a?"api/v2/time/employees/".concat(a,"/timesheets/").concat(t):"api/v2/time/timesheets/".concat(t),data:{action:n,comment:o||void 0}})},r=function(t,n){return new Promise((function(o){e.request({method:"GET",url:n?"api/v2/time/employees/timesheets/".concat(t,"/entries"):"api/v2/time/timesheets/".concat(t,"/entries")}).then((function(e){var t=e.data,n=t.data,a=t.meta,r=a.timesheet,l=a.allowedActions;o({data:n,meta:a,timesheet:r,allowedActions:l})}))}))},l=function(t,n,o){return e.request({method:"PUT",url:o?"api/v2/time/employees/timesheets/".concat(t,"/entries"):"api/v2/time/timesheets/".concat(t,"/entries"),data:Object(R["a"])({},n)})};return{state:t,fetchTimesheet:n,updateTimesheet:a,fetchTimesheetEntries:r,updateTimesheetEntries:l}}var xD=xt();function wD(e,t,n){var a=VD(e),r=a.state,l=a.fetchTimesheet,i=a.updateTimesheet,c=a.fetchTimesheetEntries,d=Je(),u=d.noRecordsFound,s=d.success;r.date=t||Ce(ve(),"yyyy-MM-dd");var m=function(e){r.isLoading=!0,l(e,n).then((function(e){var t=e.data.data;return r.timesheet=t,r.timesheetId=t.id,t.id?c(t.id,void 0!==n):null})).then((function(e){if(null!==e){var t=e.data,n=e.meta,o=e.timesheet,a=e.allowedActions;r.timesheetRecords=t,r.employee=n.employee,r.timesheetColumns=n.columns,r.timesheetSubtotal=n.sum.label,r.timesheetStatus=o.status.name,r.timesheetAllowedActions=a,0===t.length&&u()}else r.employee=null,r.timesheetRecords=[],r.timesheetColumns=null,r.timesheetStatus=null,r.timesheetSubtotal=null,r.timesheetAllowedActions=[]})).finally((function(){r.isLoading=!1}))};Object(o["watchEffect"])(Object(ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.date&&m(r.date));case 1:case"end":return e.stop()}}),e)}))));var b=function(){var e,t=null!==(e=ge(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:ve();t.setDate(t.getDate()-7),r.date=Ce(t,"yyyy-MM-dd")},p=function(){var e,t=null!==(e=ge(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:ve();t.setDate(t.getDate()+7),r.date=Ce(t,"yyyy-MM-dd")},f=function(){r.timesheetId&&Y("/time/editTimesheet/{id}",{id:r.timesheetId})},h=function(){r.timesheetId&&(r.isLoading=!0,i(r.timesheetId,"SUBMIT",null,n).then((function(){s({title:xD("general.success"),message:xD("time.timesheet_submitted")}),r.timesheetId=null,m(r.date)})))},j=function(){r.timesheetId&&(r.isLoading=!0,i(r.timesheetId,"RESET",null,n).then((function(){s({title:xD("general.success"),message:xD("time.timesheet_reset")}),r.timesheetId=null,m(r.date)})))},O=function(e){r.timesheetId&&(r.isLoading=!0,i(r.timesheetId,"APPROVE",e,n).then((function(){s({title:xD("general.success"),message:xD("time.timesheet_approved")}),r.timesheetId=null,m(r.date)})))},v=function(e){r.timesheetId&&(r.isLoading=!0,i(r.timesheetId,"REJECT",e,n).then((function(){s({title:xD("general.success"),message:xD("time.timesheet_rejected")}),r.timesheetId=null,m(r.date)})))},g=function(){r.isLoading=!0,e.request({method:"POST",url:n?"api/v2/time/employees/".concat(n,"/timesheets"):"/api/v2/time/timesheets",data:{date:r.date}}).then((function(){s({title:xD("general.success"),message:xD("time.timesheet_successfully_created")}),m(r.date)}))},C=Object(o["computed"])((function(){return!r.isLoading&&!r.timesheetId})),y=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"SUBMIT"===e.action}))})),V=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"APPROVE"===e.action}))})),x=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"REJECT"===e.action}))})),w=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"RESET"===e.action}))})),N=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"MODIFY"===e.action}))})),_=Object(o["computed"])((function(){var e,t=null!==(e=ge(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:ve();return t>ve()})),k=Object(o["computed"])((function(){return r.timesheet?"".concat(r.timesheet.startDate," to ").concat(r.timesheet.endDate):null}));return{state:r,onClickEdit:f,onClickNext:p,onClickReset:j,onClickSubmit:h,onClickReject:v,onClickApprove:O,onClickPrevious:b,timesheetPeriod:k,canEditTimesheet:N,canResetTimesheet:w,canSubmitTimesheet:y,canRejectTimesheet:x,canCreateTimesheet:_,canApproveTimesheet:V,showCreateTimesheet:C,onClickCreateTimesheet:g}}var ND={class:"orangehrm-timeperiod-picker"};function _D(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-icon-button"),d=Object(o["resolveComponent"])("date-input");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ND,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period")),1)]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-timeperiod-icon --prev",name:"chevron-left",onClick:t[0]||(t[0]=function(t){return e.$emit("previous",t)})}),Object(o["createVNode"])(d,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16),Object(o["createVNode"])(c,{class:"orangehrm-timeperiod-icon --next",name:"chevron-right",onClick:t[1]||(t[1]=function(t){return e.$emit("next",t)})})])}var kD={name:"TimesheetPeriod",inheritAttrs:!1,emits:["previous","next"]};n("e0034");const SD=C()(kD,[["render",_D],["__scopeId","data-v-e0a5176c"]]);var DD=SD,$D={key:0,class:"orangehrm-paper-container"},ED={class:"orangehrm-header-container"},TD={class:"orangehrm-container"},ID={class:"orangehrm-bottom-container"},BD={key:1};function LD(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-card-table"),u=Object(o["resolveComponent"])("oxd-pagination");return a.total>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$D,[Object(o["createElementVNode"])("div",ED,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.actions_performed_on_the_timesheet")),1)]})),_:1})]),Object(o["createElementVNode"])("div",TD,[Object(o["createVNode"])(d,{headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",ID,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",BD))}var UD=function(e){return e.map((function(e){var t,n,o,a,r;return{id:e.id,action:null===(t=e.action)||void 0===t?void 0:t.label,date:e.date,comment:e.comment,performedBy:"".concat(null!==(n=e.performedEmployee)&&void 0!==n&&n.firstName?null===(o=e.performedEmployee)||void 0===o?void 0:o.firstName:"Purged","\n      ").concat(null!==(a=e.performedEmployee)&&void 0!==a&&a.lastName?null===(r=e.performedEmployee)||void 0===r?void 0:r.lastName:"Employee","\n       ").concat(e.performedEmployee.terminationId?" (Past Employee)":"")}}))},AD={name:"TimesheetActions",props:{timesheetId:{type:Number,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/timesheets/".concat(e.timesheetId,"/action-logs")),n=ot(t,{toastNoRecords:!1,normalizer:UD}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,i=n.pageSize,c=n.response,d=n.isLoading,u=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:d,total:r,pages:l,pageSize:i,execQuery:u,items:c}},data:function(){return{headers:[{name:"action",slot:"title",title:this.$t("general.actions"),style:{flex:1}},{name:"performedBy",title:this.$t("general.performed_by"),style:{flex:1}},{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}}]}}};const PD=C()(AD,[["render",LD]]);var qD=PD,MD={components:{timesheet:yD,"timesheet-period":DD,"timesheet-actions":qD},props:{startDate:{type:String,required:!1,default:null}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),n=wD(t,e.startDate),a=n.state,r=n.onClickEdit,l=n.onClickNext,i=n.onClickSubmit,c=n.onClickPrevious,d=n.timesheetPeriod,u=n.canEditTimesheet,s=n.canSubmitTimesheet,m=n.canCreateTimesheet,b=n.showCreateTimesheet,p=n.onClickCreateTimesheet;return Object(R["a"])(Object(R["a"])({onClickEdit:r,onClickNext:l,onClickSubmit:i,onClickPrevious:c},Object(o["toRefs"])(a)),{},{timesheetPeriod:d,canEditTimesheet:u,canSubmitTimesheet:s,canCreateTimesheet:m,showCreateTimesheet:b,onClickCreateTimesheet:p})}};const RD=C()(MD,[["render",SS]]);var FD=RD,zD={class:"orangehrm-background-container"};function GD(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("timesheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zD,[Object(o["createVNode"])(d,{records:e.timesheetRecords,"onUpdate:records":t[0]||(t[0]=function(t){return e.timesheetRecords=t}),editable:!0,loading:e.isLoading,"timesheet-id":n.timesheetId,columns:e.timesheetColumns,onSubmitValid:a.onSave},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.title),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[l.timesheetDateRange?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.timesheetDateRange),1)]})),_:1})]})),"footer-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:a.onClickCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{"display-type":"ghost",label:e.$t("general.reset"),onClick:a.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(c,{type:"submit","display-type":"secondary",label:e.$t("general.save")},null,8,["label"])]})),_:1},8,["records","loading","timesheet-id","columns","onSubmitValid"])])}var QD={components:{timesheet:yD},props:{myTimesheet:{type:Boolean,default:!1},timesheetId:{type:Number,required:!0}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/timesheets");t.setIgnorePath("api/v2/time/timesheets/[0-9]+/entries");var n=[],a=Je(),r=a.saveSuccess,l=VD(t),i=l.state,c=l.fetchTimesheetEntries,d=l.updateTimesheetEntries,u=function(){i.isLoading=!0,n=[],i.timesheetRecords=[],c(e.timesheetId,!e.myTimesheet).then((function(e){var t=e.data,o=e.meta,a=e.timesheet,r=e.allowedActions;i.timesheet=a,i.employee=o.employee,i.timesheetColumns=o.columns,i.timesheetSubtotal=o.sum.label,i.timesheetStatus=a.status.name,i.timesheetAllowedActions=r,t.length>0?(i.timesheetRecords=t,n=JSON.parse(JSON.stringify(t))):(i.timesheetRecords.push({project:null,activity:null,dates:{}}),n.push({project:null,activity:null,dates:{}})),i.isLoading=!1}))},s=function(){return u()},m=function(){var t;e.myTimesheet?Y("/time/viewMyTimesheet",{},{startDate:i.timesheet.startDate}):Y("/time/viewTimesheet/employeeId/{id}",{id:null===(t=i.employee)||void 0===t?void 0:t.empNumber},{startDate:i.timesheet.startDate})},b=function(){i.isLoading=!0;var t={entries:i.timesheetRecords.map((function(e){var t={};for(var n in e.dates){var o=De(e.dates[n].duration);t[n]={duration:o>0?Se(o):"00:00"}}return{projectId:e.project.id,activityId:e.activity.id,dates:t}})),deletedEntries:n.filter((function(e){return!!e.project&&i.timesheetRecords.findIndex((function(t){return t.project.id===e.project.id&&t.activity.id===e.activity.id}))<0})).map((function(e){return{projectId:e.project.id,activityId:e.activity.id}}))};d(e.timesheetId,t,!e.myTimesheet).then((function(){return r()})).catch((function(){return r()})).then((function(){m()}))};return Object(o["onBeforeMount"])((function(){return u()})),Object(R["a"])({onSave:b,onClickReset:s,onClickCancel:m},Object(o["toRefs"])(i))},computed:{title:function(){if(this.myTimesheet)return this.$t("time.edit_timesheet");if(this.employee){var e,t=null!==(e=this.employee)&&void 0!==e&&e.terminationId?"".concat(this.employee.firstName," ").concat(this.employee.lastName," (Past Employee)"):"".concat(this.employee.firstName," ").concat(this.employee.lastName);return"".concat(this.$t("time.edit_timesheet_for")," ").concat(t)}return""},timesheetDateRange:function(){return this.timesheet?"".concat(this.timesheet.startDate," - ").concat(this.timesheet.endDate):""}}};n("8440");const HD=C()(QD,[["render",GD],["__scopeId","data-v-e8862882"]]);var WD=HD,YD={class:"orangehrm-background-container"},JD=Object(o["createElementVNode"])("br",null,null,-1),XD={class:"orangehrm-paper-container"},ZD={key:0,class:"orangehrm-header-container"},KD={class:"orangehrm-container"},e$={class:"orangehrm-bottom-container"};function t$(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("customer-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("project-autocomplete"),s=Object(o["resolveComponent"])("project-admin-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-divider"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",YD,[Object(o["createVNode"])(v,{"filter-title":e.$t("general.projects")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.customer,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.customer=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.project,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.project=e}),"exclude-customer-name":!0},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.projectAdmin,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.projectAdmin=e}),"show-delete":!1},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),Object(o["createVNode"])(h,{label:e.$t("general.search")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),JD,Object(o["createElementVNode"])("div",XD,[e.$can.create("time_projects")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZD,[Object(o["createVNode"])(f,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(g,{selected:r.checkedItems.length,loading:a.isLoading,total:a.total,"show-divider":e.$can.create("time_projects"),onDelete:l.onClickDeleteSelected},null,8,["selected","loading","total","show-divider","onDelete"]),Object(o["createElementVNode"])("div",KD,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[3]||(t[3]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[4]||(t[4]=function(e){return a.sortDefinition=e}),headers:l.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card",selectable:e.$can.delete("time_projects")},null,8,["selected","order","headers","items","loading","selectable"])]),Object(o["createElementVNode"])("div",e$,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[5]||(t[5]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])}function n$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"autocomplete",clear:!1,label:e.$t("time.customer_name"),"create-options":l.loadCustomers},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var o$={name:"CustomerAutocomplete",setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/time/customers");return{http:e}},methods:{loadCustomers:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({name:e.trim()}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:e.name}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const a$=C()(o$,[["render",n$]]);var r$=a$,l$={class:"orangehrm-project-admin-input"};function i$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete"),c=Object(o["resolveComponent"])("oxd-icon-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l$,[Object(o["createVNode"])(i,Object(o["mergeProps"])({label:n.showDelete?null:e.$t("time.project_admin"),"api-path":"api/v2/time/project-admins",params:{includeEmployees:e.includeEmployees}},e.$attrs),null,16,["label","params"]),n.showDelete?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,name:"trash-fill",class:"orangehrm-project-delete-icon","with-container":!1,onClick:l.remove},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0)])}var c$={name:"ProjectAdminAutocomplete",components:{"employee-autocomplete":Ba},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployee:{type:String,default:"currentAndPast"}},emits:["remove"],methods:{remove:function(){this.$emit("remove")}}};n("6bd0");const d$=C()(c$,[["render",i$],["__scopeId","data-v-231363c6"]]);var u$=d$,s$={customer:null,project:null,projectAdmin:null},m$={"project.name":"ASC","customer.name":"DEFAULT","employee.lastName":"DEFAULT"},b$={components:{"project-autocomplete":pD,"customer-autocomplete":r$,"delete-confirmation":ut,"project-admin-autocomplete":u$},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n,o,a,r,l=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,project:t.name,customer:null!==(n=t.customer)&&void 0!==n&&n.deleted?(null===(o=t.customer)||void 0===o?void 0:o.name)+" (Deleted)":null===(a=t.customer)||void 0===a?void 0:a.name,projectAdmins:null===(r=t.projectAdmins)||void 0===r?void 0:r.map((function(e){return e.terminationId?"".concat(e.firstName," ").concat(e.lastName)+" (Past Employee)":"".concat(e.firstName," ").concat(e.lastName)})).join(", "),isSelectable:-1===l}}))},n=Object(o["ref"])(Object(R["a"])({},s$)),a=st({sortDefinition:m$}),r=a.sortDefinition,l=a.sortField,i=a.sortOrder,c=a.onSort,d=Object(o["computed"])((function(){var e,t,o;return{customerId:null===(e=n.value.customer)||void 0===e?void 0:e.id,projectId:null===(t=n.value.project)||void 0===t?void 0:t.id,empNumber:null===(o=n.value.projectAdmin)||void 0===o?void 0:o.id,sortField:l.value,sortOrder:i.value,model:"detailed"}})),u=new X(window.appGlobal.baseUrl,"api/v2/time/projects"),s=ot(u,{query:d,normalizer:t}),m=s.showPaginator,b=s.currentPage,p=s.total,f=s.pages,h=s.pageSize,j=s.response,O=s.isLoading,v=s.execQuery;return c(v),{http:u,showPaginator:m,currentPage:b,isLoading:O,total:p,pages:f,pageSize:h,execQuery:v,items:j,filters:n,sortDefinition:r}},data:function(){return{checkedItems:[]}},computed:{headers:function(){var e=[{name:"customer",title:this.$t("time.customer_name"),sortField:"customer.name",style:{flex:"15%"}},{name:"project",slot:"title",title:this.$t("time.project"),sortField:"project.name",style:{flex:"15%"}},{name:"projectAdmins",title:this.$t("time.project_admins"),style:{flex:"20%"}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("time_projects")&&(t.cellConfig.delete={onClick:this.onClickDelete,props:{name:"trash"}}),this.$can.update("time_project_activities")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0&&e.push(t),e}},methods:{onClickAdd:function(){Y("/time/saveProject")},onClickEdit:function(e){Y("/time/saveProject/{id}",{id:e.id})},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_projects_which_have_time_logged")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteData([e.id])}))},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteData(t)}))},deleteData:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e instanceof Array&&(t.isLoading=!0,t.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})));case 1:case"end":return n.stop()}}),n)})))()},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const p$=C()(b$,[["render",t$]]);var f$=p$,h$={class:"orangehrm-background-container"},j$={class:"orangehrm-card-container"},O$=Object(o["createElementVNode"])("br",null,null,-1);function v$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("customer-autocomplete"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("project-admin-autocomplete"),f=Object(o["resolveComponent"])("oxd-form-row"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("add-customer-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h$,[Object(o["createElementVNode"])("div",j$,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_project")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.project.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{key:r.project.customer,modelValue:r.project.customer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.project.customer=e}),rules:r.rules.customer,label:e.$t("time.customer_name"),required:""},null,8,["modelValue","rules","label"]),Object(o["createVNode"])(m,{"icon-name":"plus","display-type":"text",label:e.$t("time.add_customer"),onClick:l.onClickAddCustomer},null,8,["label","onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.project.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.project.description=e}),type:"textarea",label:e.$t("general.description"),rules:r.rules.description,placeholder:e.$t("general.type_description_here")},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.projectAdmins,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:t,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},"show-delete":t>0,rules:t>0?r.rules.projectAdmin:[],"include-employees":"onlyCurrent",onRemove:function(e){return l.onRemoveAdmin(t)}},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"])})),128)),r.projectAdmins.length<5?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),O$,Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),r.showCustomerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,onClose:l.onCustomerModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])}var g$={class:"orangehrm-modal-header"};function C$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form"),f=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",g$,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_customer")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:r.rules.description},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,{class:"orangehrm-form-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(m,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var y$={id:"",name:"",description:""},V$={name:"AddCustomerModal",components:{"oxd-dialog":K["a"]},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(R["a"])({},y$),rules:{name:[St,Dt(50),Object(Ya["a"])(this.validateCustomerName,500)],description:[Dt(255)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),e.$emit("close",n)}))},onCancel:function(){this.$emit("close")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const x$=C()(V$,[["render",C$]]);var w$=x$,N$={name:null,customer:null,description:null,projectAdminEmpNumbers:[]},_$={name:"ProjectSave",components:{"add-customer-modal":w$,"customer-autocomplete":r$,"project-admin-autocomplete":u$},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data:function(){var e=this;return{isLoading:!1,showCustomerModal:!1,projectAdmins:[{value:null}],project:Object(R["a"])({},N$),projectId:null,rules:{name:[St,Dt(50),Object(Ya["a"])(this.validateProjectName,500)],description:[Dt(255)],customer:[St],projectAdmin:[Dt(100),function(t){return e.projectAdmins.filter((function(e){var n=e.value;return n&&n.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}]}}},methods:{onClickAddCustomer:function(){this.showCustomerModal=!0},onCustomerModalClose:function(e){if(void 0!==e){var t=e.id,n=e.name;this.project.customer={id:t,label:n}}this.showCustomerModal=!1},onAddAnother:function(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin:function(e){this.projectAdmins.splice(e,1)},onCancel:function(){Y("/time/viewProjects")},onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((function(e){var t=e.value;return t&&t.id})).filter(Number)}).then((function(t){var n;return e.projectId=null===(n=t.data)||void 0===n?void 0:n.data.id,e.$toast.saveSuccess()})).then((function(){Y("/time/saveProject/{id}",{id:e.projectId})}))},validateProjectName:function(e){var t=this;return new Promise((function(n){var o;e?t.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectName:t.project.name.trim(),customerId:null===(o=t.project.customer)||void 0===o?void 0:o.id}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const k$=C()(_$,[["render",v$]]);var S$=k$,D$={class:"orangehrm-background-container"},$$={class:"orangehrm-card-container"},E$=Object(o["createElementVNode"])("br",null,null,-1),T$=Object(o["createElementVNode"])("br",null,null,-1);function I$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("customer-autocomplete"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("project-admin-autocomplete"),f=Object(o["resolveComponent"])("oxd-form-row"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("activities"),C=Object(o["resolveComponent"])("add-customer-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",D$,[Object(o["createElementVNode"])("div",$$,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_project")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.project.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project.name=e}),label:e.$t("general.name"),rules:r.rules.name,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{key:r.project.customer,modelValue:r.project.customer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.project.customer=e}),label:e.$t("time.customer_name"),rules:r.rules.customer,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"]),e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("time.add_customer"),onClick:l.onClickAddCustomer},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.project.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.project.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),disabled:!e.$can.update("time_projects"),rules:r.rules.description},null,8,["modelValue","label","placeholder","disabled","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.projectAdmins,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:n,modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},"show-delete":n>0&&e.$can.update("time_projects"),rules:n>0?r.rules.projectAdmin:[],disabled:!e.$can.update("time_projects"),"include-employees":"onlyCurrent",onRemove:function(e){return l.onRemoveAdmin(n)}},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","disabled","onRemove"])})),128)),r.projectAdmins.length<5&&e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),E$,Object(o["createVNode"])(c),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),T$,Object(o["createVNode"])(g,{"project-id":n.projectId,"unselectable-ids":n.unselectableIds},null,8,["project-id","unselectable-ids"]),r.showCustomerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onCustomerModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])}var B$={class:"orangehrm-paper-container"},L$={class:"orangehrm-header-container"},U$={class:"orangehrm-main-actions"},A$={class:"orangehrm-container"},P$={class:"orangehrm-bottom-container"};function q$(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("copy-activity-modal"),f=Object(o["resolveComponent"])("save-activity-modal"),h=Object(o["resolveComponent"])("edit-activity-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B$,[Object(o["createElementVNode"])("div",L$,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.activities")),1)]})),_:1}),Object(o["createElementVNode"])("div",U$,[Object(o["createVNode"])(d,{label:e.$t("time.copy_from"),"display-type":"ghost",onClick:l.onClickCopyFrom},null,8,["label","onClick"]),Object(o["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(u,{total:a.total,loading:a.isLoading,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(o["createElementVNode"])("div",A$,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",P$,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512),r.showCopyFromModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,"project-id":n.projectId,onClose:l.onCloseModal},null,8,["project-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showSaveActivityModal?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,"project-id":n.projectId,onClose:l.onCloseModal},null,8,["project-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditActivityModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,"project-id":n.projectId,"activity-id":r.editActivityModalState,onClose:l.onCloseModal},null,8,["project-id","activity-id","onClose"])):Object(o["createCommentVNode"])("",!0)])}var M$={class:"orangehrm-modal-header"};function R$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("project-autocomplete"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(O,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",M$,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.copy_activity")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project=e}),rules:r.rules.project,label:e.$t("time.project_name"),required:"","only-allowed":!1,"exclude-project-ids":[n.projectId]},null,8,["modelValue","rules","label","exclude-project-ids"])]})),_:1}),r.activities&&r.activities.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(c),Object(o["createVNode"])(u,{class:"orangehrm-activites-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.activities,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.id,modelValue:r.selectedActivities,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedActivities=e}),type:"checkbox",value:e.id,disabled:!e.unique,"option-label":e.name},null,8,["modelValue","value","disabled","option-label"])})),128))]})),_:1})]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var F$={name:"CopyActivityModal",components:{"oxd-dialog":K["a"],"project-autocomplete":pD},props:{projectId:{type:Number,required:!0}},emits:["close"],setup:function(){var e=new X(window.appGlobal.baseUrl,"");return{http:e}},data:function(){var e=this;return{isLoading:!1,project:null,activities:null,selectedActivities:[],rules:{project:[St,function(){if(null!==e.activities&&0===e.activities.length)return e.$t("time.no_assigned_activities");if(Array.isArray(e.activities)&&0===e.selectedActivities.length){var t=e.activities.find((function(e){return!0===e.unique}));return t?e.$t("time.no_activities_selected"):e.$t("general.already_exists")}return!0}]}}},watch:{project:function(e){var t=this;this.activities=null,this.selectedActivities=[],e&&(this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/time/projects/".concat(this.projectId,"/activities/copy/").concat(e.id),params:{limit:0}}).then((function(e){var n=e.data.data;t.activities=n,t.selectedActivities=Array.isArray(n)?n.filter((function(e){return!0===e.unique})).map((function(e){return e.id})):[],t.isLoading=!1})))}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"POST",url:"api/v2/time/projects/".concat(this.projectId,"/activities/copy/").concat(this.project.id),data:{activityIds:this.selectedActivities}}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("5f7e");const z$=C()(F$,[["render",R$],["__scopeId","data-v-ba7e9666"]]);var G$=z$,Q$={class:"orangehrm-modal-header"};function H$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Q$,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_project_activity")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var W$={name:"SaveActivityModal",components:{"oxd-dialog":K["a"]},props:{projectId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities"));return{http:t}},data:function(){return{isLoading:!1,name:"",rules:{name:[St,Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.name}).then((function(){e.$toast.saveSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Y$=C()(W$,[["render",H$]]);var J$=Y$,X$={class:"orangehrm-modal-header"};function Z$(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"600px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",X$,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_project_activity")),1)]})),_:1})]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var K$={name:"SaveActivityModal",components:{"oxd-dialog":K["a"]},props:{projectId:{type:Number,required:!0},activityId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities"));return{http:t}},data:function(){return{isLoading:!1,name:"",rules:{name:[St,Dt(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.activityId).then((function(t){var n=t.data.data;return e.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.activityId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.activityId,{name:this.name}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const eE=C()(K$,[["render",Z$]]);var tE=eE,nE={name:"Activities",components:{"copy-activity-modal":G$,"save-activity-modal":J$,"edit-activity-modal":tE,"delete-confirmation":ut},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities")),n=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return Object(R["a"])(Object(R["a"])({},t),{},{isSelectable:-1===n})}))},o=ot(t,{normalizer:n}),a=o.showPaginator,r=o.currentPage,l=o.total,i=o.pages,c=o.pageSize,d=o.response,u=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:i,pageSize:c,execQuery:s,items:d}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("time.activity_name"),style:{"flex-basis":"80%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showCopyFromModal:!1,showSaveActivityModal:!1,showEditActivityModal:!1,editActivityModalState:null}},methods:{onClickAdd:function(){this.showSaveActivityModal=!0},onClickEdit:function(e){this.editActivityModalState=e.id,this.showEditActivityModal=!0},onClickCopyFrom:function(){this.showCopyFromModal=!0},onCloseModal:function(){this.showCopyFromModal=!1,this.showSaveActivityModal=!1,this.showEditActivityModal=!1,this.resetDataTable()},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_project_activities_which_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){t.$toast.deleteSuccess(),t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};n("c9ad");const oE=C()(nE,[["render",q$],["__scopeId","data-v-5eb1b746"]]);var aE=oE,rE={name:null,customer:{id:null,label:null},description:null,projectAdminEmpNumbers:[]},lE={name:"ProjectEdit",components:{activities:aE,"add-customer-modal":w$,"customer-autocomplete":r$,"project-admin-autocomplete":u$},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data:function(){var e=this;return{isLoading:!1,projectAdmins:[{value:null}],project:Object(R["a"])({},rE),showCustomerModal:!1,rules:{name:[St,Dt(50)],description:[Dt(255)],customer:[St],projectAdmin:[Dt(100),function(t){return e.projectAdmins.filter((function(e){var n=e.value;return n&&n.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.projectId,{model:"detailed"}).then((function(t){var n=t.data.data;e.project.name=n.name,e.project.description=n.description,e.project.customer={id:n.customer.id,label:n.customer.name},Array.isArray(n.projectAdmins)&&n.projectAdmins.length>0&&(e.projectAdmins=n.projectAdmins.map((function(e){return{value:{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}}})))})).finally((function(){e.rules.name.push(Object(Ya["a"])(e.validateProjectName,500)),e.isLoading=!1}))},methods:{onClickAddCustomer:function(){this.showCustomerModal=!0},onCustomerModalClose:function(e){if(void 0!==e){var t=e.id,n=e.name;this.project.customer={id:t,label:n}}this.showCustomerModal=!1},onAddAnother:function(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin:function(e){this.projectAdmins.splice(e,1)},onCancel:function(){Y("/time/viewProjects")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.projectId,{name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((function(e){var t=e.value;return t&&t.id})).filter(Number)}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},validateProjectName:function(e){var t=this;return new Promise((function(n){var o;e?t.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectId:t.projectId,projectName:t.project.name.trim(),customerId:null===(o=t.project.customer)||void 0===o?void 0:o.id}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const iE=C()(lE,[["render",I$]]);var cE=iE,dE={class:"orangehrm-background-container"},uE={class:"orangehrm-card-container"},sE=Object(o["createElementVNode"])("br",null,null,-1);function mE(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("timesheet-pending-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dE,[Object(o["createElementVNode"])("div",uE,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.select_employee")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{onSubmitValid:l.viewTimesheet},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employee=e}),rules:r.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]),sE,Object(o["createVNode"])(j)])}var bE={class:"orangehrm-paper-container"},pE={class:"orangehrm-header-container"},fE={class:"orangehrm-container"},hE={class:"orangehrm-bottom-container"};function jE(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("table-header"),u=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bE,[Object(o["createElementVNode"])("div",pE,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheets_pending_action")),1)]})),_:1})]),Object(o["createVNode"])(d,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",fE,[Object(o["createVNode"])(u,{headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",hE,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])}var OE=function(e){return e.map((function(e){var t,n,o;return{id:e.id,startDate:e.startDate,empNumber:e.employee.empNumber,period:"".concat(e.startDate," - ").concat(e.endDate),employee:"".concat(null===(t=e.employee)||void 0===t?void 0:t.firstName," ").concat(null===(n=e.employee)||void 0===n?void 0:n.lastName," ").concat(null!==(o=e.employee)&&void 0!==o&&o.terminationId?" (Past Employee)":"")}}))},vE={name:"TimesheetPendingActions",setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/time/employees/timesheets/list"),t=ot(e,{normalizer:OE}),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,i=t.response,c=t.isLoading,d=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:c,total:a,pages:r,pageSize:l,execQuery:d,items:i}},data:function(){return{headers:[{name:"employee",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"period",title:this.$t("time.timesheet_period"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{onClickView:function(e){Y("/time/viewTimesheet/employeeId/{empNumber}",{empNumber:e.empNumber},{startDate:e.startDate})}}};n("5085");const gE=C()(vE,[["render",jE],["__scopeId","data-v-86a12b3e"]]);var CE=gE,yE={components:{"employee-autocomplete":Ba,"timesheet-pending-actions":CE},data:function(){return{employee:null,rules:{employee:[St]}}},methods:{viewTimesheet:function(){var e;Y("/time/viewTimesheet/employeeId/{id}",{id:null===(e=this.employee)||void 0===e?void 0:e.id})}}};const VE=C()(yE,[["render",mE]]);var xE=VE,wE={class:"orangehrm-background-container"},NE=Object(o["createElementVNode"])("br",null,null,-1),_E=Object(o["createElementVNode"])("br",null,null,-1);function kE(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("timesheet-period"),d=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("timesheet"),s=Object(o["resolveComponent"])("save-timesheet-action"),m=Object(o["resolveComponent"])("timesheet-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wE,[Object(o["createVNode"])(u,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.title),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),value:a.timesheetPeriod,onNext:a.onClickNext,onPrevious:a.onClickPrevious},null,8,["modelValue","value","onNext","onPrevious"])]})),"footer-title":Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status"))+": "+Object(o["toDisplayString"])(e.timesheetStatus),1)]})),_:1},512),[[o["vShow"],e.timesheetStatus]])]})),"footer-options":Object(o["withCtx"])((function(){return[a.showCreateTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"display-type":"secondary",disabled:a.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:a.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canEditTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:a.onClickEdit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canResetTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:2,"display-type":"ghost",label:e.$t("general.reset"),onClick:a.onClickReset},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canSubmitTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:3,"display-type":"secondary",label:e.$t("general.submit"),onClick:a.onClickSubmit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),NE,e.timesheetId&&(a.canRejectTimesheet||a.canApproveTimesheet)?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.timesheetId,"is-loading":e.isLoading,"reject-timesheet":a.onClickReject,"approve-timesheet":a.onClickApprove,"can-reject-timesheet":!!a.canRejectTimesheet,"can-approve-timesheet":!!a.canApproveTimesheet},null,8,["is-loading","reject-timesheet","approve-timesheet","can-reject-timesheet","can-approve-timesheet"])):Object(o["createCommentVNode"])("",!0),_E,e.timesheetId?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(o["createCommentVNode"])("",!0)])}var SE={class:"orangehrm-card-container"};function DE(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",SE,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_action")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{ref:"formRef",loading:n.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.comment=e}),type:"textarea",placeholder:e.$t("general.type_here_message"),rules:a.rules.comment,label:e.$t("general.comment")},null,8,["modelValue","placeholder","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[n.canRejectTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:a.onClickReject},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),n.canApproveTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,label:e.$t("general.approve"),"display-type":"secondary",class:"orangehrm-left-space",onClick:t[1]||(t[1]=function(e){return a.onClickApprove("test")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading"])])}var $E={name:"SaveTimesheetAction",props:{isLoading:{type:Boolean,required:!0},rejectTimesheet:{type:Function,required:!0},approveTimesheet:{type:Function,required:!0},canRejectTimesheet:{type:Boolean,required:!0},canApproveTimesheet:{type:Boolean,required:!0}},setup:function(e){var t=bh(),n=t.formRef,a=t.invalid,r=t.validate,l=Object(o["ref"])(""),i={comment:[Dt(250)]},c=function(){r().then((function(){return!1===a.value&&e.approveTimesheet(l.value)}))},d=function(){r().then((function(){return!1===a.value&&e.rejectTimesheet(l.value)}))};return{rules:i,comment:l,formRef:n,onClickReject:d,onClickApprove:c}}};const EE=C()($E,[["render",DE]]);var TE=EE,IE=["employee"],BE={components:{timesheet:yD,"timesheet-period":DD,"timesheet-actions":qD,"save-timesheet-action":TE},props:{employee:{type:Object,required:!0},startDate:{type:String,required:!1,default:null}},setup:function(e){var t=new X(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),n=wD(t,e.startDate,e.employee.empNumber),a=n.state,r=n.onClickEdit,l=n.onClickNext,i=n.onClickReset,c=n.onClickSubmit,d=n.onClickReject,u=n.onClickApprove,s=n.onClickPrevious,m=n.timesheetPeriod,b=n.canEditTimesheet,p=n.canResetTimesheet,f=n.canSubmitTimesheet,h=n.canRejectTimesheet,j=n.canCreateTimesheet,O=n.canApproveTimesheet,v=n.showCreateTimesheet,g=n.onClickCreateTimesheet,C=Object(o["toRefs"])(a),y=(C.employee,Object(We["a"])(C,IE));return Object(R["a"])(Object(R["a"])({},y),{},{onClickEdit:r,onClickNext:l,onClickReset:i,onClickSubmit:c,onClickReject:d,onClickApprove:u,onClickPrevious:s,timesheetPeriod:m,canEditTimesheet:b,canResetTimesheet:p,canSubmitTimesheet:f,canRejectTimesheet:h,canCreateTimesheet:j,canApproveTimesheet:O,showCreateTimesheet:v,onClickCreateTimesheet:g})},computed:{title:function(){var e=this.employee.terminationId?"".concat(this.employee.firstName," ").concat(this.employee.lastName," (Past Employee)"):"".concat(this.employee.firstName," ").concat(this.employee.lastName);return"".concat(this.$t("time.timesheet_for")," ").concat(e)}}};const LE=C()(BE,[["render",kE]]);var UE=LE,AE=function(e){return Object(o["pushScopeId"])("data-v-6481ca56"),e=e(),Object(o["popScopeId"])(),e},PE=AE((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function qE(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("project-autocomplete"),m=Object(o["resolveComponent"])("activity-dropdown"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("oxd-text"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{module:"time",name:"employee",filters:a.serializedFilters,"column-count":3},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(C,{"filter-title":e.$t("time.employee_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.project,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.project=e}),label:e.$t("time.project_name"),"only-allowed":!1},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.activity,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.activity=e}),label:e.$t("time.activity_name"),"project-id":a.filters.project&&a.filters.project.id},null,8,["modelValue","label","project-id"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.toDate=e}),label:" ",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:a.filters.timesheetState,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.timesheetState=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),PE]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var ME={employee:null,project:null,activity:null,fromDate:null,toDate:null,timesheetState:!1},RE={components:{"reports-table":kj,"oxd-switch-input":Or["a"],"activity-dropdown":uD,"project-autocomplete":pD,"employee-autocomplete":Ba},setup:function(){var e=Object(o["ref"])(Object(R["a"])({},ME)),t=Wh(),n=t.$t,a={employee:[St],fromDate:[$t(),Wt((function(){return e.value.toDate}),n("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$t(),Pt((function(){return e.value.fromDate}),n("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=Object(o["computed"])((function(){var t,n,o;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,projectId:null===(n=e.value.project)||void 0===n?void 0:n.id,activityId:null===(o=e.value.activity)||void 0===o?void 0:o.id,fromDate:e.value.fromDate,toDate:e.value.toDate,timesheetState:e.value.timesheetState?"onlyApproved":"all"}}));return{rules:a,filters:e,serializedFilters:r}}};n("651c");const FE=C()(RE,[["render",qE],["__scopeId","data-v-6481ca56"]]);var zE=FE,GE=function(e){return Object(o["pushScopeId"])("data-v-0eaa3b18"),e=e(),Object(o["popScopeId"])(),e},QE=GE((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function HE(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("project-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),u=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-text"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("oxd-divider"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{module:"time",name:"project",prefetch:null!==n.project,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(v,{"filter-title":e.$t("time.project_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.project=e}),rules:a.rules.project,label:e.$t("time.project_name"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.toDate=e}),label:" ",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:a.filters.includeTimesheet,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeTimesheet=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),QE]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["prefetch","filters"])}var WE={project:null,fromDate:null,toDate:null,includeTimesheet:!1},YE={components:{"reports-table":kj,"oxd-switch-input":Or["a"],"project-autocomplete":pD},props:{project:{type:Object,required:!1,default:null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup:function(e){var t=Object(o["ref"])(Object(R["a"])(Object(R["a"])({},WE),{},{fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet},e.project&&{project:e.project})),n=Wh(),a=n.$t,r={project:[St],fromDate:[$t(),Wt((function(){return t.value.toDate}),a("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$t(),Pt((function(){return t.value.fromDate}),a("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},l=Object(o["computed"])((function(){var e;return{projectId:null===(e=t.value.project)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,includeTimesheet:t.value.includeTimesheet?"onlyApproved":"all"}}));return{rules:r,filters:t,serializedFilters:l}}};n("250e");const JE=C()(YE,[["render",HE],["__scopeId","data-v-0eaa3b18"]]);var XE=JE,ZE=function(e){return Object(o["pushScopeId"])("data-v-86e3a84c"),e=e(),Object(o["popScopeId"])(),e},KE=ZE((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function eT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("project-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("activity-dropdown"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("date-input"),b=Object(o["resolveComponent"])("oxd-text"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{module:"time",name:"activity_detailed",prefetch:!0,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(C,{"filter-title":e.$t("time.project_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.project=e}),rules:a.rules.project,label:e.$t("time.project_name"),required:"",disabled:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.activity,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.activity=e}),rules:a.rules.activity,label:e.$t("time.activity_name"),"project-id":a.filters.project&&a.filters.project.id,required:""},null,8,["modelValue","rules","label","project-id"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range"),disabled:""},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.toDate=e}),label:" ",placeholder:e.$t("general.to"),rules:a.rules.toDate,disabled:""},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:a.filters.includeTimesheet,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.includeTimesheet=e}),disabled:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.back"),onClick:a.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(O,{label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),KE]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var tT={project:null,activity:null,fromDate:null,toDate:null,includeTimesheet:!1},nT={components:{"reports-table":kj,"oxd-switch-input":Or["a"],"activity-dropdown":uD,"project-autocomplete":pD},props:{project:{type:Object,required:!0},activity:{type:Object,required:!0},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup:function(e){var t=Wh(),n=t.$t,a=Object(o["ref"])(Object(R["a"])(Object(R["a"])(Object(R["a"])({},tT),{},{fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet},e.project&&{project:e.project}),e.activity&&{activity:e.activity})),r={project:[St],activity:[St],fromDate:[$t(),Wt((function(){return a.value.toDate}),n("attendance.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$t(),Pt((function(){return a.value.fromDate}),n("attendance.to_date_should_be_after_from_date"),{allowSameDate:!0})]},l=Object(o["computed"])((function(){var e,t;return{projectId:null===(e=a.value.project)||void 0===e?void 0:e.id,activityId:null===(t=a.value.activity)||void 0===t?void 0:t.id,fromDate:a.value.fromDate,toDate:a.value.toDate,includeTimesheet:a.value.includeTimesheet?"onlyApproved":"all"}})),i=function(){Y("/time/displayProjectReportCriteria",void 0,{projectId:e.project.id,fromDate:e.fromDate,toDate:e.fromDate,includeTimesheet:e.includeTimesheet?"onlyApproved":"all"})};return{rules:r,filters:a,onClickBack:i,serializedFilters:l}}};n("52b3");const oT=C()(nT,[["render",eT],["__scopeId","data-v-86e3a84c"]]);var aT=oT,rT={"time-sheet-period":nS,"customer-list":mS,"customer-save":vS,"customer-edit":NS,"my-timesheet":FD,"edit-timesheet":WD,"project-list":f$,"project-save":S$,"project-edit":cE,"employee-timesheet":xE,"view-employee-timesheet":UE,"employee-time-report":zE,"project-activity-report":XE,"activity-details-report":aT},lT={class:"orangehrm-background-container"},iT={class:"orangehrm-card-container"},cT={class:"orangehrm-paper-container"};function dT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("record-attendance");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lT,[Object(o["createElementVNode"])("div",iT,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_in")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",cT,[Object(o["createVNode"])(d,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16)])])])}function uT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("timezone-dropdown"),p=Object(o["resolveComponent"])("oxd-divider"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createBlock"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[r.attendanceRecord.previousRecord?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(d,{class:Object(o["normalizeClass"])(r.attendanceRecord.previousRecord.note?"":"--span-column-2")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("attendance.punched_in_time")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.attendanceRecord.previousRecord.userDate)+" - "+Object(o["toDisplayString"])(r.attendanceRecord.previousRecord.userTime)+" ",1),Object(o["createVNode"])(i,{tag:"span",class:"orangehrm-attendance-punchedIn-timezone"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])("(GMT ".concat(r.previousRecordTimezone,")")),1)]})),_:1})]})),_:1})]})),_:1},8,["label"])]})),_:1},8,["class"]),r.attendanceRecord.previousRecord.note?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("attendance.punched_in_note")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.attendanceRecord.previousRecord.note),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:r.attendanceRecord.time,modelValue:r.attendanceRecord.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attendanceRecord.date=e}),label:e.$t("general.date"),rules:r.rules.date,disabled:!n.isEditable,type:"date",placeholder:e.$t("general.date_format"),required:""},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendanceRecord.time,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attendanceRecord.time=e}),label:e.$t("general.time"),disabled:!n.isEditable,rules:r.rules.time,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","disabled","rules","placeholder"])]})),_:1})]})),_:1})]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,cols:2},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attendanceRecord.timezone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.attendanceRecord.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendanceRecord.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.attendanceRecord.note=e}),rules:r.rules.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{label:n.attendanceRecordId?e.$t("attendance.out"):e.$t("attendance.in")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])}function sT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{type:"select",options:a.options,label:e.$t("attendance.timezone"),"show-empty-selector":!1},null,8,["options","label"])}var mT={name:"TimezoneDropdown",setup:function(){var e=Object(o["ref"])([]),t=new X(window.appGlobal.baseUrl,"/api/v2/attendance/timezones");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.name,label:"(GMT".concat(e.label,") ").concat(e.name),_offset:parseFloat(e.offset)}}))}))})),{options:e}}};const bT=C()(mT,[["render",sT]]);var pT=bT,fT={date:null,time:null,note:null,timezone:null,previousRecord:null},hT={name:"RecordAttendance",components:{"timezone-dropdown":pT},props:{isEditable:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1},attendanceRecordId:{type:Number,default:null},employeeId:{type:Number,default:null},date:{type:String,default:null}},setup:function(e){var t=e.employeeId?"/api/v2/attendance/employees/".concat(e.employeeId,"/records"):"/api/v2/attendance/records",n=new X(window.appGlobal.baseUrl,t);return{http:n}},data:function(){return{isLoading:!1,attendanceRecord:Object(R["a"])({},fT),rules:{date:[St,Object(Ya["a"])(this.validateDate,500)],time:[St,Object(Ya["a"])(this.validateDate,500)],note:[Dt(250)]},previousRecordTimezone:null}},beforeMount:function(){var e=this;if(this.isLoading=!0,this.isTimezoneEditable){var t=Te();this.attendanceRecord.timezone={id:t.name,label:t.label,_name:t.name,_offset:t.offset}}this.setCurrentDateTime().then((function(){!e.date&&!e.isEditable&&$e(e.setCurrentDateTime,6e4);var t="/api/v2/attendance/records/latest";return e.employeeId&&(t="/api/v2/attendance/records/latest?empNumber=".concat(e.employeeId)),e.attendanceRecordId?e.http.request({method:"GET",url:t}):null})).then((function(t){if(t){var n=t.data.data;e.attendanceRecord.previousRecord=n.punchIn}})).then((function(){var t;e.previousRecordTimezone=Ee(null===(t=e.attendanceRecord.previousRecord)||void 0===t?void 0:t.offset)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=Te();this.http.request({method:this.attendanceRecordId?"PUT":"POST",data:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,note:this.attendanceRecord.note,timezoneOffset:null!==(e=null===(t=this.attendanceRecord.timezone)||void 0===t?void 0:t._offset)&&void 0!==e?e:r.offset,timezoneName:null!==(n=null===(o=this.attendanceRecord.timezone)||void 0===o?void 0:o.id)&&void 0!==n?n:r.name}}).then((function(){return a.$toast.saveSuccess()})).then((function(){a.employeeId?Y("/attendance/viewAttendanceRecord",void 0,{employeeId:a.employeeId,date:a.date}):J()}))},setCurrentDateTime:function(){var e=this;return new Promise((function(t,n){e.http.request({method:"GET",url:"/api/v2/attendance/current-datetime"}).then((function(n){var o,a=n.data.data,r=a.utcDate,l=a.utcTime,i=ge("".concat(r," ").concat(l," +00:00"),"yyyy-MM-dd HH:mm xxx");e.attendanceRecord.date=null!==(o=e.date)&&void 0!==o?o:Ce(i,"yyyy-MM-dd"),e.attendanceRecord.time=Ce(i,"HH:mm"),t()})).catch((function(e){return n(e)}))}))},validateDate:function(){var e=this;if(!this.attendanceRecord.date||!this.attendanceRecord.time)return!0;var t=(new Date).getTimezoneOffset()/60*-1;return new Promise((function(n){var o,a;e.http.request({method:"GET",url:"/api/v2/attendance/".concat(e.attendanceRecordId?"punch-out":"punch-in","/overlaps"),params:{date:e.attendanceRecord.date,time:e.attendanceRecord.time,timezoneOffset:null!==(o=null===(a=e.attendanceRecord.timezone)||void 0===a?void 0:a._offset)&&void 0!==o?o:t,empNumber:e.employeeId},validateStatus:function(e){return e>=200&&e<300||400==e}}).then((function(t){var o=t.data,a=o.data,r=o.error;return r?n(r.message):!0===a.valid?n(!0):n(e.$t("attendance.overlapping_records_found"))}))}))}}};n("fbe4");const jT=C()(hT,[["render",uT],["__scopeId","data-v-143fb71d"]]);var OT=jT,vT={components:{"record-attendance":OT},inheritAttrs:!1};const gT=C()(vT,[["render",dT]]);var CT=gT,yT={class:"orangehrm-background-container"},VT={class:"orangehrm-card-container"},xT={class:"orangehrm-paper-container"};function wT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("record-attendance");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yT,[Object(o["createElementVNode"])("div",VT,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_out")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",xT,[Object(o["createVNode"])(d,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16)])])])}var NT={components:{"record-attendance":OT},inheritAttrs:!1};const _T=C()(NT,[["render",wT]]);var kT=_T,ST={class:"orangehrm-background-container"},DT={class:"orangehrm-card-container"},$T={class:"orangehrm-header"},ET={class:"orangehrm-paper-container"};function TT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("timezone-dropdown"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ST,[Object(o["createElementVNode"])("div",DT,[Object(o["createElementVNode"])("div",$T,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.edit_attendance_records")),1)]})),_:1}),l.totalDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,tag:"span",class:"orangehrm-header-total"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(l.totalDuration),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",ET,[Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid no-gap"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_in")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchIn.userDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attendance.punchIn.userDate=e}),label:e.$t("general.date"),rules:r.rules.punchIn.userDate,type:"date",placeholder:e.$t("general.date_format"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchIn.userTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attendance.punchIn.userTime=e}),label:e.$t("general.time"),rules:r.rules.punchIn.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchIn.timezone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.attendance.punchIn.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchIn.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.attendance.punchIn.note=e}),rules:r.rules.punchIn.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),r.attendance.punchOut?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_out")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchOut.userDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.attendance.punchOut.userDate=e}),label:e.$t("general.date"),rules:r.rules.punchOut.userDate,type:"date",placeholder:e.$t("general.date_format"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchOut.userTime,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.attendance.punchOut.userTime=e}),label:e.$t("general.time"),rules:r.rules.punchOut.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchOut.timezone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.attendance.punchOut.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attendance.punchOut.note,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.attendance.punchOut.note=e}),rules:r.rules.punchOut.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])])}var IT={userDate:null,userTime:null,utcDate:null,utcTime:null,note:null,timezone:null,timezoneOffset:null},BT={components:{"timezone-dropdown":pT},props:{attendanceId:{type:Number,required:!0},isEmployeeEdit:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1}},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/attendance/records");return{http:e}},data:function(){var e=this;return{isLoading:!1,attendance:{employee:null,punchIn:Object(R["a"])({},IT),punchOut:Object(R["a"])({},IT)},rules:{punchIn:{userDate:[St,Object(Ya["a"])((function(){return e.validateRecord("punch-in-overlaps")}),500)],userTime:[St,Object(Ya["a"])((function(){return e.validateRecord("punch-in-overlaps")}),500)],note:[Dt(250)]},punchOut:{userDate:[St,Object(Ya["a"])((function(){return e.validateRecord("punch-out-overlaps")}),500)],userTime:[St,Object(Ya["a"])((function(){return e.validateRecord("punch-out-overlaps")}),500)],note:[Dt(250)]}}}},computed:{totalDuration:function(){var e,t,n,o,a;if(null===(e=this.attendance.punchOut)||void 0===e||!e.userDate)return null;var r="".concat(this.attendance.punchIn.userDate," ").concat(this.attendance.punchIn.userTime),l=null!==(t=null===(n=this.attendance.punchIn.timezone)||void 0===n?void 0:n._offset)&&void 0!==t?t:parseFloat(this.attendance.punchIn.timezoneOffset),i=(l>0?" +":" -")+Se(3600*Math.abs(l)),c="".concat(this.attendance.punchOut.userDate," ").concat(this.attendance.punchOut.userTime),d=null!==(o=null===(a=this.attendance.punchOut.timezone)||void 0===a?void 0:a._offset)&&void 0!==o?o:parseFloat(this.attendance.punchOut.timezoneOffset),u=(d>0?" +":" -")+Se(3600*Math.abs(d));return parseFloat(ke(r+i,c+u,"yyyy-MM-dd HH:mm xxx")/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.attendanceId).then((function(t){var n,o=t.data.data;e.attendance.employee=o.employee,e.attendance.punchIn=Object(R["a"])(Object(R["a"])({},o.punchIn),{},{timezone:{id:o.punchIn.timezone.name,label:o.punchIn.timezone.label,_offset:o.punchIn.timezoneOffset}}),e.attendance.punchOut=null!==(n=o.punchOut)&&void 0!==n&&n.userDate?Object(R["a"])(Object(R["a"])({},o.punchOut),{},{timezone:{id:o.punchOut.timezone.name,label:o.punchOut.timezone.label,_offset:o.punchOut.timezoneOffset}}):null})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){var e,t,n;this.isEmployeeEdit?Y("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.attendance.employee)||void 0===e?void 0:e.empNumber,date:null===(t=this.attendance.punchIn)||void 0===t?void 0:t.userDate}):Y("/attendance/viewMyAttendanceRecord",void 0,{date:null===(n=this.attendance.punchIn)||void 0===n?void 0:n.userDate})},onSave:function(){var e=this;this.isLoading=!0;var t=Object(R["a"])({punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchInNote:this.attendance.punchIn.note},this.isTimezoneEditable&&{punchInOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInTimezoneName:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone.id:this.attendance.punchIn.timezone.name});this.attendance.punchOut&&(t.punchOutDate=this.attendance.punchOut.userDate,t.punchOutTime=this.attendance.punchOut.userTime,t.punchOutNote=this.attendance.punchOut.note,this.isTimezoneEditable&&(t.punchOutOffset=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone._offset:this.attendance.punchOut.timezoneOffset,t.punchOutTimezoneName=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone.id:this.attendance.punchOut.timezone.name)),this.http.update(this.attendanceId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},validateRecord:function(e){var t=this;return new Promise((function(n){var o,a,r,l;t.http.request({method:"GET",url:"api/v2/attendance/records/".concat(e),params:{recordId:t.attendanceId,punchInTimezoneOffset:t.attendance.punchIn.timezone?t.attendance.punchIn.timezone._offset:t.attendance.punchIn.timezoneOffset,punchInDate:t.attendance.punchIn.userDate,punchInTime:t.attendance.punchIn.userTime,punchOutTimezoneOffset:null!==(o=t.attendance.punchOut)&&void 0!==o&&o.timezone?t.attendance.punchOut.timezone._offset:null===(a=t.attendance.punchOut)||void 0===a?void 0:a.timezoneOffset,punchOutDate:null===(r=t.attendance.punchOut)||void 0===r?void 0:r.userDate,punchOutTime:null===(l=t.attendance.punchOut)||void 0===l?void 0:l.userTime},validateStatus:function(e){return e>=200&&e<300||400==e}}).then((function(e){var o=e.data,a=o.data,r=o.error;return r?n(r.message):!0===a.valid?n(!0):n(t.$t("attendance.overlapping_records_found"))}))}))}}};n("ee5a");const LT=C()(BT,[["render",TT],["__scopeId","data-v-2466a10d"]]);var UT=LT,AT=function(e){return Object(o["pushScopeId"])("data-v-b242362e"),e=e(),Object(o["popScopeId"])(),e},PT=AT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),qT={class:"orangehrm-paper-container"},MT={class:"orangehrm-header-container"},RT={class:"orangehrm-container"},FT={class:"orangehrm-bottom-container"};function zT(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("date-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("oxd-text"),v=Object(o["resolveComponent"])("table-header"),g=Object(o["resolveComponent"])("oxd-card-table"),C=Object(o["resolveComponent"])("oxd-pagination"),y=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(j,{"filter-title":e.$t("attendance.my_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.date=e}),rules:a.rules.date,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),PT,Object(o["createElementVNode"])("div",qT,[Object(o["createElementVNode"])("div",MT,[Object(o["createVNode"])(O,{class:"orangehrm-header-total",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(a.totalDuration),1)]})),_:1})]),Object(o["createVNode"])(v,{total:a.total,loading:a.isLoading,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(o["createElementVNode"])("div",RT,[Object(o["createVNode"])(g,{selected:r.checkedItems,"onUpdate:selected":t[1]||(t[1]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:n.isEditable,clickable:!1,loading:a.isLoading,class:"orangehrm-my-attendance","row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",FT,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(y,{ref:"deleteDialog"},null,512)])],64)}var GT={class:"oxd-table-card-cell"},QT={class:"data"};function HT(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",GT,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"header"},Object(o["toDisplayString"])(n.header.title),513),[[o["vShow"],l.showHeader]]),Object(o["createElementVNode"])("div",QT,[Object(o["createVNode"])(i,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.date)+" "+Object(o["toDisplayString"])(n.time)+" ",1),Object(o["createVNode"])(i,{tag:"span",class:"timezone"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" GMT "+Object(o["toDisplayString"])(n.offset?n.offset:"00:00"),1)]})),_:1})]})),_:1})])],512)),[[o["vShow"],n.date]])}var WT={name:"RecordCell",inject:["screenState"],props:{header:{type:Object,required:!0},date:{type:String,default:null},time:{type:String,default:null},offset:{type:String,default:null}},computed:{showHeader:function(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};n("f94a");const YT=C()(WT,[["render",HT],["__scopeId","data-v-1a8693ce"]]);var JT=YT,XT=function(e){return e.map((function(e){var t=e.punchIn,n=e.punchOut;return{id:e.id,punchIn:t,punchOut:n,punchInNote:t.note,punchOutNote:n.note,duration:e.duration}}))},ZT={components:{"delete-confirmation":ut},props:{date:{type:String,default:null},isEditable:{type:Boolean,default:!1}},setup:function(e){var t={date:[St]},n=Object(o["ref"])({date:e.date?e.date:Ce(ve(),"yyyy-MM-dd")}),a=Object(o["computed"])((function(){return{date:n.value.date}})),r=new X(window.appGlobal.baseUrl,"api/v2/attendance/records"),l=ot(r,{query:a,normalizer:XT}),i=l.total,c=l.pages,d=l.pageSize,u=l.response,s=l.isLoading,m=l.execQuery,b=l.currentPage,p=l.showPaginator,f=Object(o["computed"])((function(){var e,t=null===(e=u.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"}));return{http:r,rules:t,total:i,pages:c,filters:n,pageSize:d,isLoading:s,execQuery:m,currentPage:b,showPaginator:p,items:u,totalDuration:f}},data:function(){return{headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},Object(R["a"])({},this.isEditable&&{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}})],checkedItems:[]}},methods:{cellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:JT,props:{date:e.userDate,time:e.userTime,offset:Ee(e.offset)}}},onClickEdit:function(e){Y("/attendance/editAttendanceRecord/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("ce39");const KT=C()(ZT,[["render",zT],["__scopeId","data-v-b242362e"]]);var eI=KT,tI={class:"orangehrm-background-container"},nI={class:"orangehrm-card-container"},oI={class:"orangehrm-attendance-field-row"},aI={class:"orangehrm-attendance-field-row"},rI={class:"orangehrm-attendance-field-row"};function lI(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tI,[Object(o["createElementVNode"])("div",nI,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.attendance_configuration")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",oI,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.employee_can_change_current_time_when_punching_in_out")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.config.canUserChangeCurrentTime,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.config.canUserChangeCurrentTime=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",aI,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.employee_can_edit_delete_own_attendance_records")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.config.canUserModifyAttendance,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.config.canUserModifyAttendance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",rI,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.supervisor_can_add_edit_delete_attendance_records_of_subordinates")),1)]})),_:1}),Object(o["createVNode"])(d,{modelValue:r.config.canSupervisorModifyAttendance,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.config.canSupervisorModifyAttendance=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var iI={canUserChangeCurrentTime:!1,canUserModifyAttendance:!1,canSupervisorModifyAttendance:!1},cI={components:{"oxd-switch-input":Or["a"]},setup:function(){var e=new X(window.appGlobal.baseUrl,"api/v2/attendance/configs");return{http:e}},data:function(){return{config:Object(R["a"])({},iI),isLoading:!1}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.config=Object(R["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(R["a"])({},this.config)}).then((function(t){var n=t.data.data;return e.config=Object(R["a"])({},n),e.$toast.saveSuccess()})).finally((function(){e.isLoading=!1}))}}};n("dcc0");const dI=C()(cI,[["render",lI],["__scopeId","data-v-52cae054"]]);var uI=dI,sI=Object(o["createElementVNode"])("br",null,null,-1);function mI(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-autocomplete"),c=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("jobtitle-dropdown"),u=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("employment-status-dropdown"),m=Object(o["resolveComponent"])("date-input"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{module:"time",name:"attendance",prefetch:!1,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(r){var l=r.generateReport;return[Object(o["createVNode"])(v,{"filter-title":e.$t("attendance.attendance_total_summary_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.empStatus,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.empStatus=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("general.date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.toDate=e}),label:" ",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),sI]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var bI={employee:null,fromDate:null,toDate:null,jobTitle:null,subunit:null,empStatus:null},pI={components:{"reports-table":kj,"jobtitle-dropdown":Gi,"employee-autocomplete":Ba,"employment-status-dropdown":Ki},props:{subunits:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(o["ref"])(Object(R["a"])({},bI)),t=Wh(),n=t.$t,a={fromDate:[$t(),Wt((function(){return e.value.toDate}),n("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$t(),Pt((function(){return e.value.fromDate}),n("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=Object(o["computed"])((function(){var t,n,o,a;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,fromDate:e.value.fromDate,toDate:e.value.toDate,jobTitleId:null===(n=e.value.jobTitle)||void 0===n?void 0:n.id,subunitId:null===(o=e.value.subunit)||void 0===o?void 0:o.id,employmentStatusId:null===(a=e.value.empStatus)||void 0===a?void 0:a.id}}));return{rules:a,filters:e,serializedFilters:r}}};const fI=C()(pI,[["render",mI]]);var hI=fI,jI=function(e){return Object(o["pushScopeId"])("data-v-7c1cc7e6"),e=e(),Object(o["popScopeId"])(),e},OI=jI((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),vI={class:"orangehrm-paper-container"},gI={class:"orangehrm-container"},CI={class:"orangehrm-bottom-container"};function yI(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("table-header"),g=Object(o["resolveComponent"])("oxd-card-table"),C=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(O,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.date=e}),rules:a.rules.date,years:r.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),OI,Object(o["createElementVNode"])("div",vI,[Object(o["createVNode"])(v,{total:a.total,selected:0,loading:a.isLoading,"show-divider":!1},null,8,["total","loading"]),Object(o["createElementVNode"])("div",gI,[Object(o["createVNode"])(g,{headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",CI,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])],64)}var VI=function(e){return e.map((function(e){var t;return{id:e.empNumber,empName:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName,"\n          ").concat(null!==e&&void 0!==e&&e.terminationId?" (Past Employee)":""),duration:null===(t=e.sum)||void 0===t?void 0:t.label}}))},xI={components:{"employee-autocomplete":Ba},props:{date:{type:String,default:null}},setup:function(e){var t={date:[St]},n=Object(o["ref"])({date:e.date?e.date:Ce(ve(),"yyyy-MM-dd"),employee:null}),a=Object(o["computed"])((function(){var e;return{date:n.value.date,empNumber:null===(e=n.value.employee)||void 0===e?void 0:e.id}})),r=new X(window.appGlobal.baseUrl,"api/v2/attendance/employees/summary"),l=ot(r,{query:a,normalizer:VI}),i=l.total,c=l.pages,d=l.response,u=l.isLoading,s=l.execQuery,m=l.currentPage,b=l.showPaginator;return{http:r,rules:t,total:i,pages:c,filters:n,isLoading:u,execQuery:s,currentPage:m,showPaginator:b,items:d}},data:function(){return{yearArray:Object(qm["a"])(Mm()),headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"duration",title:this.$t("time.total_duration"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.filters.employee||!e.filters.date){t.next=2;break}return t.abrupt("return",Y("/attendance/viewAttendanceRecord",void 0,{employeeId:e.filters.employee.id,date:e.filters.date}));case 2:return t.next=4,e.execQuery();case 4:case"end":return t.stop()}}),t)})))()},onClickView:function(e){Y("/attendance/viewAttendanceRecord",void 0,{employeeId:e.id,date:this.filters.date})}}};n("5ee6");const wI=C()(xI,[["render",yI],["__scopeId","data-v-7c1cc7e6"]]);var NI=wI,_I=Object(o["createElementVNode"])("br",null,null,-1),kI={class:"orangehrm-paper-container"},SI={key:0,class:"orangehrm-header-container"},DI={class:"orangehrm-container"},$I={class:"orangehrm-bottom-container"};function EI(e,t,n,a,r,l){var i,c=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("oxd-text"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(O,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:l.onClickView},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.date=e}),rules:a.rules.date,years:r.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),_I,Object(o["createElementVNode"])("div",kI,[n.isEditable&&a.filters.employee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",SI,[Object(o["createVNode"])(f,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"]),Object(o["createVNode"])(v,{class:"orangehrm-header-total",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(a.totalDuration),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(g,{total:a.total,loading:a.isLoading,"show-divider":n.isEditable,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","show-divider","selected","onDelete"]),Object(o["createElementVNode"])("div",DI,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[2]||(t[2]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(i=a.items)||void 0===i?void 0:i.data,selectable:n.isEditable,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",$I,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])],64)}var TI=function(e){return e.map((function(e){var t=e.punchIn,n=e.punchOut;return{id:e.id,punchIn:t,punchOut:n,punchInNote:t.note,punchOutNote:n.note,duration:e.duration}}))},II={components:{"employee-autocomplete":Ba,"delete-confirmation":ut},props:{date:{type:String,default:null},employee:{type:Object,required:!0},isEditable:{type:Boolean,default:!1}},setup:function(e){var t={date:[St]},n=Object(o["ref"])({date:e.date?e.date:Ce(ve(),"yyyy-MM-dd"),employee:e.employee?{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}:null}),a=Object(o["computed"])((function(){var e;return{date:n.value.date,empNumber:null===(e=n.value.employee)||void 0===e?void 0:e.id}})),r=new X(window.appGlobal.baseUrl,"api/v2/attendance/employees/".concat(e.employee.empNumber,"/records")),l=ot(r,{query:a,normalizer:TI,prefetch:!0}),i=l.total,c=l.pages,d=l.pageSize,u=l.response,s=l.isLoading,m=l.execQuery,b=l.currentPage,p=l.showPaginator,f=Object(o["computed"])((function(){var e,t=null===(e=u.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"}));return{http:r,rules:t,total:i,pages:c,filters:n,pageSize:d,isLoading:s,execQuery:m,currentPage:b,showPaginator:p,items:u,totalDuration:f}},data:function(){return{yearArray:Object(qm["a"])(Mm()),headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},Object(R["a"])({},this.isEditable&&{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}})],checkedItems:[]}},methods:{cellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:JT,props:{date:e.userDate,time:e.userTime,offset:Ee(e.offset)}}},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickView:function(){var e,t;return Y("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickAdd:function(){var e,t;return Y("/attendance/proxyPunchInPunchOut",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickEdit:function(e){return Y("/attendance/editEmployeeAttendanceRecord/{id}",{id:e.id})}}};const BI=C()(II,[["render",EI]]);var LI=BI,UI={"attendance-punch-in":CT,"attendance-punch-out":kT,"edit-attendance":UT,"view-my-attendance":eI,"attendance-configuration":uI,"attendance-summary-report":hI,"view-employee-attendance-summary":NI,"view-employee-attendance-detailed":LI},AI={class:"orangehrm-background-container"},PI=Object(o["createElementVNode"])("br",null,null,-1),qI={key:1};function MI(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("purge-employee-records"),c=Object(o["resolveComponent"])("selected-employee"),d=Object(o["resolveComponent"])("maintenance-note"),u=Object(o["resolveComponent"])("purge-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",AI,[Object(o["createVNode"])(i,{"include-employees-param":"onlyPast","title-label":e.$t("maintenance.purge_employee_records"),"autocomplete-label":e.$t("maintenance.past_employee"),onSearch:l.onClickSearch},null,8,["title-label","autocomplete-label","onSearch"]),PI,r.showPurgeableEmployee?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,loading:r.isLoading,"selected-employee":r.selectedEmployee,"button-label":e.$t("maintenance.purge"),onSubmit:l.onClickPurge},null,8,["loading","selected-employee","button-label","onSubmit"])):Object(o["createCommentVNode"])("",!0),r.showPurgeableEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",qI)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,{"instance-identifier":n.instanceIdentifier},null,8,["instance-identifier"]),Object(o["createVNode"])(u,{ref:"purgeDialog",title:e.$t("maintenance.purge_employee"),subtitle:e.$t("maintenance.purge_employee_warning"),"cancel-label":e.$t("general.no_cancel"),"confirmation-label":e.$t("maintenance.yes_purge"),icon:""},null,8,["title","subtitle","cancel-label","confirmation-label"])])}var RI={class:"orangehrm-card-container"},FI={class:"orangehrm-selected-employee"},zI={class:"orangehrm-selected-employee-imagesection"},GI={class:"orangehrm-selected-employee-image-wrapper"},QI={class:"orangehrm-selected-employee-image"},HI=["src"],WI={class:"orangehrm-selected-employee-content"};function YI(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("full-name-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",RI,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("maintenance.selected_employee")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{loading:n.loading,onSubmit:l.emitEmpNumber},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",FI,[Object(o["createElementVNode"])("div",zI,[Object(o["createElementVNode"])("div",GI,[Object(o["createElementVNode"])("div",QI,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,HI)])])]),Object(o["createElementVNode"])("div",WI,[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"first-name":n.selectedEmployee.firstName,"middle-name":n.selectedEmployee.middleName,"last-name":n.selectedEmployee.lastName,rules:r.rules,"show-middle-name-placeholder":!1,disabled:""},null,8,["first-name","middle-name","last-name","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"model-value":n.selectedEmployee.employeeId,label:e.$t("general.employee_id"),rules:r.rules.employeeId,disabled:""},null,8,["model-value","label","rules"])]})),_:1})]})),_:1})]})),_:1})])]),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{"display-type":"secondary",label:n.buttonLabel,type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmit"])])}var JI={name:"SelectedEmployee",components:{"full-name-input":_i},props:{selectedEmployee:{type:Object,required:!0},buttonLabel:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["submit"],setup:function(e){var t=Object(o["computed"])((function(){return"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.selectedEmployee.empNumber)}));return{imgSrc:t}},data:function(){return{rules:{firstName:[Dt(30)],middleName:[Dt(30)],lastName:[Dt(30)],employeeId:[Dt(10)]}}},methods:{emitEmpNumber:function(){this.$emit("submit",this.selectedEmployee.empNumber)}}};n("d575");const XI=C()(JI,[["render",YI],["__scopeId","data-v-355d4afa"]]);var ZI=XI,KI={class:"orangehrm-card-container"};function eB(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",KI,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.titleLabel),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(h,{onSubmit:l.emitEmployee},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employee=e}),rules:r.rules.employee,params:{includeEmployees:n.includeEmployeesParam},label:n.autocompleteLabel,required:""},null,8,["modelValue","rules","params","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmit"])])}var tB={name:"EmployeeRecords",components:{"required-text":I,"employee-autocomplete":Ba},props:{includeEmployeesParam:{type:String,required:!0},titleLabel:{type:String,required:!0},autocompleteLabel:{type:String,required:!0}},emits:["search"],data:function(){return{employee:null,rules:{employee:[St]}}},methods:{emitEmployee:function(){var e;this.$emit("search",null===(e=this.employee)||void 0===e?void 0:e._employee)}}};const nB=C()(tB,[["render",eB]]);var oB=nB,aB={class:"orangehrm-modal-header"},rB={class:"orangehrm-text-center-align"},lB={class:"orangehrm-modal-footer"};function iB(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text"),c=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"orangehrm-confirmation-dialog","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",aB,[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]})),_:1})]),Object(o["createElementVNode"])("div",rB,[Object(o["createVNode"])(i,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.subtitle),1)]})),_:1})]),Object(o["createElementVNode"])("div",lB,[Object(o["createVNode"])(c,{label:n.cancelLabel,"display-type":"text",class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(c,{label:n.confirmationLabel,"icon-name":n.icon,"display-type":"label-danger",class:"orangehrm-button-margin",onClick:l.onConfirm},null,8,["label","icon-name","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var cB={components:{"oxd-dialog":K["a"]},props:{title:{type:String,required:!0},subtitle:{type:String,required:!0},cancelLabel:{type:String,required:!0},confirmationLabel:{type:String,required:!0},icon:{type:String,required:!0}},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("809c"),n("ed1c");const dB=C()(cB,[["render",iB],["__scopeId","data-v-ac340022"]]);var uB=dB,sB={class:"orangehrm-maintenance-note"},mB={class:"orangehrm-maintenance-note-header"};function bB(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sB,[Object(o["createElementVNode"])("div",mB,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note")),1)]})),_:1})]),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("maintenance.gdpr_note",{instanceIdentifier:n.instanceIdentifier})),1)]})),_:1})])}var pB={name:"MaintenanceNote",props:{instanceIdentifier:{type:String,required:!0}}};n("22a8");const fB=C()(pB,[["render",bB],["__scopeId","data-v-665404f0"]]);var hB=fB,jB={firstName:"",middleName:"",lastName:"",employeeId:"",empNumber:""},OB={name:"PurgeEmployee",components:{"purge-confirmation":uB,"purge-employee-records":oB,"selected-employee":ZI,"maintenance-note":hB},props:{instanceIdentifier:{type:String,default:""}},setup:function(){var e=new X(window.appGlobal.baseUrl,"/api/v2/maintenance/purge");return{http:e}},data:function(){return{isLoading:!1,showPurgeableEmployee:!1,selectedEmployee:Object(R["a"])({},jB)}},methods:{onClickSearch:function(e){this.selectedEmployee=Object(R["a"])({},jB),e?(this.selectedEmployee=Object(R["a"])({},e),this.showPurgeableEmployee=!0):this.showPurgeableEmployee=!1},onClickPurge:function(e){var t=this;this.$refs.purgeDialog.showDialog().then((function(n){"ok"===n&&t.purgeEmployee(e)}))},purgeEmployee:function(e){var t=this;this.isLoading=!0,this.http.deleteAll({empNumber:e}).then((function(){return t.$toast.success({title:t.$t("general.success"),message:t.$t("maintenance.purge_success")})})).then((function(){t.showPurgeableEmployee=!1,t.selectedEmployee=Object(R["a"])({},jB),t.isLoading=!1,Y("/maintenance/purgeEmployee")}))}}};const vB=C()(OB,[["render",MI]]);var gB=vB,CB=(n("841c"),{key:0,class:"orangehrm-background-container"}),yB={key:1};function VB(e,t,n,a,r,l){var i=Object(o["resolveComponent"])("employee-records"),c=Object(o["resolveComponent"])("selected-employee"),d=Object(o["resolveComponent"])("maintenance-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,{"title-label":e.$t("maintenance.download_personal_data"),"include-employees-param":"currentAndPast","autocomplete-label":e.$t("general.employee_name"),onSearch:l.search},null,8,["title-label","autocomplete-label","onSearch"]),r.employee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",CB,[Object(o["createVNode"])(c,{"button-label":e.$t("general.download"),"selected-employee":r.employee,onSubmit:l.downloadEmployeeData},null,8,["button-label","selected-employee","onSubmit"])])):Object(o["createCommentVNode"])("",!0),r.employee?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",yB)),Object(o["createVNode"])(d,{"instance-identifier":n.instanceIdentifier},null,8,["instance-identifier"])],64)}var xB={components:{"employee-records":oB,"selected-employee":ZI,"maintenance-note":hB},props:{instanceIdentifier:{type:String,default:""}},data:function(){return{employee:null}},methods:{search:function(e){this.employee=e},downloadEmployeeData:function(e){var t="".concat(window.appGlobal.baseUrl,"/maintenance/accessEmployeeData/").concat(e);window.open(t,"_blank")}}};const wB=C()(xB,[["render",VB]]);var NB=wB,_B={"purge-employee":gB,"access-employee-search":NB},kB=Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])(Object(R["a"])({"job-title-list":ht,"job-title-edit":sn,"job-title-save":On,"job-category-list":_n,"job-category-edit":Tn,"job-category-save":Pn,"qualification-education-list":dl,"qualification-education-edit":fl,"qualification-education-save":Cl},Va),{},{"system-user-list":qa,"system-user-edit":lr,"system-user-save":Ka,"organization-structure":Tr,"employment-status-list":Wr,"employment-status-save":el,"employment-status-edit":Pr,"qualification-skill-list":Dl,"qualification-skill-edit":Ul,"qualification-skill-save":zl,"license-list":si,"license-save":ni,"license-edit":Jl,"module-configuration-edit":x_},Gj),Mw),CO),{},{"qualification-language-list":RO,"qualification-language-edit":_O,"qualification-language-save":TO,"qualification-membership-list":XO,"qualification-membership-edit":ov,"qualification-membership-save":dv,"organization-general-information-view":hv,"nationality-list":wv,"nationality-edit":$v,"nationality-save":Uv,"location-list":eN,"location-save":iN,"location-edit":pN,"email-configuration-view":Qv},Sg),Mw),{},{"pay-grade-list":xN,"pay-grade-add":DN,"pay-grade-edit":d_,"work-shift-list":I_,"work-shift-save":G_,"work-shift-edit":K_,"email-subscription-list":dk,"email-subscription-edit":Dk,"localization-configuration":Uk},Yk),rT),UI),_B),SB=function(e){return function(){var t=Object(o["getCurrentInstance"])();if(!t)throw new Error("Vue app context not found!");var n=Object(o["inject"])("permissions",void 0);if(n){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return r.reduce((function(t,o){return t&&Boolean(n[o])&&n[o][e]}),!0)}return!1}};function DB(){return{beforeCreate:function(){this.$can={read:SB("canRead"),create:SB("canCreate"),update:SB("canUpdate"),delete:SB("canDelete")}}}}var $B={install:function(e){e.mixin(DB())}},EB=n("0c6d"),TB=n("9b9c"),IB=n("e1bd"),BB=xt(),LB=Object(o["reactive"])({toasts:[],transition:"",class:"",position:""}),UB=Object(o["defineComponent"])({name:"OxdToaster",setup:function(){return Object(R["a"])({},Object(o["toRefs"])(LB))},computed:{classes:function(){return Object(mh["a"])({"oxd-toast-container":!0},"oxd-toast-container--".concat(this.position),!0)}},methods:{onUpdateShow:function(e,t){!1===e&&this.toasts.splice(t,1)}},render:function(){var e=this;return Object(o["h"])(o["TransitionGroup"],{appear:!0,name:this.transition,tag:"div",class:this.classes},{default:function(){return e.toasts.map((function(t,n){return Object(o["h"])(EB["a"],{key:t.id,type:t.type,title:t.title,message:t.message,show:t.show,class:e.class,"onUpdate:show":function(t){return e.onUpdateShow(t,n)}})}))}})}}),AB={install:function(e,t){var n=document.createElement("oxd-toaster");n.id="oxd-toaster_1",document.getElementById("app").appendChild(n);var o=function e(t){if("string"===typeof t){var n=LB.toasts.findIndex((function(e){return e.id===t}));n>-1&&e(n)}else LB.toasts[t]&&LB.toasts.splice(t,1)},a=function(e){return new Promise((function(n){var a=Object(IB["a"])(8);if(LB.toasts.push(Object(R["a"])(Object(R["a"])({},e),{},{id:a})),t.persist)n(a);else{var r=t.duration?t.duration:2500;setTimeout((function(){o(a),n(a)}),r)}}))},r=function(e){return a(Object(R["a"])({id:"",type:TB["f"],show:!0},e))},l=function(e){return a(Object(R["a"])({id:"",type:TB["d"],show:!0},e))},i=function(e){return a(Object(R["a"])({id:"",type:TB["e"],show:!0},e))},c=function(e){return a(Object(R["a"])({id:"",type:TB["g"],show:!0},e))},d=function(e){return a(Object(R["a"])({id:"",type:TB["c"],show:!0},e))},u=function(){LB.toasts=[]},s=function(){return r({title:BB("general.success"),message:BB("general.successfully_saved")})},m=function(){return r({title:BB("general.success"),message:BB("general.successfully_added")})},b=function(){return r({title:BB("general.success"),message:BB("general.successfully_updated")})},p=function(){return r({title:BB("general.success"),message:BB("general.successfully_deleted")})},f=function(){return l({title:BB("general.error"),message:BB("general.cannot_be_deleted")})},h=function(){return i({title:BB("general.info"),message:BB("general.no_records_found")})},j=function(e){return l({title:BB("general.error"),message:null!==e&&void 0!==e?e:BB("general.unexpected_error")})};LB.class=t.class?t.class:"oxd-toast-container--toast",LB.transition=t.animation?t.animation:"oxd-toast-list",LB.position=t.position?t.position:"bottom",e.component("OxdToaster",UB);var O={notify:a,show:d,success:r,error:l,info:i,warn:c,clear:o,clearAll:u,saveSuccess:s,addSuccess:m,updateSuccess:b,deleteSuccess:p,cannotDelete:f,noRecordsFound:h,unexpectedError:j};e.config.globalProperties.$toast=O}},PB=n("1f85"),qB=Object(o["reactive"])({show:!1}),MB=Object(o["defineComponent"])({name:"OxdLoader",setup:function(){return Object(R["a"])({},Object(o["toRefs"])(qB))},render:function(){var e=this;return Object(o["h"])(o["Transition"],{name:"orangehrm-loader-fade",tag:"div"},{default:function(){if(e.show)return Object(o["h"])(PB["a"],{show:!0,centered:!0,class:"orangehrm-loader"},Object(o["h"])(Z["a"],{withContainer:!1}))}})}}),RB={install:function(e){var t=document.createElement("oxd-loader");t.id="oxd-loader_1",document.getElementById("app").appendChild(t);var n=function(){qB.show=!0},o=function(){qB.show=!1};e.component("OxdLoader",MB);var a={startLoading:n,endLoading:o};e.config.globalProperties.$loader=a}},FB=(n("f897"),n("0b18"),Object(o["createApp"])({name:"App",components:kB}));FB.use(Me),FB.use(AB,{duration:2500,persist:!1,animation:"oxd-toast-list",position:"bottom"});var zB=window.appGlobal.baseUrl,GB=_t({baseUrl:zB,resourceUrl:"core/i18n/messages"}),QB=GB.i18n,HB=GB.init;FB.use(RB),FB.use($B),FB.use(QB),FB.config.globalProperties.global={baseUrl:zB},HB().then((function(){return FB.mount("#app")}))},ce39:function(e,t,n){"use strict";n("8cb9")},cef8:function(e,t,n){},cff8:function(e,t,n){"use strict";n("4b50")},d209:function(e,t,n){},d387:function(e,t,n){},d47d:function(e,t,n){},d575:function(e,t,n){"use strict";n("4886")},d80c:function(e,t,n){"use strict";n("c227")},da8c:function(e,t,n){},db37:function(e,t,n){"use strict";n("e1a9")},dbe9:function(e,t,n){"use strict";n("24ed")},dbf8:function(e,t,n){},dcc0:function(e,t,n){"use strict";n("3e86")},de1d:function(e,t,n){},de2f:function(e,t,n){"use strict";n("35d7")},df3b:function(e,t,n){"use strict";n("29a0")},e0034:function(e,t,n){"use strict";n("44e2")},e143:function(e,t,n){"use strict";n("854d")},e195:function(e,t,n){},e1a9:function(e,t,n){},e389:function(e,t,n){"use strict";n("2f72")},e61f:function(e,t,n){"use strict";n("4819")},e836:function(e,t,n){"use strict";n("c5fa")},e970:function(e,t,n){},eb83:function(e,t,n){"use strict";n("151b")},ebc0:function(e,t,n){"use strict";n("c492")},ed08:function(e,t,n){},ed1c:function(e,t,n){"use strict";n("4d2e")},ee5a:function(e,t,n){"use strict";n("312e")},ee7c:function(e,t,n){"use strict";n("a871")},ef80:function(e,t,n){},efd3:function(e,t,n){},f1c0:function(e,t,n){},f3d3:function(e,t,n){},f47e:function(e,t,n){"use strict";n("2d38")},f482:function(e,t,n){"use strict";n("98c9")},f897:function(e,t,n){},f944:function(e,t,n){},f94a:function(e,t,n){"use strict";n("ed08")},f9c0:function(e,t,n){"use strict";n("d47d")},f9ff:function(e,t,n){},fa74:function(e,t,n){"use strict";n("3f0b")},fb0c:function(e,t,n){},fbc0:function(e,t,n){},fbe4:function(e,t,n){"use strict";n("454a")},fc1a:function(e,t,n){},fdcd:function(e,t,n){"use strict";n("5b15")},ff9c:function(e,t,n){}});
//# sourceMappingURL=app.js.map